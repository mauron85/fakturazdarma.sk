(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){"use strict";var n=a(18);a.d(t,"types",function(){return n});var r=a(200);a.o(r,"VisibilityFilters")&&a.d(t,"VisibilityFilters",function(){return r.VisibilityFilters}),a.o(r,"addItem")&&a.d(t,"addItem",function(){return r.addItem}),a.o(r,"changeInvoiceId")&&a.d(t,"changeInvoiceId",function(){return r.changeInvoiceId}),a.o(r,"checkInvoiceExists")&&a.d(t,"checkInvoiceExists",function(){return r.checkInvoiceExists}),a.o(r,"createContact")&&a.d(t,"createContact",function(){return r.createContact}),a.o(r,"createEntity")&&a.d(t,"createEntity",function(){return r.createEntity}),a.o(r,"createInvoice")&&a.d(t,"createInvoice",function(){return r.createInvoice}),a.o(r,"deleteContacts")&&a.d(t,"deleteContacts",function(){return r.deleteContacts}),a.o(r,"deleteInvoices")&&a.d(t,"deleteInvoices",function(){return r.deleteInvoices}),a.o(r,"exportArchive")&&a.d(t,"exportArchive",function(){return r.exportArchive}),a.o(r,"fetchContactForm")&&a.d(t,"fetchContactForm",function(){return r.fetchContactForm}),a.o(r,"fetchContacts")&&a.d(t,"fetchContacts",function(){return r.fetchContacts}),a.o(r,"fetchInvoiceForm")&&a.d(t,"fetchInvoiceForm",function(){return r.fetchInvoiceForm}),a.o(r,"fetchInvoices")&&a.d(t,"fetchInvoices",function(){return r.fetchInvoices}),a.o(r,"importArchive")&&a.d(t,"importArchive",function(){return r.importArchive}),a.o(r,"logIn")&&a.d(t,"logIn",function(){return r.logIn}),a.o(r,"removeItem")&&a.d(t,"removeItem",function(){return r.removeItem}),a.o(r,"saveContact")&&a.d(t,"saveContact",function(){return r.saveContact}),a.o(r,"saveInvoice")&&a.d(t,"saveInvoice",function(){return r.saveInvoice}),a.o(r,"updateContactForm")&&a.d(t,"updateContactForm",function(){return r.updateContactForm}),a.o(r,"updateInvoiceForm")&&a.d(t,"updateInvoiceForm",function(){return r.updateInvoiceForm});var i=a(76);a.d(t,"createContact",function(){return i.a}),a.d(t,"deleteContacts",function(){return i.b}),a.d(t,"fetchContactForm",function(){return i.c}),a.d(t,"fetchContacts",function(){return i.d}),a.d(t,"saveContact",function(){return i.e}),a.d(t,"updateContactForm",function(){return i.f});var o=a(139);a.d(t,"addItem",function(){return o.a}),a.d(t,"changeInvoiceId",function(){return o.b}),a.d(t,"checkInvoiceExists",function(){return o.c}),a.d(t,"createEntity",function(){return o.d}),a.d(t,"createInvoice",function(){return o.e}),a.d(t,"deleteInvoices",function(){return o.f}),a.d(t,"fetchInvoiceForm",function(){return o.g}),a.d(t,"fetchInvoices",function(){return o.h}),a.d(t,"removeItem",function(){return o.i}),a.d(t,"saveInvoice",function(){return o.j}),a.d(t,"updateInvoiceForm",function(){return o.k});var c=a(202);a.d(t,"logIn",function(){return c.a});var s=a(203);a.d(t,"VisibilityFilters",function(){return s.a});var l=a(255);a.d(t,"exportArchive",function(){return l.a}),a.d(t,"importArchive",function(){return l.b})},111:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(19),r=a(28),i=a(25),o=a(27),c=a(277),s=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).name=a.constructor.name,a}return Object(o.a)(t,e),t}(Object(c.a)(Error))},120:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(19),r=a(21),i=function(){function e(t){Object(n.a)(this,e),this.name="",this.unit="kus",this.pricePerUnit=0,this.amount=0,this.taxRate=20,Object.assign(this,t)}return Object(r.a)(e,[{key:"netPrice",get:function(){return this.pricePerUnit*this.amount}},{key:"grossPrice",get:function(){return this.netPrice+this.taxPrice}},{key:"taxPrice",get:function(){return this.netPrice/100*this.taxRate}}]),e}()},139:function(e,t,a){"use strict";var n=a(17),r=a(60),i=a(42),o=a(18),c=a(47),s=a(76),l=a(61),u=a(32),d=a(94),m=a(111);a.d(t,"e",function(){return p}),a.d(t,"h",function(){return v}),a.d(t,"g",function(){return f}),a.d(t,"c",function(){return E}),a.d(t,"k",function(){return h}),a.d(t,"a",function(){return y}),a.d(t,"i",function(){return b}),a.d(t,"j",function(){return I}),a.d(t,"b",function(){return g}),a.d(t,"f",function(){return O}),a.d(t,"d",function(){return S});var p=function(e){return function(t,a){var n,o,c=a().invoices,s=(new Date).getFullYear(),l=String(s),u=c.reduce(function(e,t){var a=Object(i.a)(e,2),n=a[0],r=a[1],o=t.id;if(o&&o.startsWith(l)){r++;var c=parseInt(o.slice(l.length),10);c>n&&(n=c)}return[n,r]},[0,0]);e.push("/invoices/".concat(s).concat((n=Math.max.apply(Math,Object(r.a)(u))+1,Array(3-String(n).length+1).join(o||"0")+n)))}},v=function(){return function(e){return e({type:o.INVOICES_FETCH,payload:{}}),c.default.getInvoices().then(function(t){return e({type:o.INVOICES_FETCH_SUCCESS,payload:t}),t},function(t){throw e({type:o.INVOICES_FETCH_FAILURE,payload:t}),t})}},f=function(e){return function(t,a){var n=a(),r=n.invoices,i=n.invoiceUI,s=i.fields;i.isDraft&&s.id&&s.id.value===e?console.log("Skip form fetch"):Promise.resolve(r.find(function(t){return t.id===e})).then(function(a){return a||t(function(e){return function(t){return t({type:o.INVOICE_FETCH,payload:{}}),c.default.getInvoice(e).then(function(a){if(!a)throw new m.a("Fakt\xfara `".concat(e,"` sa nena\u0161la!"));return t({type:o.INVOICE_FETCH_SUCCESS,payload:a}),a}).catch(function(e){throw t({type:o.INVOICE_FETCH_FAILURE,payload:e}),e})}}(e)).catch(function(t){if(t instanceof m.a)return{id:e};throw t})}).then(function(e){e=new u.a(e);var a,n=(new d.a).toFields(e),r=(a=Math.max(1,e.items.length),Array.from({length:Math.max(0,a)},function(e,t){return t}));return t(h({},n,r))})}},E=function(e){return function(t,a){var n=a().invoices.find(function(t){return t.id===e});return Promise.resolve(!!n)}},h=function(e,t,a){return function(n,r){var i={fields:t};if(e.emitent){var c=r().contacts.find(function(t){return e.emitent.value===t.id});c&&(i.fields.type={value:new l.a(c).isTaxable?u.b.Taxable:u.b.NonTax})}a&&(i.itemKeys=a),n({type:o.INVOICE_FORM_REPLACE,payload:i})}},y=function(e){return function(e,t){var a=t().invoiceUI.itemKeys;a=[].concat(Object(r.a)(a),[0===a.length?0:a[a.length-1]+1]),e({type:o.INVOICE_FORM_REPLACE,payload:{itemKeys:a}})}},b=function(e,t){return function(e,a){var r=a().invoiceUI,i=r.itemKeys,c=r.fields;if(1===i.length)return!1;["itemsNames","pricesPU","units","amounts","taxRates","itemKeys"].forEach(function(e){c.hasOwnProperty(e)&&delete c[e][t]}),i=i.filter(function(e){return e!==t}),e({type:o.INVOICE_FORM_REPLACE,payload:{itemKeys:i,fields:Object(n.a)({},c)}})}},C=function(e,t,a){var r=a.contacts,i=a.invoices,o=(new d.a).fromValues(e,t),c=r.find(function(t){return e.emitent===t.id}),s=r.find(function(t){return e.recipient===t.id});if(!c||!s){var l=i.find(function(e){return e.id===o.id});l&&(c=c||l.emitent,s=s||l.recipient)}return new u.a(Object(n.a)({},o,{emitent:c,recipient:s}))},I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n,r){var i=C(e,t,r());return n({type:o.INVOICE_SAVE,payload:{isDraft:a}}),c.default.saveInvoice(i).then(function(e){return e=new u.a(e),n({type:o.INVOICE_SAVE_SUCCESS,payload:e}),e},function(e){throw n({type:o.INVOICE_SAVE_FAILURE,payload:e}),e})}},g=function(e,t,a,n){return function(r,i){var s=C(t,a,i()),l=s.id;return s.id=e,r({type:o.INVOICE_SAVE,payload:{}}),c.default.saveInvoice(s).then(function(e){return n.replace("/invoices/".concat(e.id)),l!==e.id&&r(O([l])),new u.a(e)}).then(function(e){r({type:o.INVOICE_SAVE_SUCCESS,payload:e})}).catch(function(e){throw r({type:o.INVOICE_SAVE_FAILURE,payload:e}),e})}},O=function(e){return function(t){return t({type:o.INVOICES_DELETE,payload:e}),c.default.deleteInvoices(e).then(function(e){t({type:o.INVOICES_DELETE_SUCCESS,payload:e})},function(e){throw t({type:o.INVOICES_DELETE_FAILURE,payload:e}),e})}},S=function(e,t,a,n){return function(r){return r(I(e,t,!0)).then(function(){return r(Object(s.a)(n,a))})}}},140:function(e,t,a){"use strict";function n(e){var t=String(e).toUpperCase().replace(/[^A-Z0-9]/g,""),a=t.match(/^([A-Z]{2})(\d{2})([A-Z\d]+)$/);return!(!a||t.length!=={AD:24,AE:23,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,CH:21,CR:21,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,ES:24,FI:18,FO:18,FR:27,GB:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IS:26,IT:27,JO:30,KW:30,KZ:20,LB:28,LI:21,LT:20,LU:20,LV:21,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SE:24,SI:19,SK:24,SM:27,TN:24,TR:26}[a[1]])&&function(e){for(var t=parseInt(e.slice(0,2)),a=2;a<e.length;a+=7){var n=String(t)+e.substring(a,a+7);t=parseInt(n,10)%97}return t}((a[3]+a[1]+a[2]).replace(/[A-Z]/g,function(e){return String(e.charCodeAt(0)-55)}))}a.d(t,"a",function(){return n})},18:function(e,t,a){"use strict";a.r(t),a.d(t,"LOG_IN",function(){return n}),a.d(t,"LOG_IN_SUCCESS",function(){return r}),a.d(t,"LOG_IN_FAILURE",function(){return i}),a.d(t,"LOG_OUT",function(){return o}),a.d(t,"CONTACT_CREATE",function(){return c}),a.d(t,"CONTACT_FETCH",function(){return s}),a.d(t,"CONTACT_FETCH_SUCCESS",function(){return l}),a.d(t,"CONTACT_FETCH_FAILURE",function(){return u}),a.d(t,"CONTACTS_FETCH",function(){return d}),a.d(t,"CONTACTS_FETCH_SUCCESS",function(){return m}),a.d(t,"CONTACTS_FETCH_FAILURE",function(){return p}),a.d(t,"CONTACT_FORM_REPLACE",function(){return v}),a.d(t,"CONTACT_FORM_TOGGLE",function(){return f}),a.d(t,"CONTACT_SAVE",function(){return E}),a.d(t,"CONTACT_SAVE_SUCCESS",function(){return h}),a.d(t,"CONTACT_SAVE_FAILURE",function(){return y}),a.d(t,"CONTACTS_DELETE",function(){return b}),a.d(t,"CONTACTS_DELETE_SUCCESS",function(){return C}),a.d(t,"CONTACTS_DELETE_FAILURE",function(){return I}),a.d(t,"INVOICE_FETCH",function(){return g}),a.d(t,"INVOICE_FETCH_SUCCESS",function(){return O}),a.d(t,"INVOICE_FETCH_FAILURE",function(){return S}),a.d(t,"INVOICES_FETCH",function(){return k}),a.d(t,"INVOICES_FETCH_SUCCESS",function(){return T}),a.d(t,"INVOICES_FETCH_FAILURE",function(){return F}),a.d(t,"INVOICE_FORM_REPLACE",function(){return N}),a.d(t,"INVOICE_SAVE",function(){return A}),a.d(t,"INVOICE_SAVE_SUCCESS",function(){return _}),a.d(t,"INVOICE_SAVE_FAILURE",function(){return j}),a.d(t,"INVOICES_DELETE",function(){return P}),a.d(t,"INVOICES_DELETE_SUCCESS",function(){return w}),a.d(t,"INVOICES_DELETE_FAILURE",function(){return z}),a.d(t,"ARCHIVE_IMPORT",function(){return R}),a.d(t,"ARCHIVE_IMPORT_SUCCESS",function(){return D}),a.d(t,"ARCHIVE_IMPORT_FAILURE",function(){return x}),a.d(t,"ARCHIVE_EXPORT",function(){return V}),a.d(t,"ARCHIVE_EXPORT_SUCCESS",function(){return U}),a.d(t,"ARCHIVE_EXPORT_FAILURE",function(){return L}),a.d(t,"SET_VISIBILITY_FILTER",function(){return M});var n="LOG_IN",r="LOG_IN_SUCCESS",i="LOG_IN_FAILURE",o="LOG_OUT",c="CONTACT_CREATE",s="CONTACT_FETCH",l="CONTACT_FETCH_SUCCESS",u="CONTACT_FETCH_FAILURE",d="CONTACTS_FETCH",m="CONTACTS_FETCH_SUCCESS",p="CONTACTS_FETCH_FAILURE",v="CONTACT_FORM_UPDATE",f="CONTACT_FORM_TOGGLE",E="CONTACT_SAVE",h="CONTACT_SAVE_SUCCESS",y="CONTACT_SAVE_FAILURE",b="CONTACTS_DELETE",C="CONTACTS_DELETE_SUCCESS",I="CONTACTS_DELETE_FAILURE",g="INVOICE_FETCH",O="INVOICE_FETCH_SUCCESS",S="INVOICE_FETCH_FAILURE",k="INVOICES_FETCH",T="INVOICES_FETCH_SUCCESS",F="INVOICES_FETCH_FAILURE",N="INVOICE_FORM_REPLACE",A="INVOICE_SAVE",_="INVOICE_SAVE_SUCCESS",j="INVOICE_SAVE_FAILURE",P="INVOICES_DELETE",w="INVOICES_DELETE_SUCCESS",z="INVOICES_DELETE_FAILURE",R="ARCHIVE_IMPORT",D="ARCHIVE_IMPORT_SUCCESS",x="ARCHIVE_IMPORT_FAILURE",V="ARCHIVE_EXPORT",U="ARCHIVE_EXPORT_SUCCESS",L="ARCHIVE_EXPORT_FAILURE",M="SET_VISIBILITY_FILTER"},200:function(e,t){},201:function(e,t){},202:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(18),r=a(47),i=a(76),o=function(e,t,a){return function(a){return a({type:n.LOG_IN,payload:{}}),r.default.doLogin(e,t).then(function(){a({type:n.LOG_IN_SUCCESS,payload:{}}),Object(i.d)()}).catch(function(e){throw a({type:n.LOG_IN_FAILURE,payload:e}),e})}}},203:function(e,t,a){"use strict";a.d(t,"a",function(){return n});a(18);var n={SHOW_ALL:"SHOW_ALL",SHOW_COMPLETED:"SHOW_COMPLETED",SHOW_ACTIVE:"SHOW_ACTIVE"}},255:function(e,t,a){"use strict";var n=a(42),r=a(16),i=a.n(r),o=a(18),c=a(76),s=a(139),l=a(47),u=function(){var e=document.createElement("a");return e.style.display="none",document.body.appendChild(e),function(t,a){var n=window.URL.createObjectURL(t);e.href=n,e.download=a,e.click(),window.URL.revokeObjectURL(n)}}();a.d(t,"b",function(){return d}),a.d(t,"a",function(){return m});var d=function(e){return function(t){t({type:o.ARCHIVE_IMPORT,payload:{}});try{var a=JSON.parse(e);if(!Array.isArray(a.contacts)||!Array.isArray(a.invoices))throw new Error("Neplatn\xfd typ arch\xedvu");return Promise.all([l.default.saveContacts(a.contacts),l.default.saveInvoices(a.invoices)]).then(function(e){var a=Object(n.a)(e,2),r=a[0],i=a[1];return t({type:o.ARCHIVE_IMPORT_SUCCESS,payload:{contacts:r,invoices:i}})}).catch(function(e){throw console.log(e),t({type:o.ARCHIVE_IMPORT_FAILURE,payload:new Error("Nastala chyba pri importe arch\xedvu!")}),e})}catch(r){return console.log(r),t({type:o.ARCHIVE_IMPORT_FAILURE,payload:new Error("Nastala chyba pri importe arch\xedvu!")}),Promise.reject(r)}}},m=function(){return function(e){return e({type:o.ARCHIVE_EXPORT,payload:{}}),Promise.all([e(Object(c.d)()),e(Object(s.h)())]).then(function(t){var a=Object(n.a)(t,2),r=a[0],c=a[1];e({type:o.ARCHIVE_EXPORT_SUCCESS,payload:{}});var s=new Blob([JSON.stringify({contacts:r,invoices:c})],{type:"application/json"});u(s,"fz_".concat(i()().format("YYYY-MM-DD_HH-mm-ss"),".json"))}).catch(function(t){throw e({type:o.ARCHIVE_EXPORT_FAILURE,payload:t}),t})}}},258:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(19),r=a(21),i=function(e){return new Promise(function(t){return setTimeout(t,e)})},o=function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!!a&&"function"===typeof a.value},c=function(e,t){for(var a=[],n=Object.getPrototypeOf(e);n&&n!==t;)Object.getOwnPropertyNames(n).forEach(function(e){"constructor"!==e&&o(n,e)&&a.push(e)}),n=Object.getPrototypeOf(n);return a},s=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(n.a)(this,e),this.client=t,this.delayInMillis=a,this.skipMethods=r;var o=this;c(t,Object.prototype).forEach(function(e){r.some(function(t){return t instanceof RegExp?t.test(e):e===t})||(o[e]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i(a).then(function(){return t[e].apply(t,r)})})})}return Object(r.a)(e,[{key:"setDelay",value:function(e){var t=this.client;return(new l).setClient(t).setDelay(e).skipMethods(this.skipMethods).build()}}]),e}(),l=function(){function e(){Object(n.a)(this,e),this.client=void 0,this.delay=0,this._skipMethods=[]}return Object(r.a)(e,[{key:"setClient",value:function(e){return this.client=e,this}},{key:"setDelay",value:function(e){return this.delay=e,this}},{key:"skipMethods",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return this._skipMethods=e,this})},{key:"build",value:function(){return new s(this.client,this.delay,this._skipMethods)}}]),e}()},278:function(e,t,a){"use strict";var n=a(19),r=a(21),i=a(32),o=[{id:"1",entity:"GP Slovakia",name:"Katar\xedna Slobodov\xe1",email:"invoice@gp.svk",phoneNr:"0970234654",street:"Michalsk\xe1 13",city:"Bratislava",zipCode:"811 03",country:"Slovensko",legalId:"45923099",taxId:"1627435979",iban:"SK7548161192967983361238",bankAccount:"1192967983361238",bankName:"Tatra Banka",bankCode:"1100",swift:"TATRSKBX",isOwn:!0},{id:"2",entity:"Etrix Slovakia",name:"Jozef Kov\xe1\u010d",email:"invoice@etrix.svk",phoneNr:"0989447329",street:"Antona Pr\xeddavka 26",city:"Pre\u0161ov",zipCode:"08001",country:"Slovensko",legalId:"25537359",taxId:"0627536219",taxLegalId:"SK379324241",iban:"SK8949968412396661421327",bankAccount:"8412396661421327",bankName:"UniCredit Bank",bankCode:"1111",swift:"UNCRSKBX",isOwn:!0}],c=[{id:"2019001",type:1,paymentType:i.c.WireTransfer,description:"Fakt\xfara za slu\u017eby",emitent:o[0],recipient:o[1],discount:5,items:[{name:"Notebook HP Elite",pricePerUnit:1399,unit:"kus",amount:1}],variableSymbol:"2019001",constantSymbol:"0308",issueDate:new Date(2019,4,1),dueDate:new Date(2019,4,15),paymentDate:new Date(2019,4,13),finalText:"\u010eakujeme za d\xf4veru."},{id:"2019002",type:2,paymentType:i.c.Card,description:"Fakt\xfara za slu\u017eby",emitent:o[1],recipient:o[0],items:[{name:"Eset Smart Security",pricePerUnit:66,unit:"kus",amount:12,taxRate:20}],variableSymbol:"2019002",constantSymbol:"0308",issueDate:new Date(2019,4,3),dueDate:new Date(2019,4,18),finalText:"Softv\xe9rov\xe1 licencia je neprenosn\xe1."}];a.d(t,"a",function(){return s});var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage;Object(n.a)(this,e),this.storage=t}return Object(r.a)(e,[{key:"doLogin",value:function(e,t){return Promise.resolve(!0)}},{key:"saveContact",value:function(t){if(!t||!t.id)return Promise.reject(new Error("Ch\xfdba id. fakt\xfary!"));var a=this.getContactSync(),n=a.findIndex(function(e){return e.id===t.id});return n>-1?a[n]=t:a.push(t),this.storage.setItem(e.CONTACTS_KEY,JSON.stringify(a)),Promise.resolve(t)}},{key:"saveContacts",value:function(t){return this.storage.setItem(e.CONTACTS_KEY,JSON.stringify(t)),Promise.resolve(t)}},{key:"getContact",value:function(e){return this.getContacts().then(function(t){return t.find(function(t){return t.id===e})||null})}},{key:"getContacts",value:function(){return Promise.resolve(this.getContactSync())}},{key:"deleteContacts",value:function(t){var a=this.getContactSync().filter(function(e){return!t.includes(e.id)});return this.storage.setItem(e.CONTACTS_KEY,JSON.stringify(a)),Promise.resolve(Object.values(a))}},{key:"saveInvoice",value:function(t){var a=this.getInvoiceSync();if(t.id){var n=a.findIndex(function(e){return e.id===t.id});n>-1?a[n]=t:a.push(t)}else t.id=String(Object.keys(a).length+1),a.push(t);return this.storage.setItem(e.INVOICES_KEY,JSON.stringify(a)),Promise.resolve(t)}},{key:"saveInvoices",value:function(t){return this.storage.setItem(e.INVOICES_KEY,JSON.stringify(t)),Promise.resolve(t)}},{key:"getInvoice",value:function(e){return this.getInvoices().then(function(t){return t.find(function(t){return t.id===e})||null})}},{key:"getInvoices",value:function(){return Promise.resolve(this.getInvoiceSync())}},{key:"deleteInvoices",value:function(t){var a=this.getInvoiceSync().filter(function(e){return!t.includes(e.id)});return this.storage.setItem(e.INVOICES_KEY,JSON.stringify(a)),Promise.resolve(Object.values(a))}},{key:"getInvoiceSync",value:function(){var t=this.storage.getItem(e.INVOICES_KEY);return t?JSON.parse(t):[]}},{key:"getContactSync",value:function(){var t=this.storage.getItem(e.CONTACTS_KEY);return t?JSON.parse(t):[]}}],[{key:"getInstance",value:function(){if(!this.instance){var t=this.CONTACTS_KEY,a=this.INVOICES_KEY;localStorage.getItem(t)||localStorage.setItem(t,JSON.stringify(o)),localStorage.getItem(a)||localStorage.setItem(a,JSON.stringify(c)),this.instance=new e(localStorage)}return this.instance}}]),e}();s.CONTACTS_KEY="contacts",s.INVOICES_KEY="invoices",s.instance=void 0},282:function(e,t,a){e.exports=a(540)},32:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"a",function(){return u});var n,r,i=a(42),o=a(19),c=a(21),s=a(120),l=864e5;!function(e){e[e.WireTransfer=1]="WireTransfer",e[e.Card=2]="Card",e[e.Cash=3]="Cash",e[e.CashOnDelivery=4]="CashOnDelivery"}(n||(n={})),function(e){e[e.NonTax=1]="NonTax",e[e.Taxable=2]="Taxable"}(r||(r={}));var u=function(){function e(t){Object(o.a)(this,e),this.id=void 0,this.type=r.NonTax,this.description=void 0,this.paymentType=n.WireTransfer,this.recipient=void 0,this.emitent=void 0,this.items=[],this.discount=0,this.variableSymbol="",this.constantSymbol="0308",this.orderNr=void 0,this.issueDate=void 0,this.dueDate=void 0,this.deliveryDate=void 0,this.paymentDate=void 0,this.finalText=void 0;var a=Date.now();Object.assign(this,t),this.issueDate=new Date(this.issueDate||a),this.dueDate=new Date(this.dueDate||a+15*l),this.paymentDate=this.paymentDate?new Date(this.paymentDate):void 0,this.deliveryDate=this.deliveryDate?new Date(this.deliveryDate):void 0,this.items=t&&t.items?t.items.map(function(e){return new s.a(e)}):[]}return Object(c.a)(e,[{key:"grossPrice",get:function(){if(this.type===r.NonTax)return this.items.reduce(function(e,t){return e+t.netPrice},0);if(this.type===r.Taxable){var e=this.items.reduce(function(e,t){var a=t.taxRate,n=t.netPrice;return e[a]=(e[a]||0)+n,e},{});return Object.entries(e).reduce(function(e,t){var a=Object(i.a)(t,2),n=a[0],r=a[1];return e+=r+r/100*Number(n)},0)}return Number.NaN}},{key:"discountPrice",get:function(){return-this.grossPrice/100*this.discount}},{key:"netPrice",get:function(){return this.grossPrice+this.discountPrice}}]),e}()},40:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return c}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return l});var n=a(191),r=a.n(n),i=a(140),o=new Intl.NumberFormat("sk-SK",{style:"currency",currency:"EUR"}),c=Intl.DateTimeFormat("sk-SK"),s=function(e){if(1===Object(i.a)(e)){var t=new r.a("UUAA AAAA AAAA AAAA AAAA AAAA").process(e),a=t.result;return t.valid?a:e}return e},l=function(e){if("string"!==typeof e)return e;var t=e.toUpperCase().replace(/[^A-Z0-9]/g,"");if(5!==t.length)return e;var a=new r.a("000 00").process(t),n=a.result;return a.valid?n:e}},47:function(e,t,a){"use strict";var n=a(278),r=a(258),i=(a(201),(new r.a).setClient(n.a.getInstance()).setDelay(500).skipMethods([/.*Sync/]).build());t.default=i},475:function(e,t,a){},487:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},536:function(e,t,a){},540:function(e,t,a){"use strict";a.r(t);a(283);var n=a(273),r=a(0),i=a.n(r),o=a(10),c=a.n(o),s=a(71),l=a(96),u=a(77),d=a(44),m=a(257),p=a(274),v=a.n(p),f=(a(198),a(63)),E=a(19),h=a(21),y=a(28),b=a(25),C=a(27),I=(a(199),a(82)),g=a(11),O=(a(253),a(150)),S=(a(56),a(26)),k=(a(115),a(39)),T=a(40),F=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).hideSavingProgressMessage=null,a.state={selectedRowKeys:[]},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleDelete=function(){var e=a.state.selectedRowKeys;a.props.onDelete(e)},a.handleCreateNewInvoice=function(){a.props.onCreate(a.props.history)},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillUpdate",value:function(e){var t=this.props.ui.isSaving,a=e.ui.isSaving;!a&&t?(this.hideMessage(),k.a.success("Zmeny boli ulo\u017een\xe9",1),this.setState({selectedRowKeys:[]})):a&&(this.hideMessage(),this.hideSavingProgressMessage=k.a.loading("Prebieha ukladanie...",0))}},{key:"componentWillUnmount",value:function(){this.hideMessage()}},{key:"hideMessage",value:function(){this.hideSavingProgressMessage&&this.hideSavingProgressMessage(),this.hideSavingProgressMessage=null}},{key:"render",value:function(){var e=this.props,t=e.invoices,a=e.ui,n=this.state.selectedRowKeys,r={selectedRowKeys:n,onChange:this.onSelectChange},o=n.length>0;return i.a.createElement("div",null,i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(S.a,{type:"primary",icon:"form",size:"large",onClick:this.handleCreateNewInvoice},"Vystavi\u0165"),i.a.createElement(S.a,{icon:"delete",size:"large",disabled:!o,onClick:this.handleDelete},"Vymaza\u0165")),i.a.createElement("div",{className:"fz-page-list"},i.a.createElement(O.a,{className:"fz-table",rowKey:"id",dataSource:t,columns:N,rowSelection:r,loading:a.isFetching,scroll:{x:"max-content"}})))}}]),t}(r.Component),N=[{title:"Id. dokladu",dataIndex:"id",key:"id",render:function(e){return i.a.createElement("a",{href:"#/invoices/".concat(e)},e)}},{title:"Popis",className:"fz-table-col fz-table-col--wide",dataIndex:"description",key:"description"},{title:"Odberate\u013e",className:"fz-table-col fz-table-col--wide",dataIndex:"recipient.entity",key:"recipient"},{title:"Suma",dataIndex:"netPrice",key:"netPrice",render:function(e){return T.a.format(e)}},{title:"D\xe1tum vystavenia",dataIndex:"issueDate",key:"issueDate",render:function(e){return T.b.format(new Date(e))}},{title:"Splatnos\u0165",dataIndex:"dueDate",key:"dueDate",render:function(e){return T.b.format(new Date(e))}}],A=a(32),_=Object(l.f)(Object(d.b)(function(e){return{invoices:function(e,t){switch(t){case g.VisibilityFilters.SHOW_ALL:return e;case g.VisibilityFilters.SHOW_COMPLETED:return e.filter(function(e){return e.completed});case g.VisibilityFilters.SHOW_ACTIVE:return e.filter(function(e){return!e.completed});default:return e}}(e.invoices,e.visibilityFilter).map(function(e){return new A.a(e)}).sort(function(e,t){return t.issueDate.getTime()-e.issueDate.getTime()}),ui:e.ui}},function(e){return{onCreate:function(t){e(Object(g.createInvoice)(t))},onDelete:function(t){e(Object(g.deleteInvoices)(t))}}})(F)),j=a(60),P=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).hideSavingProgressMessage=null,a.state={selectedRowKeys:[]},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.onCreate=function(){a.props.onCreate(a.props.history)},a.onDelete=function(){var e=a.state.selectedRowKeys;a.props.onDelete(e)},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillUpdate",value:function(e){var t=this.props.ui.isSaving,a=e.ui.isSaving;!a&&t?(this.hideMessage(),k.a.success("Zmeny boli ulo\u017een\xe9",1),this.setState({selectedRowKeys:[]})):a&&(this.hideMessage(),this.hideSavingProgressMessage=k.a.loading("Prebieha ukladanie...",0))}},{key:"componentWillUnmount",value:function(){this.hideMessage()}},{key:"hideMessage",value:function(){this.hideSavingProgressMessage&&this.hideSavingProgressMessage(),this.hideSavingProgressMessage=null}},{key:"render",value:function(){var e=this.props,t=e.contacts,a=e.ui,n=this.state.selectedRowKeys,r={selectedRowKeys:n,onChange:this.onSelectChange},o=n.length>0;return i.a.createElement("div",null,i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(S.a,{type:"primary",icon:"form",size:"large",onClick:this.onCreate},"Prida\u0165"),i.a.createElement(S.a,{icon:"delete",size:"large",disabled:!o,onClick:this.onDelete},"Vymaza\u0165")),i.a.createElement("div",{className:"fz-page-list"},i.a.createElement(O.a,{rowKey:"id",dataSource:t,columns:w,rowSelection:r,loading:a.isFetching,scroll:{x:"max-content"}})))}}]),t}(r.Component),w=[{title:"N\xe1zov",dataIndex:"entity",key:"entity",render:function(e,t){return i.a.createElement("a",{href:"#/contacts/".concat(t.id)},e)}},{title:"Meno",dataIndex:"name",key:"name"},{title:"E-mail",dataIndex:"email",key:"email"},{title:"Telef\xf3n",dataIndex:"phoneNr",key:"phoneNr"}],z=Object(d.b)(function(e){var t=function(e,t){switch(t){case g.VisibilityFilters.SHOW_ALL:return e;case g.VisibilityFilters.SHOW_COMPLETED:return e.filter(function(e){return e.completed});case g.VisibilityFilters.SHOW_ACTIVE:return e.filter(function(e){return!e.completed});default:return e}}(e.contacts,e.visibilityFilter);return console.log(t),{contacts:Object(j.a)(t),ui:e.ui}},function(e){return{onCreate:function(t){e(Object(g.createContact)(t))},onDelete:function(t){e(Object(g.deleteContacts)(t))}}})(P),R=a(17),D=(a(441),a(279)),x=(a(254),a(151)),V=(a(89),a(7)),U=(a(447),a(276)),L=a(148),M=a.n(L),B=a(42),K=(a(541),a(155)),H=(a(234),a(113)),q=(a(90),a(33)),W=(a(91),a(23)),G=(a(75),a(8)),X=(a(158),a(49)),Y=(a(74),a(24)),Z=(a(238),a(114)),J=a(152),$=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("span",null,this.props.value)}}]),t}(r.Component),Q=function(e){var t=e.children,a=Object(J.a)(e,["children"]);return i.a.createElement(G.a.Item,Object.assign({},a,{labelCol:{xs:24,sm:8,prefixCls:"fz-form-item-label"},wrapperCol:{xs:24,sm:16,prefixCls:"fz-form-item-control-wrapper"}}),t)},ee=function(e){var t=e.type,a=e.items,n=e.onItemAdd,r=e.onItemRemove,o=e.getFieldDecorator,c=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"fz-invoice-row"},i.a.createElement("h4",{className:"fz-invoice-header"},"Polo\u017eky fakt\xfary")),a.map(function(e,n){var s=a[n]||{},l=s.netPrice,u=void 0===l?0:l,d=s.taxPrice,m=void 0===d?0:d,p=s.grossPrice,v=void 0===p?0:p;return i.a.createElement("div",{key:n,className:"".concat(c++>0?"fz-invoice-item-row":"fz-invoice-item-header")},i.a.createElement("div",{className:"fz-invoice-item-col fz-invoice-item-col--name"},i.a.createElement(Q,{label:"Polo\u017eka"},o("itemsNames[".concat(n,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Vypl\u0148te n\xe1zov polo\u017eky!"}]})(i.a.createElement(Y.a,null)))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"Jednotka"},o("units[".concat(n,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Vypl\u0148te jednotku!"}]})(i.a.createElement(Y.a,null)))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"Mno\u017estvo"},o("amounts[".concat(n,"]"),{validateTrigger:["onChange"],rules:[{type:"number",min:0,required:!0,whitespace:!0,message:"Vypl\u0148te mno\u017estvo!"}]})(i.a.createElement(Z.a,{min:0,decimalSeparator:","})))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"Cena za m.j."},o("pricesPU[".concat(n,"]"),{validateTrigger:["onChange"],rules:[{type:"number",min:0,required:!0,whitespace:!0,message:"Vypl\u0148te cenu!"}]})(i.a.createElement(Z.a,{min:0,decimalSeparator:","})))),t===A.b.Taxable?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"DPH %"},o("taxRates[".concat(n,"]"),{validateTrigger:["onChange"],rules:[{type:"number",min:0,max:100,required:!0,whitespace:!0,message:"Vypl\u0148te DPH!"}]})(i.a.createElement(Z.a,{min:0,max:100,decimalSeparator:","})))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"bez DPH"},i.a.createElement($,{value:T.a.format(u)}))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"DPH"},i.a.createElement($,{value:T.a.format(m)}))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"s DPH"},i.a.createElement($,{value:T.a.format(v)})))):i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"Suma"},i.a.createElement($,{value:T.a.format(u)}))),i.a.createElement("div",{className:"fz-invoice-item-col"},i.a.createElement(Q,{label:"\xa0",colon:!1},a.length>1?i.a.createElement(V.a,{className:"fz-dynamic-delete-button",type:"minus-circle-o",onClick:function(){return r(n)}}):null)))}),i.a.createElement(q.a,null,i.a.createElement(W.a,{span:24,offset:1},i.a.createElement(G.a.Item,te,i.a.createElement(S.a,{type:"dashed",onClick:n,style:{width:"60%"}},i.a.createElement(V.a,{type:"plus"})," Pridaj polo\u017eku")))))},te={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:0}}},ae=function(e){var t=e.netPrice,a=e.grossPrice,n=e.discountPrice,r=e.getFieldDecorator;return i.a.createElement("div",{className:"fz-invoice-sums"},i.a.createElement(q.a,{className:"fz-invoice-row fz-invoice-row--sum"},i.a.createElement(W.a,{span:8},i.a.createElement(G.a.Item,Object.assign({},ne,{label:"Pred z\u013eavou"}),i.a.createElement($,{value:T.a.format(a)})))),i.a.createElement(q.a,{className:"fz-invoice-row fz-invoice-row--sum"},i.a.createElement(W.a,{span:4},i.a.createElement(G.a.Item,{label:i.a.createElement("span",null,"Z\u013eava"),wrapperCol:{span:6},labelCol:{span:6}},r("discount",{rules:[{type:"number",required:!1,min:0,max:100,message:"Ch\xfdba \xfadaj o z\u013eave!"}]})(i.a.createElement(Z.a,{min:0,max:100})))),i.a.createElement(W.a,{span:4},i.a.createElement(G.a.Item,{colon:!1,label:""},i.a.createElement($,{value:T.a.format(n)})))),i.a.createElement(q.a,{className:"fz-invoice-row fz-invoice-row--sum"},i.a.createElement(W.a,{span:8,offset:0,className:"fz-invoice-sum"},i.a.createElement(G.a.Item,Object.assign({},ne,{label:"Kone\u010dn\xe1 suma:"}),i.a.createElement($,{value:T.a.format(t)})))))},ne={labelCol:{xs:{span:12,offset:0},sm:{span:12,offset:0},lg:{span:12,offset:0}},wrapperCol:{xs:{span:12,offset:0},sm:{span:12,offset:0},lg:{span:12,offset:0}}},re=Y.a.TextArea,ie=X.a.Option,oe={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},ce={xs:24,sm:16,lg:12},se=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){a.props.onSubmit(e,a.props.form)},a.handleEntityCreate=function(e){e.preventDefault();var t=!1;e.target instanceof HTMLElement&&("emitent"===e.target.dataset.type&&(t=!0));a.props.onEntityCreate(t)},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.netPrice,n=e.grossPrice,r=e.discountPrice,o=e.contacts,c=e.constantSymbols,s=e.isSaving,l=e.onItemAdd,u=e.onItemRemove,d=e.onPdfClick,m=this.props.form,p=m.getFieldDecorator,v=m.getFieldValue;return i.a.createElement(G.a,Object.assign({},oe,{layout:"horizontal",className:"fz-invoice-form",onSubmit:this.handleSubmit}),p("id",{})(i.a.createElement(Y.a,{type:"hidden"})),p("type",{})(i.a.createElement(Y.a,{type:"hidden"})),i.a.createElement(q.a,{gutter:24,className:"fz-invoice-row"},i.a.createElement(W.a,ce,i.a.createElement(G.a.Item,{label:"Odberate\u013e"},p("recipient",{rules:[{required:!0,message:"Vyberte odberate\u013ea!"}]})(i.a.createElement(X.a,null,o.map(function(e){return i.a.createElement(ie,{key:"rcpt_".concat(e.id),value:e.id},e.entity)}))))),i.a.createElement(W.a,ce,i.a.createElement("a",{"data-type":"recipient",style:{lineHeight:"40px"},onClick:this.handleEntityCreate},i.a.createElement(V.a,{type:"plus"}),"\xa0Nov\xfd odberate\u013e"))),i.a.createElement(H.a,null),i.a.createElement(q.a,{className:"fz-invoice-row"},i.a.createElement(W.a,ce,i.a.createElement(G.a.Item,{label:"Dod\xe1vate\u013e"},p("emitent",{rules:[{required:!0,message:"Vyberte dod\xe1vate\u013ea!"}]})(i.a.createElement(X.a,null,o.reduce(function(e,t){if(t.isOwn){var a=i.a.createElement(ie,{key:"emt_".concat(t.id),value:t.id},t.entity);e.push(a)}return e},[]))))),i.a.createElement(W.a,ce,i.a.createElement("a",{"data-type":"emitent",style:{lineHeight:"40px",paddingLeft:12},onClick:this.handleEntityCreate},i.a.createElement(V.a,{type:"plus"}),"\xa0Nov\xfd dod\xe1vate\u013e"))),i.a.createElement(H.a,null),i.a.createElement(q.a,{gutter:48,className:"fz-invoice-row"},i.a.createElement(W.a,ce,i.a.createElement(G.a.Item,{label:"Sp\xf4sob \xfahrady"},p("paymentType",{rules:[{required:!0,message:"Ch\xfdbaj\xfaci sp\xf4sob \xfahrady!"}]})(i.a.createElement(X.a,null,i.a.createElement(ie,{value:A.c.WireTransfer},"Prevodom"),i.a.createElement(ie,{value:A.c.Card},"Kartou"),i.a.createElement(ie,{value:A.c.Cash},"V hotovosti"),i.a.createElement(ie,{value:A.c.CashOnDelivery},"Dobierka")))),i.a.createElement(G.a.Item,{label:"D\xe1tum vystavenia"},p("issueDate",{rules:[{required:!0,message:"Vypl\u0148te d\xe1tum vystavenia!"}]})(i.a.createElement(K.a,{format:"DD.MM.YYYY"}))),i.a.createElement(G.a.Item,{label:"D\xe1tum splatnosti"},p("dueDate",{rules:[{required:!0,message:"Ch\xfdbaj\xfaci d\xe1tum splatnosti!"}]})(i.a.createElement(K.a,{format:"DD.MM.YYYY"}))),i.a.createElement(G.a.Item,{label:"D\xe1tum dodania"},p("deliveryDate",{rules:[{required:!1,message:"Vypl\u0148te d\xe1tum dodania!"}]})(i.a.createElement(K.a,{format:"DD.MM.YYYY"})))),i.a.createElement(W.a,ce,i.a.createElement(G.a.Item,{label:"Variabiln\xfd symbol"},p("variableSymbol",{rules:[{required:!0,message:"Vypl\u0148te variabiln\xfd symbol!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"Kon\u0161tantn\xfd symbol"},p("constantSymbol",{rules:[{required:!0,message:"Vypl\u0148te kon\u0161tantn\xfd symbol!"}]})(i.a.createElement(X.a,null,c.map(function(e){var t=Object(B.a)(e,2),a=t[0],n=t[1];return i.a.createElement(ie,{key:a,value:a},a," - ",n)})))),i.a.createElement(G.a.Item,{label:"\u010c\xedslo objedn\xe1vky"},p("orderNr",{rules:[{required:!1,message:"Vypl\u0148te \u010d\xedslo objedn\xe1vky!"}]})(i.a.createElement(Y.a,null))))),i.a.createElement(q.a,{className:"fz-invoice-row"},i.a.createElement(W.a,{span:24},i.a.createElement(G.a.Item,{label:"Popis"},p("description",{rules:[{required:!1,message:"Vypl\u0148te popis!"}]})(i.a.createElement(Y.a,{placeholder:"Popis objedn\xe1vky"}))))),i.a.createElement(H.a,null),i.a.createElement(ee,{items:t,type:v("type"),getFieldDecorator:p,onItemAdd:l,onItemRemove:u}),i.a.createElement(ae,{netPrice:a,grossPrice:n,discountPrice:r,getFieldDecorator:p}),i.a.createElement(q.a,{className:"fz-invoice-row",type:"flex",justify:"start"},i.a.createElement(W.a,{span:24},i.a.createElement(G.a.Item,{label:"Text na konci fakt\xfary"},p("finalText",{rules:[{required:!1,message:"Ch\xfdba text!"}]})(i.a.createElement(re,{autosize:{minRows:4,maxRows:4}}))))),i.a.createElement(q.a,{className:"fz-invoice-row"},i.a.createElement(W.a,{span:24,style:{textAlign:"right",margin:15}},i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(S.a,{icon:"file-pdf",size:"large",onClick:d},"PDF"),i.a.createElement(S.a,{type:"primary",icon:"save",size:"large",htmlType:"submit",loading:s},"Ulo\u017ei\u0165")))))}}]),t}(r.Component),le=G.a.create({name:"invoice",onFieldsChange:function(e,t,a){e.onFieldsChange(t,a)},mapPropsToFields:function(e){var t=e.fields;return 0===Object.keys(t).length?{}:{id:G.a.createFormField(t.id),type:G.a.createFormField(t.type),recipient:G.a.createFormField(t.recipient),emitent:G.a.createFormField(t.emitent),paymentType:G.a.createFormField(t.paymentType),dueDate:G.a.createFormField(t.dueDate),issueDate:G.a.createFormField(t.issueDate),deliveryDate:G.a.createFormField(t.deliveryDate),paymentDate:G.a.createFormField(t.paymentDate),isPayed:G.a.createFormField({value:!!t.paymentDate.value}),variableSymbol:G.a.createFormField(t.variableSymbol),constantSymbol:G.a.createFormField(t.constantSymbol),orderNr:G.a.createFormField(t.orderNr),description:G.a.createFormField(t.description),finalText:G.a.createFormField(t.finalText),itemsNames:t.itemsNames&&t.itemsNames.map(function(e){return G.a.createFormField(e)}),pricesPU:t.pricesPU&&t.pricesPU.map(function(e){return G.a.createFormField(e)}),units:t.units&&t.units.map(function(e){return G.a.createFormField(e)}),amounts:t.amounts&&t.amounts.map(function(e){return G.a.createFormField(e)}),taxRates:t.taxRates&&t.taxRates.map(function(e){return G.a.createFormField(e)}),grossPrices:t.grossPrices&&t.grossPrices.map(function(e){return G.a.createFormField(e)}),taxPrices:t.taxPrices&&t.taxPrices.map(function(e){return G.a.createFormField(e)}),netPrices:t.netPrices&&t.netPrices.map(function(e){return G.a.createFormField(e)}),discount:G.a.createFormField(t.discount),grossPrice:G.a.createFormField(t.grossPrice),discountPrice:G.a.createFormField(t.discountPrice),netPrice:G.a.createFormField(t.netPrice)}},onValuesChange:function(e,t){e.onValuesChange&&e.onValuesChange(t)}})(se);var ue=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(y.a)(this,Object(b.a)(t).call(this,e))).assertUniqueId=function(e,t,n){if(!t)return n();a.props.onInvoiceCheckExists(t).then(function(e){n(!!e||void 0)})},a.assertUniqueId=function(e,t,a){var n;return function(){var r=this,i=arguments,o=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||e.apply(r,i)},t),o&&e.apply(r,i)}}(a.assertUniqueId,250,!1),a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.invoiceId;return i.a.createElement(G.a,null,i.a.createElement(G.a.Item,{hasFeedback:!0,label:"Nov\xfd identifik\xe1tor"},e("invoiceId",{rules:[{required:!0,message:"Vypl\u0148te id dokladu!"},{validator:this.assertUniqueId,message:"Id dokladu u\u017e bolo pou\u017eit\xe9!"}],initialValue:t})(i.a.createElement(Y.a,null))))}}]),t}(r.Component),de=G.a.create({name:"change_invoice_id"})(ue),me=(a(206),a(144)),pe=function(){return i.a.createElement("div",null,i.a.createElement(me.a,{size:"large"}),i.a.createElement("br",null))},ve=a(94);function fe(e){localStorage.setItem("message",JSON.stringify(e)),localStorage.removeItem("message")}var Ee=[["0008","Platby za tovar (okrem platieb pod symbolmi 010x)"],["0028","Platby za dod\xe1vky investi\u010dnej povahy"],["0038","Prostriedky na mzdy"],["0058","Pen\xe1le, poplatky z ome\u0161kania, in\xe9 majetkov\xe9 sankcie, n\xe1hrady \u0161k\xf4d"],["0068","Prevody prostriedkov na mzdy a ostatn\xe9 osobn\xe9 n\xe1klady"],["0078","Tr\u017eby za predan\xfd tovar a poskytnut\xe9 stravovanie"],["0108","Platby za po\u013enohospod\xe1rske v\xfdrobky"],["0138","Zr\xe1\u017eky z miezd"],["0158","Hospod\xe1rsko operat\xedvne v\xfddavky"],["0168","Spl\xe1tky \xfaverov a p\xf4\u017ei\u010diek"],["0178","Tr\u017eby za poskytnut\xe9 slu\u017eby"],["0308","Platby za slu\u017eby"],["0358","Platby ur\u010den\xe9 na v\xfdplaty v hotovosti prostredn\xedctvom p\xf4\u0161t"],["0558","Finan\u010dn\xe9 platby ostatn\xe9"],["0858","Prechodne poskytnut\xe9 p\xf4\u017ei\u010dky"],["0938","D\xe1vky soci\xe1lneho zabezpe\u010denia"],["0968","Ostatn\xe9 prevody medzi \xfa\u010dtami toho ist\xe9ho klienta"],["1018","Pr\xedjmy z podnikania a vlastn\xedctva majetku - vo vz\u0165ahu k \u0160R"],["1118","Administrat\xedvne a in\xe9 poplatky a platby - vo vz\u0165ahu k \u0160R"],["1144","Be\u017en\xe1 z\xe1loha dane"],["1144","Platba be\u017en\xe1, preddavok na da\u0148"],["1148","Be\u017en\xe1 z\xe1loha dane"],["1318","Pr\xedjmy zo spl\xe1c. p\xf4\u017ei\u010d. poskytnut\xfdch zo \u0160R a z predaja \xfa\u010das. majetku \u0161t\xe1tu"],["1344","Do\xfa\u010dtovanie dan\xed za predch\xe1dzaj\xface zda\u0148ovacie obdobie"],["1348","Do\xfa\u010dtovanie dan\xed za predch\xe1dzaj\xface zda\u0148ovacie obdobie"],["1548","Dodato\u010dn\xe9 da\u0148ov\xe9 priznanie"],["1744","Vy\xfa\u010dtovanie dane za posledn\xe9 zda\u0148ovacie obdobie DPFO a DPPO"],["1748","Vy\xfa\u010dtovanie dane za posledn\xe9 zda\u0148ovacie obdobie (DPFO, DPPO)"],["1944","Z\xfa\u010dtovanie rozdielov preddavkov dane z pr\xedjmu zo z\xe1vislej \u010dinnosti, dane vyberanej zr\xe1\u017ekou a zabezpe\u010den\xed dane"],["1948","Z\xfa\u010dt. rozdielov predd. na da\u0148 z pr\xedjmov zo z\xe1v. \u010dinnosti, zr\xe1\u017eky dan\xed"],["2018","Ostatn\xe9 pr\xedjmy vo vz\u0165ahu k \u0160R"],["2058","N\xe1kup cenn\xfdch papierov (akcie, dlhopisy, zmenky)"],["2144","Dodato\u010dne vyruben\xe1 da\u0148"],["2148","Dodato\u010dne vyruben\xe1 da\u0148"],["2558","\xdahrady poistn\xfdch plnen\xed pois\u0165ov\u0148ami"],["2848","Pau\u0161. da\u0148 pod\u013ea \xa715Z.\u010d. 366/1999 Z.z. o dan. z pr\xedjmov"],["3058","Predaj cenn\xfdch papierov"],["3118","Poistn\xe9 a pr\xedspevok zamestn\xe1vate\u013ea do pois\u0165ovn\xed a N\xdaP"],["3148","Pen\xe1le z kontroly"],["3344","Sank\u010dn\xfd \xfarok, pen\xe1le"],["3348","Pen\xe1le zo spr\xe1vy"],["3548","Pen\xe1le vyruben\xe9 da\u0148ov\xfdmi organmi z kontroly"],["3558","Platby poistn\xe9ho pois\u0165ovniam"],["3718","N\xe1jomn\xe9 za pren\xe1jom - vo vz\u0165ahu k \u0160R"],["3748","Pen\xe1le vyruben\xe9 da\u0148ov\xfdmi org\xe1nmi zo spr\xe1vy"],["4058","Vypl\xe1canie v\xfdnosov z cenn. papierov, splatnos\u0165 menovitej hodnoty"],["4948","Vr\xe1tenie dane - nepriame dane"],["5058","Ostatn\xe9 obchody s cenn\xfdmi papiermi"],["5118","Spl\xe1canie \xfarokov a ostatn\xe9 platby s\xfavisiace s \xfavermi - vo vz\u0165ahu k \u0160R"],["5144","Zv\xfd\u0161enie dane"],["5148","Zv\xfd\u0161enie dane"],["5344","Nadmern\xfd odpo\u010det"],["5348","N\xe1rok na odpo\u010det dane"],["5748","Dodato\u010dn\xe9 da\u0148ov\xe9 priznanie"],["5918","Spl\xe1canie dom. istiny, spl\xe1c. v\xfdnosy z cenn\xfdch papierov - vo vz\u0165ahu k \u0160R"],["5944","Zv\xfd\u0161enie dane - da\u0148ov\xe1 in\u0161pekcia"],["5948","Zv\xfd\u0161enie dane - da\u0148ov\xe1 in\u0161pekcia"],["6144","Dodato\u010dn\xe1 platba z da\u0148ovej in\u0161pekcie"],["6148","Dodato\u010dn\xe1 platba z da\u0148ovej in\u0161pekcie"],["6344","Pokuta z kontroly"],["6348","Pokuta z kontroly"],["6544","Pokuta zo spr\xe1vy"],["6548","Pokuta zo spr\xe1vy"],["6744","Pokuty vyruben\xe9 da\u0148ovou in\u0161pekciou"],["6748","Pokuty vyruben\xe9 da\u0148ovou in\u0161pekciou"],["6948","Pokuty vyruben\xe9 da\u0148ov\xfdm org\xe1nom, kt. nie s\xfa pr\xedjmom osobn\xe9ho \xfa\u010dtu \u0160R"],["7144","Sank\u010dn\xfd \xfarok z da\u0148ovej in\u0161pekcie"],["7148","Pen\xe1le z da\u0148ovej in\u0161pekcie"],["7344","\xdarok pri odklade platenia"],["7348","\xdarok pri odklade platenia"],["7544","Exeku\u010dn\xe9 n\xe1klady"],["7548","Exeku\u010dn\xe9 n\xe1klady"],["7748","\xdarok platen\xfd da\u0148ov\xe9mu subjektu za oneskorenie vr\xe1tenia preplatku"],["7944","Blokov\xe9 pokuty vyruben\xe9 da\u0148ov\xfdm \xfaradom"],["7948","Blokov\xe9 pokuty vyruben\xe9 da\u0148ov\xfdm \xfaradom"],["8144","Platba (\xfa\u010dtovan\xe1 s\xfa\u010dasne s predpisom)"],["8148","Platba (\xfa\u010dtovan\xe1 s\xfa\u010dasne s predpisom)"],["8748","Platba na vyrovnanie preplatku"]],he=(a(475),function(e){function t(){var e,n;Object(E.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(i)))).formRef=void 0,n.changeIdFormRef=void 0,n.state={isChangeIdModalVisible:!1},n.handleSubmit=function(e,t){e.preventDefault();var a=t.getFieldsValue(),r=k.a.loading("Uklad\xe1m fakt\xfaru...",0);n.props.onSave(a,n.props.itemKeys).then(r).catch(function(e){r(),k.a.error(e.message)})},n.handleItemAdd=function(){n.props.onItemAdd(n.props.invoiceId)},n.handleItemRemove=function(e){n.props.onItemRemove(n.props.invoiceId,e)},n.handleFieldsChange=function(e,t){n.props.onFieldsChange(e,t)},n.handleEntityCreate=function(e){var t=n.formRef.props.form.getFieldsValue();n.props.onEntityCreate(t,n.props.itemKeys,e,n.props.history)},n.showChangeIdModal=function(){n.setState({isChangeIdModalVisible:!0})},n.handleChangeId=function(){n.changeIdFormRef.props.form.validateFields(function(e,t){if(!e){var a=n.props,r=a.itemKeys,i=a.history,o=n.formRef.props.form.getFieldsValue();n.props.onInvoiceChangeId(t.invoiceId,o,r,i),n.setState({isChangeIdModalVisible:!1})}})},n.handleCancelChangeId=function(){n.changeIdFormRef.props.form.setFieldsValue({invoiceId:n.props.invoiceId}),n.setState({isChangeIdModalVisible:!1})},n.handleCheckInvoiceExists=function(e){return n.props.onInvoiceCheckExists(e)},n.handleBackButton=function(){n.props.history.goBack()},n.makePdf=function(){n.formRef.props.form.validateFieldsAndScroll(function(e,t){if(!e){var r=k.a.loading("Uklad\xe1m fakt\xfaru...",0),i=n.props.itemKeys;n.props.onSave(t,i).then(function(e){r();var t=k.a.loading("Generujem pdf...",0),n=(new ve.a).toPlainObject(e);if(document.documentMode)if(document.getElementById("pdfmaker"))fe({command:"makeInvoicePdf",data:n}),t();else{var i=document.createElement("iframe");i.setAttribute("id","pdfmaker"),i.src="".concat(window.location.origin,"/pdf.html"),i.onload=function(){fe({command:"makeInvoicePdf",data:n}),t()},document.body.appendChild(i)}else Promise.all([a.e(3),a.e(4)]).then(a.bind(null,598)).then(function(e){var a=e.PdfMaker;return t(),(new a).makeInvoicePdf(n)}).catch(function(e){t(),k.a.error("Na\u010d\xedtanie kni\u017enice zlyhalo: ".concat(e.message))})},function(e){r(),k.a.error(e.message)})}})},n}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchForm(this.props.invoiceId)}},{key:"componentWillReceiveProps",value:function(e){e.invoiceId!==this.props.invoiceId&&this.props.fetchForm(e.invoiceId)}},{key:"render",value:function(){var e=this,t=this.props,a=t.invoiceId,n=t.fields,r=t.items,o=t.netPrice,c=t.grossPrice,s=t.discountPrice,l=t.contacts,u=t.isFetching,d=t.isSaving;return i.a.createElement("div",null,i.a.createElement(U.a,{title:"Zmena identifik\xe1tora fakt\xfary",visible:this.state.isChangeIdModalVisible,onOk:this.handleChangeId,onCancel:this.handleCancelChangeId},i.a.createElement(de,{wrappedComponentRef:function(t){e.changeIdFormRef=t},invoiceId:a,onInvoiceCheckExists:this.handleCheckInvoiceExists})),i.a.createElement(M.a,{classNamePrefix:"fz-loading-overlay_",active:u,spinner:i.a.createElement(pe,null),text:"Nahr\xe1vam fakt\xfaru...",styles:{overlay:{},content:{},spinner:{}}},i.a.createElement(x.a,{onBack:this.handleBackButton,title:i.a.createElement("span",null,i.a.createElement("span",null,"Fakt\xfara\xa0",a,"\xa0\xa0"),i.a.createElement(V.a,{type:"edit",style:{color:"#40a9ff"},onClick:this.showChangeIdModal})),subTitle:""}),i.a.createElement(le,{wrappedComponentRef:function(t){e.formRef=t},fields:n,items:r,netPrice:o,grossPrice:c,discountPrice:s,contacts:l,constantSymbols:Ee,isSaving:d,onSubmit:this.handleSubmit,onPdfClick:this.makePdf,onItemAdd:this.handleItemAdd,onItemRemove:this.handleItemRemove,onEntityCreate:this.handleEntityCreate,onFieldsChange:this.handleFieldsChange}),i.a.createElement(D.a,{className:"fz-back-top"},i.a.createElement("div",{className:"fz-back-top-inner"},i.a.createElement(V.a,{type:"up"})))))}}]),t}(r.Component)),ye=Object(l.f)(Object(d.b)(function(e,t){var a=t.match.params.id,n=function(e,t){var a=e.invoiceUI,n=a.fields,r=a.itemKeys,i=t.match.params.id;return n.id&&n.id.value===i?{fields:n,itemKeys:r}:{fields:{},itemKeys:[]}}(e,t),r=(new ve.a).fromFields(n.fields,n.itemKeys);return Object(R.a)({},e.invoiceUI,n,{invoiceId:a,items:r.items,netPrice:r.netPrice,grossPrice:r.grossPrice,discountPrice:r.discountPrice,contacts:e.contacts})},function(e){return{fetchForm:function(t){return e(Object(g.fetchInvoiceForm)(t))},onFieldsChange:function(t,a){return e(Object(g.updateInvoiceForm)(t,a))},onItemAdd:function(t){return e(Object(g.addItem)(t))},onItemRemove:function(t,a){return e(Object(g.removeItem)(t,a))},onSave:function(t,a){return e(Object(g.saveInvoice)(t,a))},onInvoiceChangeId:function(t,a,n,r){return e(Object(g.changeInvoiceId)(t,a,n,r))},onInvoiceCheckExists:function(t){return e(Object(g.checkInvoiceExists)(t))},onEntityCreate:function(t,a,n,r){return e(Object(g.createEntity)(t,a,n,r))}}})(he)),be=a(268),Ce=a.n(be),Ie=(a(157),a(68)),ge=(a(156),a(109)),Oe={xs:24,sm:16,lg:12},Se=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.getFieldDecorator,a=e.fieldPrefix,n=void 0===a?"":a;return i.a.createElement(q.a,{className:"fz-contact-row"},i.a.createElement(W.a,Oe,i.a.createElement(G.a.Item,{label:"Firma"},t("".concat(n,"entity"),{rules:[{required:!0,message:"Uve\u010fte n\xe1zov firmy!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"Ulica"},t("".concat(n,"street"),{rules:[{required:!0,message:"Uve\u010fte ulicu!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"PS\u010c"},t("".concat(n,"zipCode"),{rules:[{required:!0,message:"Uve\u010fte PS\u010c!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"Mesto"},t("".concat(n,"city"),{rules:[{required:!0,message:"Uve\u010fte mesto!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"Krajina"},t("".concat(n,"country"),{rules:[{required:!0,message:"Uve\u010fte krajinu!"}]})(i.a.createElement(Y.a,null)))),i.a.createElement(W.a,Oe,i.a.createElement(G.a.Item,{label:"I\u010cO"},t("".concat(n,"legalId"),{rules:[{required:!0,message:"Uve\u010fte I\u010cO!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"DI\u010c"},t("".concat(n,"taxId"),{rules:[{required:!0,message:"Uve\u010fte DI\u010c!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"I\u010c DPH"},t("".concat(n,"taxLegalId"),{rules:[{required:!1,message:"Uve\u010fte I\u010c DPH!"}]})(i.a.createElement(Y.a,null)),i.a.createElement("span",null,i.a.createElement(V.a,{type:"info-circle"}),"\xa0Ak vypln\xedte I\u010c DPH formul\xe1r fakt\xfary sa automaticky prepne do re\u017eimu DPH."))))}}]),t}(r.Component),ke=a(140),Te={xs:24,sm:16,lg:12},Fe=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).validateIBAN=function(){var e=a.props,t=e.getFieldsValue,n=e.fieldPrefix,r=void 0===n?"":n,i=t(),o=i["".concat(r,"iban")];if(!o)return null;var c=Object(ke.a)(o);if(!1===c)return"Pravdepodobne nespr\xe1vny IBAN.";if(1!==c)return"Chyba kontroln\xe9ho s\xfa\u010dtu. Pravdepodobne nespr\xe1vny IBAN.";var s=i["".concat(r,"swift")],l=i["".concat(r,"bankCode")],u=i["".concat(r,"bankAccount")];return s&&o.substring(0,2)!=s.substring(4,6)?"K\xf3d krajiny (SWIFT) sa nezhoduje.":l&&o.substring(4,4+l.length)!=l?"K\xf3d banky sa nezhoduje.":u&&!o.endsWith(u.toUpperCase().replace(/[^A-Z0-9]/g,""))?"\u010c\xedslo \xfa\u010dtu sa nezhoduje.":void 0},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isRequired,a=e.bankList,n=e.fieldPrefix,r=void 0===n?"":n,o=e.getFieldDecorator,c=this.validateIBAN();return i.a.createElement(q.a,{className:"fz-contact-row"},i.a.createElement(W.a,Te,i.a.createElement(G.a.Item,{label:"Zoznam b\xe1nk"},o("".concat(r,"bankIndex"),{preserve:!0})(i.a.createElement(X.a,null,a.map(function(e,t){var a=Object(B.a)(e,2),n=a[0],r=a[1];return i.a.createElement(X.a.Option,{key:r,value:t},r," - ",n)})))),i.a.createElement(G.a.Item,{label:"N\xe1zov banky"},o("".concat(r,"bankName"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte n\xe1zov banky!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"K\xf3d banky"},o("".concat(r,"bankCode"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte k\xf3d banky!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"SWIFT"},o("".concat(r,"swift"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte SWIFT!"},{min:8,message:"Minim\xe1lne 8 znakov!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{hasFeedback:!0,label:"IBAN",help:c,validateStatus:c?"warning":""},o("".concat(r,"iban"),{validateTrigger:"onBlur",preserve:!0,rules:[{required:t,message:"Uve\u010fte IBAN!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"\u010c\xedslo \xfa\u010dtu"},o("".concat(r,"bankAccount"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte \u010d\xedslo \xfa\u010dtu!"}]})(i.a.createElement(Y.a,null)))))}}]),t}(r.Component),Ne={labelCol:{xs:{span:24},sm:{span:8},lg:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},lg:{span:16}}},Ae={xs:24,sm:16,lg:12},_e=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){a.props.onSubmit(e,a.props.form)},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.isOwn,n=e.isBankRequired,r=e.isBankExpanded,o=e.isContactExpanded,c=e.isSaving,s=e.bankList,l=e.onToggleBankSection,u=e.onToggleContactSection,d=t.getFieldDecorator;return i.a.createElement(G.a,Object.assign({},Ne,{layout:"horizontal",className:"fz-contact-form",onSubmit:this.handleSubmit}),d("id",{})(i.a.createElement(Y.a,{type:"hidden"})),i.a.createElement(Se,t),i.a.createElement(q.a,{className:"fz-contact-row"},i.a.createElement(W.a,Ae,i.a.createElement(G.a.Item,{label:i.a.createElement("span",null,"Moja firma (Dod\xe1vate\u013e)\xa0",i.a.createElement(ge.a,{title:"Za\u0161krtnite, ak chcete vystavova\u0165 fakt\xfary na t\xfato firmu."},i.a.createElement(V.a,{type:"question-circle-o"})))},d("isOwn",{rules:[{type:"boolean",required:!1,message:"Ch\xfdbaj\xfaci \xfadaj!"}],valuePropName:"checked"})(i.a.createElement(Ie.a,{disabled:a}))))),i.a.createElement(q.a,{className:"fz-contact-row"},i.a.createElement(W.a,Ae,i.a.createElement("a",{className:"fz-contact-row-expander",onClick:l},"Bankov\xe9 spojenie ",i.a.createElement(V.a,{type:r?"up":"down"})))),(a||r)&&i.a.createElement("div",{className:"fz-contact-row fz-contact-row--expanded"},i.a.createElement("h4",{className:"fz-contact-header fz-contact-header--expanded"},"Bankov\xe9 spojenie"),i.a.createElement(Fe,Object.assign({},t,{isRequired:n,bankList:s}))),i.a.createElement(q.a,{className:"fz-contact-row"},i.a.createElement(W.a,Ae,i.a.createElement("a",{className:"fz-contact-row-expander",onClick:u},"Kontaktn\xe1 osoba ",i.a.createElement(V.a,{type:o?"up":"down"})))),o&&i.a.createElement("div",{className:"fz-contact-row fz-contact-row--expanded"},i.a.createElement("h4",{className:"fz-contact-header fz-contact-header--expanded"},"Kontaktn\xe1 osoba"),i.a.createElement(q.a,null,i.a.createElement("div",{className:"fz-contact-row fz-contact-row"},i.a.createElement(W.a,Ae,i.a.createElement(G.a.Item,{label:"Meno"},d("name",{preserve:!0,rules:[{required:!1,message:"Uve\u010fte meno!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"Email"},d("email",{preserve:!0,rules:[{type:"email",message:"Zadan\xfd text nie je platn\xfd email!"}]})(i.a.createElement(Y.a,null))),i.a.createElement(G.a.Item,{label:"Tel. \u010d\xedslo"},d("phoneNr",{preserve:!0,rules:[{required:!1,message:"Uve\u010fte tel. \u010d\xedslo!"}]})(i.a.createElement(Y.a,null))))))),i.a.createElement(q.a,{className:"fz-contact-row"},i.a.createElement(W.a,{span:24,style:{textAlign:"right",margin:15}},i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(S.a,{type:"primary",icon:"save",size:"large",htmlType:"submit",loading:c},"Ulo\u017ei\u0165")))))}}]),t}(r.Component),je=G.a.create({name:"contact",onFieldsChange:function(e,t,a){e.onFieldsChange(t,a)},mapPropsToFields:function(e){var t=e.fields,a=e.bankList,n=e.isOwn;return 0===Object.keys(t).length?{isOwn:G.a.createFormField({value:n})}:{id:G.a.createFormField(t.id),entity:G.a.createFormField(t.entity),street:G.a.createFormField(t.street),zipCode:G.a.createFormField(t.zipCode),city:G.a.createFormField(t.city),country:G.a.createFormField(t.country),legalId:G.a.createFormField(t.legalId),taxId:G.a.createFormField(t.taxId),taxLegalId:G.a.createFormField(t.taxLegalId),bankIndex:G.a.createFormField({value:a.find(function(e){var a=Object(B.a)(e,3),n=(a[0],a[1]);a[2];return n===t.bankCode.value})}),bankName:G.a.createFormField(t.bankName),bankCode:G.a.createFormField(t.bankCode),swift:G.a.createFormField(t.swift),iban:G.a.createFormField(t.iban),bankAccount:G.a.createFormField(t.bankAccount),name:G.a.createFormField(t.name),email:G.a.createFormField(t.email),phoneNr:G.a.createFormField(t.phoneNr),isOwn:G.a.createFormField(n?{value:n}:t.isOwn)}},onValuesChange:function(e,t){e.onValuesChange&&e.onValuesChange(t)}})(_e),Pe=(a(487),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e,t){e.preventDefault(),t.validateFieldsAndScroll(function(e,t){if(e)return k.a.error("Formul\xe1r obsahuje chyby!"),!1;console.log("submit",JSON.stringify(t)),a.props.onSave(t,a.props.history).catch(function(e){k.a.error(e.message)})})},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchForm(this.props.contactId)}},{key:"componentWillReceiveProps",value:function(e){e.contactId!==this.props.contactId&&this.props.fetchForm(e.contactId)}},{key:"render",value:function(){var e=this,t=this.props,a=t.contactId,n=t.forceOwn,r=t.isSaving,o=t.isFetching,c=t.isBankRequired,s=t.isBankExpanded,l=t.isContactExpanded,u=t.fields,d=t.bankList,m=t.onFieldsChange,p=t.onToggleBankSection,v=t.onToggleContactSection;return i.a.createElement("div",null,i.a.createElement(M.a,{classNamePrefix:"fz-loading-overlay_",active:o,spinner:i.a.createElement(pe,null),text:"Nahr\xe1vam kontakt...",styles:{overlay:{},content:{}}},i.a.createElement(x.a,{onBack:function(){return e.props.history.goBack()},title:"Kontakt #".concat(a),subTitle:""}),i.a.createElement(je,{fields:u,bankList:d,isOwn:n,isBankRequired:c,isSaving:r,isBankExpanded:s,isContactExpanded:l,onFieldsChange:m,onSubmit:this.handleSubmit,onToggleBankSection:p,onToggleContactSection:v})))}}]),t}(r.Component)),we=Object(l.f)(Object(d.b)(function(e,t){var a=e.contactUI,n=e.bankList,r=t.location,i=t.match.params.id,o="true"===Ce.a.parse(r.search).isOwn,c=function(e,t){var a=e.contactUI,n=t.match.params.id;return a.fields.id&&a.fields.id.value===n?a.fields:{}}(e,t);return Object(R.a)({},a,{contactId:i,fields:c,bankList:n,forceOwn:o,isBankExpanded:o||c.isOwn&&(c.isOwn.value||a.isBankExpanded),isBankRequired:o||c.isOwn&&c.isOwn.value})},function(e){return{fetchForm:function(t){return e(Object(g.fetchContactForm)(t))},onSave:function(t,a){return e(Object(g.saveContact)(t,a))},onFieldsChange:function(t,a){return e(Object(g.updateContactForm)(t,a))},onToggleBankSection:function(){return e({type:g.types.CONTACT_FORM_TOGGLE,payload:"bank"})},onToggleContactSection:function(){return e({type:g.types.CONTACT_FORM_TOGGLE,payload:"contact"})}}})(Pe)),ze=(a(543),a(275)),Re=(a(542),a(195)),De=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).hideProgressMessage=null,a.handleExport=function(){a.props.onArchiveExport()},a.handleImport=function(e){var t=new FileReader;return t.onload=function(e){a.props.onArchiveImport(t.result)},t.readAsText(e),!1},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillUpdate",value:function(e){var t=e.ui;t.isFetching?(this.hideMessage(),this.hideProgressMessage=k.a.loading("Vykon\xe1vam z\xe1lohu...",0)):t.isSaving?(this.hideMessage(),this.hideProgressMessage=k.a.loading("Obnovujem zo z\xe1lohy...",0)):t.lastError?(this.hideMessage(),k.a.error(t.lastError.message)):this.hideMessage()}},{key:"componentWillUnmount",value:function(){this.hideMessage()}},{key:"hideMessage",value:function(){this.hideProgressMessage&&this.hideProgressMessage(),this.hideProgressMessage=null}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Re.a,{style:{marginBottom:20}},i.a.createElement("p",null,"Archiv\xe1cia datab\xe1zy do s\xfaboru. Odpor\xfa\u010da sa vykon\xe1va\u0165 t\xfato \u010dinnos\u0165 pravidelne."),i.a.createElement("div",null,i.a.createElement(S.a,{onClick:this.handleExport},i.a.createElement(V.a,{type:"download"})," Archivuj do s\xfaboru"))),i.a.createElement(Re.a,null,i.a.createElement("p",null,"Na\u010d\xedtanie datab\xe1zy z arch\xedvu."),i.a.createElement("p",null,"Upozornenie: Va\u0161e d\xe1ta m\xf4\u017eu by\u0165 prep\xedsan\xe9 d\xe1tami z arch\xedvu."),i.a.createElement("div",null,i.a.createElement(ze.a,{accept:".json",beforeUpload:this.handleImport,showUploadList:!1},i.a.createElement(S.a,null,i.a.createElement(V.a,{type:"upload"})," Na\u010d\xedtaj z arch\xedvu")))))}}]),t}(r.Component),xe=Object(l.f)(Object(d.b)(function(e){return{ui:e.ui}},function(e){return{onArchiveExport:function(){e(Object(g.exportArchive)())},onArchiveImport:function(t){e(Object(g.importArchive)(t))}}})(De)),Ve=(a(531),I.a.Header),Ue=I.a.Content,Le=I.a.Footer,Me=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onMenuClicked=function(e){var t=e.key;a.props.history.replace("/".concat(t))},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname,t="";return e.includes("invoice")?t="invoices":e.includes("contact")?t="contacts":e.includes("archive")&&(t="archive"),i.a.createElement(I.a,{className:"fz-layout"},i.a.createElement(Ve,{className:"fz-layout-header"},i.a.createElement(f.b,{className:"fz-layout-header-menu",theme:"dark",mode:"horizontal",defaultSelectedKeys:[t],selectedKeys:[t],onClick:this.onMenuClicked},i.a.createElement(f.b.Item,{key:"invoices"},"Fakt\xfary"),i.a.createElement(f.b.Item,{key:"contacts"},"Kontakty"),i.a.createElement(f.b.Item,{key:"archive"},"Arch\xedv")),i.a.createElement("div",{className:"fz-logo"})),i.a.createElement(Ue,{className:"fz-layout-content"},i.a.createElement(l.d,null,i.a.createElement(l.b,{exact:!0,path:"/invoices/:id",component:ye}),i.a.createElement(l.b,{exact:!0,path:"/invoices",component:_}),i.a.createElement(l.b,{exact:!0,path:"/contacts/:id",component:we}),i.a.createElement(l.b,{exact:!0,path:"/contacts",component:z}),i.a.createElement(l.b,{exact:!0,path:"/archive",component:xe}))),i.a.createElement(Le,{className:"fz-layout-footer"},i.a.createElement("div",{className:"fz-footer-brand"},i.a.createElement("span",null,"\xa92019 ",i.a.createElement("a",{href:"https://fakturazdarma.sk/"},"FakturaZdarma.sk"))),i.a.createElement("div",null,i.a.createElement("a",{href:"https://www.facebook.com/FakturaZdarma/"},i.a.createElement("div",{className:"fcb-find-us"})))))}}]),t}(r.Component),Be=Object(l.f)(Me),Ke=(a(532),I.a.Content),He=(a(533),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onLogIn(t.email,t.password,a.props.history)})},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(G.a,{onSubmit:this.handleSubmit,className:"fz-login-form"},i.a.createElement(G.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(i.a.createElement(Y.a,{prefix:i.a.createElement(V.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),i.a.createElement(G.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(i.a.createElement(Y.a,{prefix:i.a.createElement(V.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),i.a.createElement(G.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(i.a.createElement(Ie.a,null,"Remember me")),i.a.createElement("a",{className:"fz-login-form-forgot",href:"#/forgot-passwd"},"Forgot password"),i.a.createElement(S.a,{type:"primary",htmlType:"submit",className:"fz-login-form-button"},"Log in"),"Or ",i.a.createElement("a",{href:"#/register"},"register now!")))}}]),t}(r.Component)),qe=G.a.create({name:"normal_login"})(He),We=(a(534),function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"fz-login-page"},i.a.createElement(qe,this.props))}}]),t}(r.Component)),Ge=Object(l.f)(Object(d.b)(function(e){return Object(R.a)({},e.login)},function(e){return{onLogIn:function(t,a,n){e(Object(g.logIn)(t,a,n))}}})(We)),Xe=-1,Ye=1,Ze=2,Je={loginState:Ze},$e=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.loginState,n=Object(J.a)(e,["component","loginState"]);return i.a.createElement(l.b,Object.assign({},n,{render:function(e){return a===Ze?i.a.createElement(t,e):i.a.createElement(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),t}(r.Component),Qe=Object(d.b)(function(e){return Object(R.a)({},e.login)},{})($e),et={lastError:null,isFetching:!1,isSaving:!1},tt={fields:{},itemKeys:[],isDraft:!1,isFetching:!1,isSaving:!1},at={contactId:null,isFetching:!1,isSaving:!1,isBankExpanded:!1,isContactExpanded:!1,fields:{}},nt=function(e,t){switch(t.type){case g.types.CONTACT_SAVE_SUCCESS:return{};case g.types.CONTACT_FORM_REPLACE:return t.payload;default:return e}},rt=Object(u.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;switch((arguments.length>1?arguments[1]:void 0).type){case g.types.LOG_IN:return{loginState:Ye};case g.types.LOG_IN_SUCCESS:return{loginState:Ze};case g.types.LOG_IN_FAILURE:case g.types.LOG_OUT:return{loginState:Xe};default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.ARCHIVE_IMPORT_SUCCESS:return t.payload.invoices;case g.types.INVOICES_DELETE_SUCCESS:case g.types.INVOICES_FETCH_SUCCESS:return t.payload;case g.types.INVOICE_SAVE_SUCCESS:var a=Object(j.a)(e),n=t.payload,r=a.findIndex(function(e){return e.id===n.id});return r>-1?a[r]=n:a.push(n),a;case g.types.INVOICE_SAVE_FAILURE:default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.ARCHIVE_IMPORT_SUCCESS:return t.payload.contacts;case g.types.CONTACTS_DELETE_SUCCESS:case g.types.CONTACTS_FETCH_SUCCESS:return t.payload;case g.types.CONTACT_SAVE_SUCCESS:var a=Object(j.a)(e),n=t.payload,r=a.findIndex(function(e){return e.id===n.id});return r>-1?a[r]=n:a.push(n),a;default:return e}},bankList:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case g.types.ARCHIVE_IMPORT:return Object(R.a)({},e,{isSaving:!0,lastError:null});case g.types.ARCHIVE_IMPORT_SUCCESS:return Object(R.a)({},e,{isSaving:!1});case g.types.ARCHIVE_IMPORT_FAILURE:return Object(R.a)({},e,{isSaving:!1,lastError:t.payload});case g.types.ARCHIVE_EXPORT:return Object(R.a)({},e,{isFetching:!0,lastError:null});case g.types.ARCHIVE_EXPORT_SUCCESS:return Object(R.a)({},e,{isFetching:!1});case g.types.ARCHIVE_EXPORT_FAILURE:return Object(R.a)({},e,{isFetching:!1,lastError:t.payload})}switch(!0){case/DELETE$/.test(a):return Object(R.a)({},e,{isSaving:!0,lastError:null});case/DELETE_SUCCESS$/.test(a):return Object(R.a)({},e,{isSaving:!1});case/DELETE_FAILURE$/.test(a):return Object(R.a)({},e,{isSaving:!1,lastError:t.payload});case/FETCH$/.test(a):return Object(R.a)({},e,{isFetching:!0,lastError:null});case/FETCH_SUCCESS$/.test(a):return Object(R.a)({},e,{isFetching:!1});case/FETCH_FAILURE$/.test(a):return Object(R.a)({},e,{isFetching:!1,lastError:t.payload});default:return e}},invoiceUI:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.INVOICE_FETCH:return Object(R.a)({},e,{isFetching:!0});case g.types.INVOICE_FETCH_SUCCESS:case g.types.INVOICE_FETCH_FAILURE:return Object(R.a)({},e,{isFetching:!1});case g.types.INVOICE_SAVE:return Object(R.a)({},e,{isSaving:!0,isDraft:t.payload.isDraft});case g.types.INVOICE_SAVE_SUCCESS:case g.types.INVOICE_SAVE_FAILURE:return Object(R.a)({},e,{isSaving:!1});case g.types.INVOICE_FORM_REPLACE:return Object(R.a)({},e,t.payload);case g.types.CONTACT_SAVE_SUCCESS:var a=e.fields,n=t.payload;if(n.isOwn){var r=n.isTaxable?A.b.Taxable:A.b.NonTax;a.type={value:r},a.emitent={value:n.id}}else a.recipient={value:n.id};return Object(R.a)({},e,{fields:a});default:return e}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,arguments.length>1?arguments[1]:void 0)},contactUI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;return Object(R.a)({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.CONTACT_FETCH:return Object(R.a)({},e,{isFetching:!0});case g.types.CONTACT_FETCH_SUCCESS:case g.types.CONTACT_FETCH_FAILURE:return Object(R.a)({},e,{isFetching:!1});case g.types.CONTACT_SAVE:return Object(R.a)({},e,{isSaving:!0});case g.types.CONTACT_SAVE_SUCCESS:case g.types.CONTACT_SAVE_FAILURE:return Object(R.a)({},e,{isSaving:!1});case g.types.CONTACT_FORM_TOGGLE:var a=t.payload,n=Object(R.a)({},e);switch(a){case"bank":n.isBankExpanded=!e.isBankExpanded;break;case"contact":n.isContactExpanded=!e.isContactExpanded}return n;case g.types.CONTACT_FORM_REPLACE:return Object(R.a)({},e);default:return e}}(e,t),{fields:nt(e.fields,t)})},visibilityFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.VisibilityFilters.SHOW_ALL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.SET_VISIBILITY_FILTER:return t.filter;default:return e}}}),it=[["365.bank (Po\u0161tov\xe1 banka, a.s. od\u0161tepn\xfd z\xe1vod)","6500","POBNSKBA"],["BANCO COFIDIS, S.A., pobo\u010dka zahr. banky","8400",""],["BKS BANK AG, pobo\u010dka zahr. banky","8420","BFKKSKBB"],["\u010ceskoslovensk\xe1 obchodn\xe1 banka, a.s.","7500","CEKOSKBX"],["Citibank Europe plc, pobo\u010dka zahr. banky","8130","CITISKBA"],["COMMERZBANK Aktiengesellschaft, pobo\u010dka zahr. banky","8050","COBASKBX"],["\u010cSOB stavebn\xe1 sporite\u013e\u0148a, a.s.","8170","KBSPSKBX"],["EXIMBANKA SR","8160","EXSKSKBX"],["Fio banka, a.s., pobo\u010dka zahr. banky","8330","FIOZSKBA"],["ING Bank N.V., pobo\u010dka zahr. banky","7300","INGBSKBX"],["J&T BANKA, a.s., pobo\u010dka zahr. banky","8320","JTBPSKBA"],["KDB Bank Europe Ltd, pobo\u010dka zahran. banky","8430","KODBSKBX"],["Komer\u010dn\xed banka, a.s., pobo\u010dka zahr. banky","8100","KOMBSKBA"],["mBank S.A., pobo\u010dka zahr. banky","8360","BREXSKBX"],["N\xe1rodn\xe1 banka Slovenska","0720","NBSBSKBX"],["Oberbank AG, pobo\u010dka zahr. banky v SR","8370","OBKLSKBA"],["OTP banka Slovensko, a.s.","5200","OTPVSKBX"],["Po\u0161tov\xe1 banka, a.s.","6500","POBNSKBA"],["Prima\xa0banka Slovensko, a.s. (DEXIA)","5600","KOMASK2X"],["Privatbanka, a.s.","8120","BSLOSK22"],["Prv\xe1 stavebn\xe1 sporite\u013e\u0148a, a.s.","5900","PRVASKBA"],["Raiffeisen BANK (Tatra banka a.s., od\u0161tepn\xfd z\xe1vod)","1100","TATRSKBX"],["Slovensk\xe1 sporite\u013e\u0148a, a.s.","0900","GIBASKBX"],["Slovensk\xe1 z\xe1ru\u010dn\xe1 a rozvojov\xe1 banka, a.s.","3000","SLZBSKBA"],["\u0160t\xe1tna pokladnica","8180","SPSRSKBA"],["Tatra banka, a.s.","1100","TATRSKBX"],["UniCredit Bank Slovakia, a.s.","1111","UNCRSKBX"],["V\xdaB banka, a.s.","0200","SUBASKBX"],["W\u0171stenrot stavebn\xe1 sporite\u013e\u0148a, a.s.","7930","WUSTSKBA"]];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(535),a(536);var ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ct=Object(u.e)(rt,{bankList:it},ot(Object(u.a)(m.a)));ct.dispatch(Object(g.fetchContacts)()),ct.dispatch(Object(g.fetchInvoices)()),c.a.render(i.a.createElement(d.a,{store:ct},i.a.createElement(n.a,{locale:v.a},i.a.createElement(s.a,null,i.a.createElement(l.d,null,i.a.createElement(l.a,{exact:!0,from:"/",to:"/invoices"}),i.a.createElement(l.b,{exact:!0,path:"/login",component:Ge}),i.a.createElement(Qe,{path:"/invoices/:id",component:Be}),i.a.createElement(Qe,{path:"/invoices",component:Be}),i.a.createElement(Qe,{path:"/contacts/:id",component:Be}),i.a.createElement(Qe,{path:"/contacts",component:Be}),i.a.createElement(Qe,{path:"/archive",component:Be}),i.a.createElement(l.b,{component:function(){return i.a.createElement(I.a,{className:"fz-layout"},i.a.createElement(Ke,{className:"fz-layout-content"},i.a.createElement("div",{className:"antd-pro-components-exception-index-exception"},i.a.createElement("div",{className:"antd-pro-components-exception-index-imgBlock"},i.a.createElement("div",{className:"antd-pro-components-exception-index-imgEle",style:{backgroundImage:'url("/static/img/undraw_page_not_found_su7k.svg")'}})),i.a.createElement("div",{className:"antd-pro-components-exception-index-content"},i.a.createElement("div",{className:"antd-pro-components-exception-index-desc"},"Prep\xe1\u010dte n\xe1m, ale t\xe1to str\xe1nka neexistuje."),i.a.createElement("div",{className:"antd-pro-components-exception-index-actions"},i.a.createElement("a",{href:"#/"},i.a.createElement(S.a,{className:"ant-btn ant-btn-primary"},"Sp\xe4\u0165 na \xfavodn\xfa")))))))}}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},61:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(19),r=a(21),i=function(){function e(t){Object(n.a)(this,e),this.id=void 0,this.entity="",this.name=void 0,this.street=void 0,this.city=void 0,this.zipCode=void 0,this.country=void 0,this.legalId=void 0,this.taxId=void 0,this.taxLegalId=void 0,this.iban=void 0,this.bankAccount=void 0,this.bankName=void 0,this.bankCode=void 0,this.swift=void 0,this.email=void 0,this.phoneNr=void 0,this.isOwn=!1,Object.assign(this,t)}return Object(r.a)(e,[{key:"isTaxable",get:function(){return!!this.taxLegalId}}]),e}()},76:function(e,t,a){"use strict";var n=a(17),r=a(42),i=a(60),o=a(47),c=a(18),s=a(61),l=a(111),u=a(19),d=a(21),m=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"toFields",value:function(e){return{id:{value:e.id},entity:{value:e.entity},street:{value:e.street},zipCode:{value:e.zipCode},city:{value:e.city},country:{value:e.country},legalId:{value:e.legalId},taxId:{value:e.taxId},taxLegalId:{value:e.taxLegalId},bankName:{value:e.bankName},bankCode:{value:e.bankCode},swift:{value:e.swift},iban:{value:e.iban},bankAccount:{value:e.bankAccount},name:{value:e.name},email:{value:e.email},phoneNr:{value:e.phoneNr},isOwn:{value:!!e.isOwn}}}},{key:"fromFields",value:function(e){var t=Object.entries(e).reduce(function(e,t){var a=Object(r.a)(t,2),n=a[0],i=a[1];return i&&i.value&&(e[n]=i.value),e},{});return new s.a(t)}}]),e}();a.d(t,"a",function(){return p}),a.d(t,"d",function(){return v}),a.d(t,"c",function(){return f}),a.d(t,"f",function(){return E}),a.d(t,"e",function(){return h}),a.d(t,"b",function(){return y});var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a,n){var r=n().contacts,o=1,c=Object(i.a)(r).sort(function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return-1===t?n[e].localeCompare(a[e],"en",{numeric:!0}):a[e].localeCompare(n[e],"en",{numeric:!0})}}("-id"));return c[0]&&(o=Number(c[0].id)+1),e.push("/contacts/".concat(o).concat(t?"?isOwn=".concat(t):"")),Promise.resolve(o)}},v=function(){return function(e){return e({type:c.CONTACTS_FETCH,payload:{}}),o.default.getContacts().then(function(t){return e({type:c.CONTACTS_FETCH_SUCCESS,payload:t}),t},function(t){throw e({type:c.CONTACTS_FETCH_FAILURE,payload:t}),t})}},f=function(e){return function(t,a){var n=a().contacts.find(function(t){return t.id===e});if(!n)return t(function(e){return function(t){return t({type:c.CONTACT_FETCH,payload:{}}),o.default.getContact(e).then(function(a){if(!a)throw new l.a("Kontakt `".concat(e,"` sa nena\u0161iel!"));return t({type:c.CONTACT_FETCH_SUCCESS,payload:a}),a}).catch(function(e){throw t({type:c.CONTACT_FETCH_FAILURE,payload:e}),e})}}(e)).then(function(e){var a=(new m).toFields(e);t(E({},a))},function(a){if(a instanceof l.a){var n=new s.a({id:e,country:"Slovensko"}),r=(new m).toFields(n);return t(E({},r))}throw a});var r=(new m).toFields(n);return t(E({},r))}},E=function(e,t){return function(a,i){var o=i().bankList;if(e.bankIndex){var s=Object(r.a)(o[e.bankIndex.value],3),l=s[0],u=s[1],d=s[2];t=Object(n.a)({},t,{bankName:{value:l},bankCode:{value:u},swift:{value:d}})}a({type:c.CONTACT_FORM_REPLACE,payload:t})}},h=function(e,t){return function(a){return a({type:c.CONTACT_SAVE,payload:{}}),o.default.saveContact(new s.a(e)).then(function(e){return e=new s.a(e),a({type:c.CONTACT_SAVE_SUCCESS,payload:e}),t.length?t.goBack():t.replace("/contacts"),e},function(e){throw a({type:c.CONTACT_SAVE_FAILURE,payload:e}),e})}},y=function(e){return function(t){return t({type:c.CONTACTS_DELETE,payload:e}),o.default.deleteContacts(e).then(function(e){t({type:c.CONTACTS_DELETE_SUCCESS,payload:e})},function(e){throw t({type:c.CONTACTS_DELETE_FAILURE,payload:e}),e})}}},94:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(17),r=a(19),i=a(21),o=a(16),c=a.n(o),s=a(32),l=a(120),u=a(40),d=a(61),m=function(e){if(e)return u.b.format(e).toUpperCase().replace(/[^A-Z0-9\.]/g,"")},p=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"toItemFields",value:function(e){return e.reduce(function(e,t,a){return e.itemsNames[a]={value:t.name},e.pricesPU[a]={value:t.pricePerUnit},e.units[a]={value:t.unit},e.amounts[a]={value:t.amount},e.taxRates[a]={value:t.taxRate},e},{itemsNames:[],pricesPU:[],units:[],amounts:[],taxRates:[]})}},{key:"toFields",value:function(e){var t=e.recipient,a=e.emitent,r=e.items;return Object(n.a)({id:{value:e.id},type:{value:e.type},recipient:{value:t&&t.entity||null},emitent:{value:a&&a.entity||null},paymentType:{value:e.paymentType},dueDate:{value:e.dueDate&&c()(e.dueDate)},issueDate:{value:e.issueDate&&c()(e.issueDate)},deliveryDate:{value:e.deliveryDate&&c()(e.deliveryDate)},paymentDate:{value:e.paymentDate&&c()(e.paymentDate)},variableSymbol:{value:e.variableSymbol||e.id},constantSymbol:{value:e.constantSymbol},orderNr:{value:e.orderNr},description:{value:e.description||"Fakturujeme V\xe1m za dodan\xfd tovar alebo slu\u017eby:"},finalText:{value:e.finalText||"Tovar zost\xe1va a\u017e do \xfapln\xe9ho uhradenia majetkom dod\xe1vate\u013ea. Pri oneskorenej \xfahrade V\xe1m budeme \xfa\u010dtova\u0165 pen\xe1le vo v\xfd\u0161ke 0,05% za ka\u017ed\xfd za\u010dat\xfd de\u0148 ome\u0161kania."},discount:{value:e.discount}},this.toItemFields(r))}},{key:"toInvoiceItems",value:function(e,t){var a=e.itemsNames,n=void 0===a?[]:a,r=e.pricesPU,i=void 0===r?[]:r,o=e.units,c=void 0===o?[]:o,s=e.amounts,u=void 0===s?[]:s,d=e.taxRates,m=void 0===d?[]:d,p=[];return t.forEach(function(e){p[e]=new l.a({name:n[e]&&n[e].value,unit:c[e]&&c[e].value,pricePerUnit:i[e]&&i[e].value,amount:u[e]&&u[e].value,taxRate:m[e]&&m[e].value})}),p}},{key:"fromFields",value:function(e,t){var a=e.id,n=void 0===a?{}:a,r=e.type,i=void 0===r?{}:r,o=e.paymentType,c=void 0===o?{}:o,l=e.dueDate,u=void 0===l?{}:l,d=e.issueDate,m=void 0===d?{}:d,p=e.deliveryDate,v=void 0===p?{}:p,f=e.paymentDate,E=void 0===f?{}:f,h=e.variableSymbol,y=void 0===h?{}:h,b=e.constantSymbol,C=void 0===b?{}:b,I=e.orderNr,g=void 0===I?{}:I,O=e.description,S=void 0===O?{}:O,k=e.finalText,T=void 0===k?{}:k,F=e.discount,N=void 0===F?{}:F;return new s.a({id:n.value,type:Number(i.value),paymentType:c.value,dueDate:u.value&&u.value.toDate(),issueDate:m.value&&m.value.toDate(),deliveryDate:v.value&&v.value.toDate(),paymentDate:E.value&&E.value.toDate(),variableSymbol:y.value,constantSymbol:C.value,orderNr:g.value,description:S.value,finalText:T.value,discount:N.value,items:this.toInvoiceItems(e,t)})}},{key:"fromValues",value:function(e,t){var a=e.itemsNames,n=e.pricesPU,r=e.units,i=e.amounts,o=e.taxRates,c=t.map(function(e){return new l.a({name:a[e],unit:r[e],pricePerUnit:n[e],amount:i[e],taxRate:o&&o[e]||0})});return new s.a({id:e.id,type:Number(e.type),paymentType:e.paymentType,dueDate:e.dueDate&&e.dueDate.toDate(),issueDate:e.issueDate&&e.issueDate.toDate(),deliveryDate:e.deliveryDate&&e.deliveryDate.toDate(),paymentDate:e.paymentDate&&e.paymentDate.toDate(),variableSymbol:e.variableSymbol,constantSymbol:e.constantSymbol,orderNr:e.orderNr,description:e.description,finalText:e.finalText,discount:e.discount,items:c})}},{key:"toPlainObject",value:function(e){var t=u.a.format,a=e.emitent,r=void 0===a?new d.a:a,i=e.recipient,o=void 0===i?new d.a:i,c="";switch(e.paymentType){case s.c.WireTransfer:c="Prevodom";break;case s.c.Card:c="Kartou";break;case s.c.Cash:c="V hotovosti";break;case s.c.CashOnDelivery:c="Dobierka"}return{id:e.id,type:e.type,paymentType:c,dueDate:e.dueDate&&m(e.dueDate),issueDate:e.issueDate&&m(e.issueDate),deliveryDate:e.deliveryDate&&m(e.deliveryDate),paymentDate:e.paymentDate&&m(e.paymentDate),variableSymbol:e.variableSymbol,constantSymbol:e.constantSymbol,orderNr:e.orderNr,description:e.description,finalText:e.finalText,discount:e.discount,items:e.items.map(function(e){return Object(n.a)({},e,{pricePerUnit:t(e.pricePerUnit),grossPrice:t(e.grossPrice),netPrice:t(e.netPrice),taxPrice:t(e.taxPrice)})}),emitent:Object(n.a)({},e.emitent,{iban:Object(u.c)(r.iban),zipCode:Object(u.d)(r.zipCode)}),recipient:Object(n.a)({},e.recipient,{zipCode:Object(u.d)(o.zipCode)}),grossPrice:t(e.grossPrice),netPrice:t(e.netPrice),discountPrice:t(e.discountPrice)}}}]),e}()}},[[282,1,2]]]);
//# sourceMappingURL=main.36885f17.chunk.js.map