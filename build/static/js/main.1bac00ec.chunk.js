(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){"use strict";var a=n(19);n.d(t,"types",function(){return a});var r=n(208);n.o(r,"VisibilityFilters")&&n.d(t,"VisibilityFilters",function(){return r.VisibilityFilters}),n.o(r,"addItem")&&n.d(t,"addItem",function(){return r.addItem}),n.o(r,"changeInvoiceId")&&n.d(t,"changeInvoiceId",function(){return r.changeInvoiceId}),n.o(r,"checkInvoiceExists")&&n.d(t,"checkInvoiceExists",function(){return r.checkInvoiceExists}),n.o(r,"createContact")&&n.d(t,"createContact",function(){return r.createContact}),n.o(r,"createEntity")&&n.d(t,"createEntity",function(){return r.createEntity}),n.o(r,"createInvoice")&&n.d(t,"createInvoice",function(){return r.createInvoice}),n.o(r,"deleteContacts")&&n.d(t,"deleteContacts",function(){return r.deleteContacts}),n.o(r,"deleteInvoices")&&n.d(t,"deleteInvoices",function(){return r.deleteInvoices}),n.o(r,"exportArchive")&&n.d(t,"exportArchive",function(){return r.exportArchive}),n.o(r,"fetchContactForm")&&n.d(t,"fetchContactForm",function(){return r.fetchContactForm}),n.o(r,"fetchContacts")&&n.d(t,"fetchContacts",function(){return r.fetchContacts}),n.o(r,"fetchInvoiceForm")&&n.d(t,"fetchInvoiceForm",function(){return r.fetchInvoiceForm}),n.o(r,"fetchInvoices")&&n.d(t,"fetchInvoices",function(){return r.fetchInvoices}),n.o(r,"importArchive")&&n.d(t,"importArchive",function(){return r.importArchive}),n.o(r,"logIn")&&n.d(t,"logIn",function(){return r.logIn}),n.o(r,"removeItem")&&n.d(t,"removeItem",function(){return r.removeItem}),n.o(r,"saveContact")&&n.d(t,"saveContact",function(){return r.saveContact}),n.o(r,"saveInvoice")&&n.d(t,"saveInvoice",function(){return r.saveInvoice}),n.o(r,"updateContactForm")&&n.d(t,"updateContactForm",function(){return r.updateContactForm}),n.o(r,"updateInvoiceForm")&&n.d(t,"updateInvoiceForm",function(){return r.updateInvoiceForm});var i=n(80);n.d(t,"createContact",function(){return i.a}),n.d(t,"deleteContacts",function(){return i.b}),n.d(t,"fetchContactForm",function(){return i.c}),n.d(t,"fetchContacts",function(){return i.d}),n.d(t,"saveContact",function(){return i.e}),n.d(t,"updateContactForm",function(){return i.f});var o=n(143);n.d(t,"addItem",function(){return o.a}),n.d(t,"changeInvoiceId",function(){return o.b}),n.d(t,"checkInvoiceExists",function(){return o.c}),n.d(t,"createEntity",function(){return o.d}),n.d(t,"createInvoice",function(){return o.e}),n.d(t,"deleteInvoices",function(){return o.f}),n.d(t,"fetchInvoiceForm",function(){return o.g}),n.d(t,"fetchInvoices",function(){return o.h}),n.d(t,"removeItem",function(){return o.i}),n.d(t,"saveInvoice",function(){return o.j}),n.d(t,"updateInvoiceForm",function(){return o.k});var c=n(210);n.d(t,"logIn",function(){return c.a});var s=n(211);n.d(t,"VisibilityFilters",function(){return s.a});var l=n(289);n.d(t,"exportArchive",function(){return l.a}),n.d(t,"importArchive",function(){return l.b})},113:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(18),r=n(28),i=n(25),o=n(27),c=n(310),s=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).name=n.constructor.name,n}return Object(o.a)(t,e),t}(Object(c.a)(Error))},122:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(18),r=n(21),i=function(){function e(t){Object(a.a)(this,e),this.name="",this.unit="kus",this.pricePerUnit=0,this.amount=0,this.taxRate=20,Object.assign(this,t)}return Object(r.a)(e,[{key:"netPrice",get:function(){return this.pricePerUnit*this.amount}},{key:"grossPrice",get:function(){return this.netPrice+this.taxPrice}},{key:"taxPrice",get:function(){return this.netPrice/100*this.taxRate}}]),e}()},143:function(e,t,n){"use strict";var a=n(17),r=n(62),i=n(41),o=n(19),c=n(47),s=n(80),l=n(63),u=n(32),d=n(96),m=n(113);n.d(t,"e",function(){return v}),n.d(t,"h",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return E}),n.d(t,"a",function(){return y}),n.d(t,"i",function(){return b}),n.d(t,"j",function(){return O}),n.d(t,"f",function(){return I}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return S});var v=function(e){return function(t,n){var a,o,c=n().invoices,s=(new Date).getFullYear(),l=String(s),u=c.reduce(function(e,t){var n=Object(i.a)(e,2),a=n[0],r=n[1],o=t.id;if(o&&o.startsWith(l)){r++;var c=parseInt(o.slice(l.length),10);c>a&&(a=c)}return[a,r]},[0,0]),d=String(Math.max.apply(Math,Object(r.a)(u))+1);d.length<3&&(a=d,d=Array(3-String(a).length+1).join(o||"0")+a),e.push("/invoices/".concat(s).concat(d))}},f=function(){return function(e){return e({type:o.INVOICES_FETCH,payload:{}}),c.default.fetchInvoices().then(function(t){return e({type:o.INVOICES_FETCH_SUCCESS,payload:t}),t},function(t){throw e({type:o.INVOICES_FETCH_FAILURE,payload:t}),t})}},p=function(e,t,n){return function(a,r){var i={fields:t};if(e.emitent){var c=r().contacts.find(function(t){return e.emitent.value===t.id});c&&(i.fields.type={value:new l.a(c).isTaxable?u.b.Taxable:u.b.NonTax})}n&&(i.itemKeys=n),a({type:o.INVOICE_FORM_REPLACE,payload:i})}},h=function(e){return function(t,n){var a=n(),r=a.invoices,i=a.invoiceUI,s=i.fields;i.isDraft&&s.id&&s.id.value===e?console.log("Skip form fetch"):Promise.resolve(r.find(function(t){return t.id===e})).then(function(n){return n||t(function(e){return function(t){return t({type:o.INVOICE_FETCH,payload:{}}),c.default.fetchInvoice(e).then(function(n){if(!n)throw new m.a("Fakt\xfara `".concat(e,"` sa nena\u0161la!"));return t({type:o.INVOICE_FETCH_SUCCESS,payload:n}),n}).catch(function(e){throw t({type:o.INVOICE_FETCH_FAILURE,payload:e}),e})}}(e)).catch(function(t){if(t instanceof m.a)return{id:e};throw t})}).then(function(e){e=new u.a(e);var n,a=(new d.a).toFields(e),r=(n=Math.max(1,e.items.length),Array.from({length:Math.max(0,n)},function(e,t){return t}));return t(p({},a,r))})}},E=function(e){return function(t,n){var a=n().invoices.find(function(t){return t.id===e});return Promise.resolve(!!a)}},y=function(e){return function(e,t){var n=t().invoiceUI.itemKeys;n=[].concat(Object(r.a)(n),[0===n.length?0:n[n.length-1]+1]),e({type:o.INVOICE_FORM_REPLACE,payload:{itemKeys:n}})}},b=function(e,t){return function(e,n){var r=n().invoiceUI,i=r.itemKeys,c=r.fields;if(1===i.length)return!1;["itemsNames","pricesPU","units","amounts","taxRates","itemKeys"].forEach(function(e){c.hasOwnProperty(e)&&delete c[e][t]}),i=i.filter(function(e){return e!==t}),e({type:o.INVOICE_FORM_REPLACE,payload:{itemKeys:i,fields:Object(a.a)({},c)}})}},C=function(e,t,n){var r=n.contacts,i=n.invoices,o=(new d.a).fromValues(e,t),c=r.find(function(t){return e.emitent===t.id}),s=r.find(function(t){return e.recipient===t.id});if(!c||!s){var l=i.find(function(e){return e.id===o.id});l&&(c=c||l.emitent,s=s||l.recipient)}return new u.a(Object(a.a)({},o,{emitent:c,recipient:s}))},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,r){var i=C(e,t,r());return a({type:o.INVOICE_SAVE,payload:{isDraft:n}}),c.default.saveInvoice(i).then(function(e){return e=new u.a(e),a({type:o.INVOICE_SAVE_SUCCESS,payload:e}),e},function(e){throw a({type:o.INVOICE_SAVE_FAILURE,payload:e}),e})}},I=function(e){return function(t){return t({type:o.INVOICES_DELETE,payload:e}),c.default.deleteInvoices(e).then(function(e){t({type:o.INVOICES_DELETE_SUCCESS,payload:e})},function(e){throw t({type:o.INVOICES_DELETE_FAILURE,payload:e}),e})}},g=function(e,t,n,a){return function(r,i){var s=C(t,n,i()),l=s.id;return s.id=e,r({type:o.INVOICE_SAVE,payload:{}}),c.default.saveInvoice(s).then(function(e){return a.replace("/invoices/".concat(e.id)),l!==e.id&&r(I([l])),new u.a(e)}).then(function(e){r({type:o.INVOICE_SAVE_SUCCESS,payload:e})}).catch(function(e){throw r({type:o.INVOICE_SAVE_FAILURE,payload:e}),e})}},S=function(e,t,n,a){return function(r){return r(O(e,t,!0)).then(function(){return r(Object(s.a)(a,n))})}}},144:function(e,t,n){"use strict";function a(e){var t=String(e).toUpperCase().replace(/[^A-Z0-9]/g,""),n=t.match(/^([A-Z]{2})(\d{2})([A-Z\d]+)$/);return!(!n||t.length!=={AD:24,AE:23,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,CH:21,CR:21,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,ES:24,FI:18,FO:18,FR:27,GB:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IS:26,IT:27,JO:30,KW:30,KZ:20,LB:28,LI:21,LT:20,LU:20,LV:21,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SE:24,SI:19,SK:24,SM:27,TN:24,TR:26}[n[1]])&&function(e){for(var t=parseInt(e.slice(0,2)),n=2;n<e.length;n+=7){var a=String(t)+e.substring(n,n+7);t=parseInt(a,10)%97}return t}((n[3]+n[1]+n[2]).replace(/[A-Z]/g,function(e){return String(e.charCodeAt(0)-55)}))}n.d(t,"a",function(){return a})},19:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_IN",function(){return a}),n.d(t,"LOG_IN_SUCCESS",function(){return r}),n.d(t,"LOG_IN_FAILURE",function(){return i}),n.d(t,"LOG_OUT",function(){return o}),n.d(t,"CONTACT_CREATE",function(){return c}),n.d(t,"CONTACT_FETCH",function(){return s}),n.d(t,"CONTACT_FETCH_SUCCESS",function(){return l}),n.d(t,"CONTACT_FETCH_FAILURE",function(){return u}),n.d(t,"CONTACTS_FETCH",function(){return d}),n.d(t,"CONTACTS_FETCH_SUCCESS",function(){return m}),n.d(t,"CONTACTS_FETCH_FAILURE",function(){return v}),n.d(t,"CONTACT_FORM_REPLACE",function(){return f}),n.d(t,"CONTACT_FORM_TOGGLE",function(){return p}),n.d(t,"CONTACT_SAVE",function(){return h}),n.d(t,"CONTACT_SAVE_SUCCESS",function(){return E}),n.d(t,"CONTACT_SAVE_FAILURE",function(){return y}),n.d(t,"CONTACTS_DELETE",function(){return b}),n.d(t,"CONTACTS_DELETE_SUCCESS",function(){return C}),n.d(t,"CONTACTS_DELETE_FAILURE",function(){return O}),n.d(t,"INVOICE_FETCH",function(){return I}),n.d(t,"INVOICE_FETCH_SUCCESS",function(){return g}),n.d(t,"INVOICE_FETCH_FAILURE",function(){return S}),n.d(t,"INVOICES_FETCH",function(){return _}),n.d(t,"INVOICES_FETCH_SUCCESS",function(){return k}),n.d(t,"INVOICES_FETCH_FAILURE",function(){return T}),n.d(t,"INVOICE_FORM_REPLACE",function(){return F}),n.d(t,"INVOICE_SAVE",function(){return N}),n.d(t,"INVOICE_SAVE_SUCCESS",function(){return w}),n.d(t,"INVOICE_SAVE_FAILURE",function(){return A}),n.d(t,"INVOICES_DELETE",function(){return j}),n.d(t,"INVOICES_DELETE_SUCCESS",function(){return z}),n.d(t,"INVOICES_DELETE_FAILURE",function(){return P}),n.d(t,"ARCHIVE_IMPORT",function(){return D}),n.d(t,"ARCHIVE_IMPORT_SUCCESS",function(){return R}),n.d(t,"ARCHIVE_IMPORT_FAILURE",function(){return x}),n.d(t,"ARCHIVE_EXPORT",function(){return V}),n.d(t,"ARCHIVE_EXPORT_SUCCESS",function(){return U}),n.d(t,"ARCHIVE_EXPORT_FAILURE",function(){return L}),n.d(t,"SET_VISIBILITY_FILTER",function(){return M});var a="LOG_IN",r="LOG_IN_SUCCESS",i="LOG_IN_FAILURE",o="LOG_OUT",c="CONTACT_CREATE",s="CONTACT_FETCH",l="CONTACT_FETCH_SUCCESS",u="CONTACT_FETCH_FAILURE",d="CONTACTS_FETCH",m="CONTACTS_FETCH_SUCCESS",v="CONTACTS_FETCH_FAILURE",f="CONTACT_FORM_UPDATE",p="CONTACT_FORM_TOGGLE",h="CONTACT_SAVE",E="CONTACT_SAVE_SUCCESS",y="CONTACT_SAVE_FAILURE",b="CONTACTS_DELETE",C="CONTACTS_DELETE_SUCCESS",O="CONTACTS_DELETE_FAILURE",I="INVOICE_FETCH",g="INVOICE_FETCH_SUCCESS",S="INVOICE_FETCH_FAILURE",_="INVOICES_FETCH",k="INVOICES_FETCH_SUCCESS",T="INVOICES_FETCH_FAILURE",F="INVOICE_FORM_REPLACE",N="INVOICE_SAVE",w="INVOICE_SAVE_SUCCESS",A="INVOICE_SAVE_FAILURE",j="INVOICES_DELETE",z="INVOICES_DELETE_SUCCESS",P="INVOICES_DELETE_FAILURE",D="ARCHIVE_IMPORT",R="ARCHIVE_IMPORT_SUCCESS",x="ARCHIVE_IMPORT_FAILURE",V="ARCHIVE_EXPORT",U="ARCHIVE_EXPORT_SUCCESS",L="ARCHIVE_EXPORT_FAILURE",M="SET_VISIBILITY_FILTER"},196:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n(32),r=[{id:"1",entity:"GP Slovakia",name:"Katar\xedna Slobodov\xe1",email:"invoice@gp.svk",phoneNr:"0970234654",street:"Michalsk\xe1 13",city:"Bratislava",zipCode:"81103",country:"Slovensko",legalId:"45923099",taxId:"1627435979",iban:"SK7548161192967983361238",bankAccount:"1192967983361238",bankName:"Tatra Banka",bankCode:"1100",swift:"TATRSKBX",isOwn:!0},{id:"2",entity:"Etrix Slovakia",name:"Jozef Kov\xe1\u010d",email:"invoice@etrix.svk",phoneNr:"0989447329",street:"Antona Pr\xeddavka 26",city:"Pre\u0161ov",zipCode:"08001",country:"Slovensko",legalId:"25537359",taxId:"0627536219",taxLegalId:"SK379324241",iban:"SK8949968412396661421327",bankAccount:"8412396661421327",bankName:"UniCredit Bank",bankCode:"1111",swift:"UNCRSKBX",isOwn:!0}],i=[{id:"2019001",type:1,paymentType:a.c.WireTransfer,description:"Fakt\xfara za slu\u017eby",emitent:r[0],recipient:r[1],discount:5,items:[{name:"Notebook HP Elite",pricePerUnit:1399,unit:"kus",amount:1}],variableSymbol:"2019001",constantSymbol:"0308",issueDate:new Date(2019,4,1),dueDate:new Date(2019,4,15),paymentDate:new Date(2019,4,13),finalText:"\u010eakujeme za d\xf4veru."},{id:"2019002",type:2,paymentType:a.c.Card,description:"Fakt\xfara za slu\u017eby",emitent:r[1],recipient:r[0],items:[{name:"Eset Smart Security",pricePerUnit:66,unit:"kus",amount:12,taxRate:20}],variableSymbol:"2019002",constantSymbol:"0308",issueDate:new Date(2019,4,3),dueDate:new Date(2019,4,18),finalText:"Softv\xe9rov\xe1 licencia je neprenosn\xe1."}]},198:function(e,t,n){"use strict";n.r(t);var a=n(227),r=n.n(a);n.d(t,"DownOutline",function(){return r.a});var i=n(228),o=n.n(i);n.d(t,"UpOutline",function(){return o.a});var c=n(229),s=n.n(c);n.d(t,"ArrowLeftOutline",function(){return s.a});var l=n(230),u=n.n(l);n.d(t,"LeftOutline",function(){return u.a});var d=n(231),m=n.n(d);n.d(t,"RightOutline",function(){return m.a});var v=n(232),f=n.n(v);n.d(t,"DoubleLeftOutline",function(){return f.a});var p=n(233),h=n.n(p);n.d(t,"DoubleRightOutline",function(){return h.a});var E=n(234),y=n.n(E);n.d(t,"PlusOutline",function(){return y.a});var b=n(235),C=n.n(b);n.d(t,"DownloadOutline",function(){return C.a});var O=n(236),I=n.n(O);n.d(t,"UploadOutline",function(){return I.a});var g=n(237),S=n.n(g);n.d(t,"EditOutline",function(){return S.a});var _=n(238),k=n.n(_);n.d(t,"FilePdfOutline",function(){return k.a});var T=n(239),F=n.n(T);n.d(t,"SaveOutline",function(){return F.a});var N=n(240),w=n.n(N);n.d(t,"FormOutline",function(){return w.a});var A=n(241),j=n.n(A);n.d(t,"DeleteOutline",function(){return j.a});var z=n(242),P=n.n(z);n.d(t,"MinusCircleOutline",function(){return P.a});var D=n(243),R=n.n(D);n.d(t,"CalendarOutline",function(){return R.a});var x=n(244),V=n.n(x);n.d(t,"CloseCircleFill",function(){return V.a});var U=n(245),L=n.n(U);n.d(t,"InfoCircleOutline",function(){return L.a});var M=n(246),B=n.n(M);n.d(t,"CloseCircleOutline",function(){return B.a});var K=n(247),H=n.n(K);n.d(t,"CheckCircleOutline",function(){return H.a});var G=n(248),q=n.n(G);n.d(t,"CheckCircleFill",function(){return q.a});var W=n(249),X=n.n(W);n.d(t,"ExclamationCircleOutline",function(){return X.a});var Z=n(250),Y=n.n(Z);n.d(t,"ExclamationCircleFill",function(){return Y.a});var J=n(251),$=n.n(J);n.d(t,"StopOutline",function(){return $.a});var Q=n(252),ee=n.n(Q);n.d(t,"LoadingOutline",function(){return ee.a})},201:function(e,t,n){"use strict";var a=n(18),r=n(21),i=function(e,t){var n=[];return e.forEach(function(e){var a=t.findIndex(function(t){var n=t.id;return e.id===n});if(-1===a)return t.push(e),!1;var r=t[a];return(r.revision||0)>(e.revision||0)?(n.push(e),!1):new Date(r.updatedAt||0)>new Date(e.updatedAt||0)?(n.push(e),!1):void(t[a]=e)}),n},o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage;Object(a.a)(this,e),this.storage=t}return Object(r.a)(e,[{key:"doLogin",value:function(e,t){return Promise.resolve(!0)}},{key:"saveContact",value:function(t){if(!t||!t.id)return Promise.reject(new Error("Ch\xfdba id. kontaktu!"));var n=this.getContactsSync(),a=n.findIndex(function(e){return e.id===t.id});return t.updatedAt=new Date,t.revision=a>-1?(n[a].revision||0)+1:1,a>-1?n[a]=t:n.push(t),this.storage.setItem(e.CONTACTS_KEY,JSON.stringify(n)),Promise.resolve(t)}},{key:"mergeContacts",value:function(t){var n=this.getContactsSync(),a=i(t,n);return this.storage.setItem(e.CONTACTS_KEY,JSON.stringify(n)),Promise.resolve({items:n,conflicts:a})}},{key:"fetchContact",value:function(e){return this.fetchContacts().then(function(t){return t.find(function(t){return t.id===e})||null})}},{key:"fetchContacts",value:function(){return Promise.resolve(this.getContactsSync())}},{key:"deleteContacts",value:function(t){var n=this.getContactsSync().filter(function(e){return!t.includes(e.id)});return this.storage.setItem(e.CONTACTS_KEY,JSON.stringify(n)),Promise.resolve(Object.values(n))}},{key:"saveInvoice",value:function(t){if(!t||!t.id)return Promise.reject(new Error("Ch\xfdba id. fakt\xfary!"));var n=this.getInvoicesSync(),a=n.findIndex(function(e){return e.id===t.id});return t.updatedAt=new Date,t.revision=a>-1?(n[a].revision||0)+1:1,a>-1?n[a]=t:n.push(t),this.storage.setItem(e.INVOICES_KEY,JSON.stringify(n)),Promise.resolve(t)}},{key:"mergeInvoices",value:function(t){var n=this.getInvoicesSync(),a=i(t,n);return this.storage.setItem(e.INVOICES_KEY,JSON.stringify(n)),Promise.resolve({items:n,conflicts:a})}},{key:"fetchInvoice",value:function(e){return this.fetchInvoices().then(function(t){return t.find(function(t){return t.id===e})||null})}},{key:"fetchInvoices",value:function(){return Promise.resolve(this.getInvoicesSync())}},{key:"deleteInvoices",value:function(t){var n=this.getInvoicesSync().filter(function(e){return!t.includes(e.id)});return this.storage.setItem(e.INVOICES_KEY,JSON.stringify(n)),Promise.resolve(Object.values(n))}},{key:"getInvoicesSync",value:function(){var t=this.storage.getItem(e.INVOICES_KEY);return t?JSON.parse(t):[]}},{key:"getContactsSync",value:function(){var t=this.storage.getItem(e.CONTACTS_KEY);return t?JSON.parse(t):[]}}]),e}();o.CONTACTS_KEY="contacts",o.INVOICES_KEY="invoices",n.d(t,"a",function(){return c});var c=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"getClient",value:function(t){switch(t){case e.LOCAL_STORAGE_CLIENT:return new o;default:throw new Error("Client type ".concat(t," is not supported"))}}}]),e}();c.LOCAL_STORAGE_CLIENT=1},208:function(e,t){},209:function(e,t){},210:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(19),r=n(47),i=n(80),o=function(e,t,n){return function(n){return n({type:a.LOG_IN,payload:{}}),r.default.doLogin(e,t).then(function(){n({type:a.LOG_IN_SUCCESS,payload:{}}),Object(i.d)()}).catch(function(e){throw n({type:a.LOG_IN_FAILURE,payload:e}),e})}}},211:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(19);var a={SHOW_ALL:"SHOW_ALL",SHOW_COMPLETED:"SHOW_COMPLETED",SHOW_ACTIVE:"SHOW_ACTIVE"}},289:function(e,t,n){"use strict";var a=n(41),r=n(16),i=n.n(r),o=n(19),c=n(80),s=n(143),l=n(47),u=function(){var e=document.createElement("a");return e.style.display="none",document.body.appendChild(e),function(t,n){var a=window.URL.createObjectURL(t);e.href=a,e.download=n,e.click(),window.URL.revokeObjectURL(a)}}();n.d(t,"b",function(){return d}),n.d(t,"a",function(){return m});var d=function(e){return function(t){return t({type:o.ARCHIVE_IMPORT,payload:{}}),new Promise(function(t,n){try{var a=JSON.parse(e);if(!Array.isArray(a.contacts)||!Array.isArray(a.invoices))throw new Error("Neplatn\xfd typ arch\xedvu");t(a)}catch(r){n(r)}}).then(function(e){return Promise.all([l.default.mergeContacts(e.contacts),l.default.mergeInvoices(e.invoices)])}).then(function(e){var n=Object(a.a)(e,2),r=n[0],i=n[1];return t({type:o.ARCHIVE_IMPORT_SUCCESS,payload:{contacts:r.items,invoices:i.items}}),e}).catch(function(e){throw console.log(e),t({type:o.ARCHIVE_IMPORT_FAILURE,payload:new Error("Nastala chyba pri importe arch\xedvu!")}),e})}},m=function(){return function(e){return e({type:o.ARCHIVE_EXPORT,payload:{}}),Promise.all([e(Object(c.d)()),e(Object(s.h)())]).then(function(t){var n=Object(a.a)(t,2),r=n[0],c=n[1];e({type:o.ARCHIVE_EXPORT_SUCCESS,payload:{}});var s=new Blob([JSON.stringify({contacts:r,invoices:c})],{type:"application/json"});u(s,"fz_".concat(i()().format("YYYY-MM-DD_HH-mm-ss"),".json"))}).catch(function(t){throw e({type:o.ARCHIVE_EXPORT_FAILURE,payload:t}),t})}}},294:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(18),r=n(21),i=function(e){return new Promise(function(t){return setTimeout(t,e)})},o=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&"function"===typeof n.value},c=function(e,t){for(var n=[],a=Object.getPrototypeOf(e);a&&a!==t;)Object.getOwnPropertyNames(a).forEach(function(e){"constructor"!==e&&o(a,e)&&n.push(e)}),a=Object.getPrototypeOf(a);return n},s=function(){function e(){Object(a.a)(this,e),this.client=void 0,this.delay=0,this._skipMethods=[],this.initCallback=null}return Object(r.a)(e,[{key:"setClient",value:function(e){return this.client=e,this}},{key:"setDelay",value:function(e){return this.delay=e,this}},{key:"onInit",value:function(e){return this.initCallback=e,this}},{key:"skipMethods",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return this._skipMethods=e,this})},{key:"build",value:function(){return new l(this.client,this.delay,this._skipMethods,this.initCallback)}}]),e}(),l=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0;Object(a.a)(this,e),this.client=t,this.delayInMillis=r,this.skipMethods=o,this.initCallback=s,n=s?s(this.client):Promise.resolve();var l=this;c(t,Object.prototype).forEach(function(e){o.some(function(t){return t instanceof RegExp?t.test(e):e===t})||(l[e]=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n.then(function(){return i(r)}).then(function(){return t[e].apply(t,o)})})})}return Object(r.a)(e,[{key:"setDelay",value:function(e){var t=this.client;return(new s).setClient(t).setDelay(e).skipMethods(this.skipMethods).build()}}]),e}()},313:function(e,t,n){e.exports=n(572)},32:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return u});var a,r,i=n(41),o=n(18),c=n(21),s=n(122),l=864e5;!function(e){e[e.WireTransfer=1]="WireTransfer",e[e.Card=2]="Card",e[e.Cash=3]="Cash",e[e.CashOnDelivery=4]="CashOnDelivery"}(a||(a={})),function(e){e[e.NonTax=1]="NonTax",e[e.Taxable=2]="Taxable"}(r||(r={}));var u=function(){function e(t){Object(o.a)(this,e),this.id=void 0,this.type=r.NonTax,this.description=void 0,this.paymentType=a.WireTransfer,this.recipient=void 0,this.emitent=void 0,this.items=[],this.discount=0,this.variableSymbol="",this.constantSymbol="0308",this.orderNr=void 0,this.issueDate=void 0,this.dueDate=void 0,this.deliveryDate=void 0,this.paymentDate=void 0,this.finalText=void 0,this.revision=void 0,this.updatedAt=void 0;var n=Date.now();Object.assign(this,t),this.issueDate=new Date(this.issueDate||n),this.dueDate=new Date(this.dueDate||n+15*l),this.paymentDate=this.paymentDate?new Date(this.paymentDate):void 0,this.deliveryDate=this.deliveryDate?new Date(this.deliveryDate):void 0,this.items=t&&t.items?t.items.map(function(e){return new s.a(e)}):[]}return Object(c.a)(e,[{key:"grossPrice",get:function(){if(this.type===r.NonTax)return this.items.reduce(function(e,t){return e+t.netPrice},0);if(this.type===r.Taxable){var e=this.items.reduce(function(e,t){var n=t.taxRate,a=t.netPrice;return e[n]=(e[n]||0)+a,e},{});return Object.entries(e).reduce(function(e,t){var n=Object(i.a)(t,2),a=n[0],r=n[1];return e+=r+r/100*Number(a)},0)}return Number.NaN}},{key:"discountPrice",get:function(){return-this.grossPrice/100*this.discount}},{key:"netPrice",get:function(){return this.grossPrice+this.discountPrice}}]),e}()},339:function(e,t,n){},42:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l});var a=n(197),r=n.n(a),i=n(144),o=new Intl.NumberFormat("sk-SK",{style:"currency",currency:"EUR"}),c=Intl.DateTimeFormat("sk-SK"),s=function(e){if(1===Object(i.a)(e)){var t=new r.a("UUAA AAAA AAAA AAAA AAAA AAAA").process(e),n=t.result;return t.valid?n:e}return e},l=function(e){if("string"!==typeof e)return e;var t=e.toUpperCase().replace(/[^A-Z0-9]/g,"");if(5!==t.length)return e;var n=new r.a("000 00").process(t),a=n.result;return n.valid?a:e}},47:function(e,t,n){"use strict";var a=n(194),r=n.n(a),i=n(293),o=n(201),c=n(294),s=n(196);n(209);t.default=function(){var e=(new o.a).getClient(o.a.LOCAL_STORAGE_CLIENT);return(new c.a).setClient(e).setDelay(500).skipMethods([/.*Sync/]).onInit(function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchContacts();case 2:if(e.t0=e.sent.length,0!==e.t0){e.next=5;break}t.mergeContacts(s.a);case 5:return e.next=7,t.fetchInvoices();case 7:if(e.t1=e.sent.length,0!==e.t1){e.next=10;break}t.mergeInvoices(s.b);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).build()}()},507:function(e,t,n){},519:function(e,t,n){},524:function(e,t,n){},563:function(e,t,n){},564:function(e,t,n){},565:function(e,t,n){},566:function(e,t,n){},568:function(e,t,n){},572:function(e,t,n){"use strict";n.r(t);n(314);var a=n(307),r=n(0),i=n.n(r),o=n(10),c=n.n(o),s=n(98),l=n(54),u=n(81),d=n(44),m=n(292),v=n(86),f=n(308),p=n.n(f),h=(n(205),n(73)),E=n(18),y=n(21),b=n(28),C=n(25),O=n(27),I=(n(207),n(85)),g=n(11),S=(n(128),n(71)),_=(n(288),n(156)),k=(n(58),n(26)),T=(n(117),n(38)),F=n(49),N=n(42),w=(n(339),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).hideSavingProgressMessage=null,n.state={isConfirmationModalVisible:!1,selectedRowKeys:[]},n.onSelectChange=function(e){n.setState({selectedRowKeys:e})},n.handleDelete=function(){n.setState({isConfirmationModalVisible:!0})},n.handleOk=function(){var e=n.state.selectedRowKeys;n.props.onDelete(e),n.setState({isConfirmationModalVisible:!1})},n.handleCancel=function(){n.setState({isConfirmationModalVisible:!1})},n.handleCreateNewInvoice=function(){n.props.onCreate(n.props.history)},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillUpdate",value:function(e){var t=this.props.ui.isSaving,n=e.ui.isSaving;!n&&t?(this.hideMessage(),T.a.success("Zmeny boli ulo\u017een\xe9",1),this.setState({selectedRowKeys:[]})):n&&(this.hideMessage(),this.hideSavingProgressMessage=T.a.loading("Prebieha ukladanie...",0))}},{key:"componentWillUnmount",value:function(){this.hideMessage()}},{key:"hideMessage",value:function(){this.hideSavingProgressMessage&&this.hideSavingProgressMessage(),this.hideSavingProgressMessage=null}},{key:"render",value:function(){var e=this.props,t=e.invoices,n=e.ui,a=this.state,r=a.selectedRowKeys,o=a.isConfirmationModalVisible,c={selectedRowKeys:r,onChange:this.onSelectChange},s=r.length>0;return i.a.createElement("div",{className:"fz-list-page"},i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(k.a,{type:"primary",icon:"form",size:"large",onClick:this.handleCreateNewInvoice},"Vystavi\u0165"),i.a.createElement(k.a,{icon:"delete",size:"large",disabled:!s,onClick:this.handleDelete},"Vymaza\u0165")),i.a.createElement("div",{className:"fz-table-wrapper"},i.a.createElement(_.a,{className:"fz-table fz-invoice-table",rowKey:"id",dataSource:t,columns:A,rowSelection:c,loading:n.isFetching})),i.a.createElement(S.a,{title:"Potvrdenie",visible:o,onOk:this.handleOk,onCancel:this.handleCancel},i.a.createElement("p",null,"Prajete si vymaza\u0165 ozna\u010den\xe9 z\xe1znamy?")))}}]),t}(r.Component)),A=[{title:"Id. dokladu",dataIndex:"id",key:"id",render:function(e){return i.a.createElement(F.a,{to:"/invoices/".concat(e)},e)}},{title:"Popis",className:"fz-invoice-table__item fz-invoice-table__item--wide",dataIndex:"description",key:"description"},{title:"Odberate\u013e",className:"fz-invoice-table__item fz-invoice-table__item--wide",dataIndex:"recipient.entity",key:"recipient"},{title:"Suma",dataIndex:"netPrice",key:"netPrice",render:function(e){return N.a.format(e)}},{title:"D\xe1tum vystavenia",dataIndex:"issueDate",key:"issueDate",render:function(e){return N.b.format(new Date(e))}},{title:"Splatnos\u0165",dataIndex:"dueDate",key:"dueDate",render:function(e){return N.b.format(new Date(e))}}],j=n(32),z=Object(s.f)(Object(d.b)(function(e){return{invoices:function(e,t){switch(t){case g.VisibilityFilters.SHOW_ALL:return e;case g.VisibilityFilters.SHOW_COMPLETED:return e.filter(function(e){return e.completed});case g.VisibilityFilters.SHOW_ACTIVE:return e.filter(function(e){return!e.completed});default:return e}}(e.invoices,e.visibilityFilter).map(function(e){return new j.a(e)}).sort(function(e,t){return t.issueDate.getTime()-e.issueDate.getTime()}),ui:e.ui}},function(e){return{onCreate:function(t){e(Object(g.createInvoice)(t))},onDelete:function(t){e(Object(g.deleteInvoices)(t))}}})(w)),P=n(62),D=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).hideSavingProgressMessage=null,n.state={isConfirmationModalVisible:!1,selectedRowKeys:[]},n.onSelectChange=function(e){n.setState({selectedRowKeys:e})},n.onCreate=function(){n.props.onCreate(n.props.history)},n.handleDelete=function(){n.setState({isConfirmationModalVisible:!0})},n.handleOk=function(){var e=n.state.selectedRowKeys;n.props.onDelete(e),n.setState({isConfirmationModalVisible:!1})},n.handleCancel=function(){n.setState({isConfirmationModalVisible:!1})},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillUpdate",value:function(e){var t=this.props.ui.isSaving,n=e.ui.isSaving;!n&&t?(this.hideMessage(),T.a.success("Zmeny boli ulo\u017een\xe9",1),this.setState({selectedRowKeys:[]})):n&&(this.hideMessage(),this.hideSavingProgressMessage=T.a.loading("Prebieha ukladanie...",0))}},{key:"componentWillUnmount",value:function(){this.hideMessage()}},{key:"hideMessage",value:function(){this.hideSavingProgressMessage&&this.hideSavingProgressMessage(),this.hideSavingProgressMessage=null}},{key:"render",value:function(){var e=this.props,t=e.contacts,n=e.ui,a=this.state,r=a.selectedRowKeys,o=a.isConfirmationModalVisible,c={selectedRowKeys:r,onChange:this.onSelectChange},s=r.length>0;return i.a.createElement("div",{className:"fz-list-page"},i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(k.a,{type:"primary",icon:"form",size:"large",onClick:this.onCreate},"Prida\u0165"),i.a.createElement(k.a,{icon:"delete",size:"large",disabled:!s,onClick:this.handleDelete},"Vymaza\u0165")),i.a.createElement("div",{className:"fz-table-wrapper"},i.a.createElement(_.a,{rowKey:"id",className:"fz-table fz-contact-table",dataSource:t,columns:R,rowSelection:c,loading:n.isFetching})),i.a.createElement(S.a,{title:"Potvrdenie",visible:o,onOk:this.handleOk,onCancel:this.handleCancel},i.a.createElement("p",null,"Prajete si vymaza\u0165 ozna\u010den\xe9 z\xe1znamy?")))}}]),t}(r.Component),R=[{title:"N\xe1zov",dataIndex:"entity",key:"entity",render:function(e,t){return i.a.createElement(F.a,{to:"/contacts/".concat(t.id)},e)}},{title:"Meno",dataIndex:"name",key:"name"},{title:"E-mail",dataIndex:"email",key:"email"},{title:"Telef\xf3n",dataIndex:"phoneNr",key:"phoneNr"}],x=Object(d.b)(function(e){var t=function(e,t){switch(t){case g.VisibilityFilters.SHOW_ALL:return e;case g.VisibilityFilters.SHOW_COMPLETED:return e.filter(function(e){return e.completed});case g.VisibilityFilters.SHOW_ACTIVE:return e.filter(function(e){return!e.completed});default:return e}}(e.contacts,e.visibilityFilter);return{contacts:Object(P.a)(t),ui:e.ui}},function(e){return{onCreate:function(t){e(Object(g.createContact)(t))},onDelete:function(t){e(Object(g.deleteContacts)(t))}}})(D),V=n(17),U=(n(268),n(159)),L=(n(290),n(158)),M=(n(77),n(7)),B=n(106),K=n(153),H=n.n(K),G=n(41),q=(n(573),n(162)),W=(n(269),n(115)),X=(n(92),n(33)),Z=(n(93),n(23)),Y=(n(79),n(8)),J=(n(164),n(51)),$=(n(78),n(24)),Q=(n(273),n(116)),ee=n(154),te=n(2),ne=n.n(te),ae=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return i.a.createElement("span",null,this.props.value)}}]),t}(r.Component),re=function(e){var t=e.children,n=Object(ee.a)(e,["children"]);return i.a.createElement(Y.a.Item,Object.assign({},n,{className:ne()("fz-invoice-items__row__cell__item",n.className),labelCol:{xs:24,sm:8,prefixCls:"fz-invoice-items__label"},wrapperCol:{xs:24,sm:16,prefixCls:"fz-invoice-items__wrapper"}}),t)},ie=function(e){var t=e.type,n=e.items,a=e.onItemAdd,r=e.onItemRemove,o=e.getFieldDecorator,c=0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"fz-invoice-row"},i.a.createElement("h4",{className:"fz-invoice-header"},"Polo\u017eky fakt\xfary")),i.a.createElement("div",{className:"fz-invoice-items"},n.map(function(e,a){var s=n[a]||{},l=s.netPrice,u=void 0===l?0:l,d=s.taxPrice,m=void 0===d?0:d,v=s.grossPrice,f=void 0===v?0:v;return i.a.createElement("div",{key:a,className:"fz-invoice-items__row".concat(0===c++?" fz-invoice-items__row--header":"")},i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--delete"},i.a.createElement(re,{label:"\xa0",colon:!1},Object.keys(n).length>1?i.a.createElement(M.a,{className:"fz-dynamic-delete-button",type:"minus-circle-o",onClick:function(){return r(a)}}):null)),i.a.createElement("div",{className:"fz-invoice-items__row__cell-group fz-invoice-items__row__cell-group__name"},i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--name"},i.a.createElement(re,{label:"Polo\u017eka"},o("itemsNames[".concat(a,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Vypl\u0148te n\xe1zov polo\u017eky!"}]})(i.a.createElement($.a,null))))),i.a.createElement("div",{className:"fz-invoice-items__row__cell-group"},i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--narrow"},i.a.createElement(re,{label:"Jednotka"},o("units[".concat(a,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Vypl\u0148te jednotku!"}]})(i.a.createElement($.a,null)))),i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--narrow"},i.a.createElement(re,{label:"Mno\u017estvo"},o("amounts[".concat(a,"]"),{validateTrigger:["onChange"],rules:[{type:"number",min:0,required:!0,whitespace:!0,message:"Vypl\u0148te mno\u017estvo!"}]})(i.a.createElement(Q.a,{style:{width:"auto"},min:0,decimalSeparator:","})))),i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--price"},i.a.createElement(re,{label:"Cena za m.j."},o("pricesPU[".concat(a,"]"),{validateTrigger:["onChange"],rules:[{type:"number",min:0,required:!0,whitespace:!0,message:"Vypl\u0148te cenu!"}]})(i.a.createElement(Q.a,{style:{width:"auto"},min:0,decimalSeparator:","})))),t===j.b.Taxable?i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--narrow"},i.a.createElement(re,{label:"DPH %"},o("taxRates[".concat(a,"]"),{validateTrigger:["onChange"],rules:[{type:"number",min:0,max:100,required:!0,whitespace:!0,message:"Vypl\u0148te DPH!"}]})(i.a.createElement(Q.a,{style:{width:"auto"},min:0,max:100,decimalSeparator:","})))):null),i.a.createElement("div",{className:"fz-invoice-items__row__cell-group fz-invoice-items__row__cell-group__sums"},t===j.b.Taxable?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum"},i.a.createElement(re,{label:"bez DPH"},i.a.createElement(ae,{value:N.a.format(u)}))),i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum"},i.a.createElement(re,{label:"DPH"},i.a.createElement(ae,{value:N.a.format(m)}))),i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum"},i.a.createElement(re,{label:"s DPH"},i.a.createElement(ae,{value:N.a.format(f)})))):i.a.createElement("div",{className:"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum"},i.a.createElement(re,{label:"Suma"},i.a.createElement(ae,{value:N.a.format(u)})))))}),i.a.createElement(X.a,null,i.a.createElement(Z.a,{span:16,offset:1},i.a.createElement(Y.a.Item,oe,i.a.createElement(k.a,{type:"dashed",onClick:a,style:{width:"60%"}},i.a.createElement(M.a,{type:"plus"})," Pridaj polo\u017eku"))))))},oe={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:0}}},ce=function(e){var t=e.netPrice,n=e.grossPrice,a=e.discountPrice,r=e.getFieldDecorator;return i.a.createElement("div",{className:"fz-invoice-sums"},i.a.createElement(X.a,{className:"fz-invoice-row fz-invoice-row--sum"},i.a.createElement(Z.a,{span:8},i.a.createElement(Y.a.Item,Object.assign({},se,{label:"Pred z\u013eavou"}),i.a.createElement(ae,{value:N.a.format(n)})))),i.a.createElement(X.a,{className:"fz-invoice-row fz-invoice-row--sum"},i.a.createElement(Z.a,{span:4},i.a.createElement(Y.a.Item,{label:i.a.createElement("span",null,"Z\u013eava"),wrapperCol:{span:6},labelCol:{span:6}},r("discount",{rules:[{type:"number",required:!1,min:0,max:100,message:"Ch\xfdba \xfadaj o z\u013eave!"}]})(i.a.createElement(Q.a,{min:0,max:100})))),i.a.createElement(Z.a,{span:4},i.a.createElement(Y.a.Item,{colon:!1,label:""},i.a.createElement(ae,{value:N.a.format(a)})))),i.a.createElement(X.a,{className:"fz-invoice-row fz-invoice-row--sum"},i.a.createElement(Z.a,{span:8,offset:0,className:"fz-invoice-sum"},i.a.createElement(Y.a.Item,Object.assign({},se,{label:"Kone\u010dn\xe1 suma:"}),i.a.createElement(ae,{value:N.a.format(t)})))))},se={labelCol:{xs:{span:12,offset:0},sm:{span:12,offset:0},lg:{span:12,offset:0}},wrapperCol:{xs:{span:12,offset:0},sm:{span:12,offset:0},lg:{span:12,offset:0}}},le=$.a.TextArea,ue=J.a.Option,de={labelCol:{xs:{span:24},sm:{span:8},lg:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},lg:{span:16}}},me={xs:24,sm:16,lg:12},ve=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){n.props.onSubmit(e,n.props.form)},n.handleEntityCreate=function(e){e.preventDefault();var t=!1;e.target instanceof HTMLElement&&("emitent"===e.target.dataset.type&&(t=!0));n.props.onEntityCreate(t)},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.netPrice,a=e.grossPrice,r=e.discountPrice,o=e.contacts,c=e.constantSymbols,s=e.isSaving,l=e.onItemAdd,u=e.onItemRemove,d=e.onPdfClick,m=this.props.form,v=m.getFieldDecorator,f=m.getFieldValue;return i.a.createElement(Y.a,Object.assign({},de,{layout:"horizontal",className:"fz-invoice-form",onSubmit:this.handleSubmit}),v("id",{})(i.a.createElement($.a,{type:"hidden"})),v("type",{})(i.a.createElement($.a,{type:"hidden"})),i.a.createElement(X.a,{className:"fz-invoice-row"},i.a.createElement(Z.a,me,i.a.createElement(Y.a.Item,{label:"Odberate\u013e"},v("recipient",{rules:[{required:!0,message:"Vyberte odberate\u013ea!"}]})(i.a.createElement(J.a,null,o.map(function(e){return i.a.createElement(ue,{key:"rcpt_".concat(e.id),value:e.id},e.entity)}))))),i.a.createElement(Z.a,me,i.a.createElement("a",{"data-type":"recipient",style:{lineHeight:"40px",paddingLeft:12},onClick:this.handleEntityCreate},i.a.createElement(M.a,{type:"plus"}),"\xa0Nov\xfd odberate\u013e"))),i.a.createElement(W.a,null),i.a.createElement(X.a,{className:"fz-invoice-row"},i.a.createElement(Z.a,me,i.a.createElement(Y.a.Item,{label:"Dod\xe1vate\u013e"},v("emitent",{rules:[{required:!0,message:"Vyberte dod\xe1vate\u013ea!"}]})(i.a.createElement(J.a,null,o.reduce(function(e,t){if(t.isOwn){var n=i.a.createElement(ue,{key:"emt_".concat(t.id),value:t.id},t.entity);e.push(n)}return e},[]))))),i.a.createElement(Z.a,me,i.a.createElement("a",{"data-type":"emitent",style:{lineHeight:"40px",paddingLeft:12},onClick:this.handleEntityCreate},i.a.createElement(M.a,{type:"plus"}),"\xa0Nov\xfd dod\xe1vate\u013e"))),i.a.createElement(W.a,null),i.a.createElement(X.a,{className:"fz-invoice-row"},i.a.createElement(Z.a,me,i.a.createElement(Y.a.Item,{label:"Sp\xf4sob \xfahrady"},v("paymentType",{rules:[{required:!0,message:"Ch\xfdbaj\xfaci sp\xf4sob \xfahrady!"}]})(i.a.createElement(J.a,null,i.a.createElement(ue,{value:j.c.WireTransfer},"Prevodom"),i.a.createElement(ue,{value:j.c.Card},"Kartou"),i.a.createElement(ue,{value:j.c.Cash},"V hotovosti"),i.a.createElement(ue,{value:j.c.CashOnDelivery},"Dobierka")))),i.a.createElement(Y.a.Item,{label:"D\xe1tum vystavenia"},v("issueDate",{rules:[{required:!0,message:"Vypl\u0148te d\xe1tum vystavenia!"}]})(i.a.createElement(q.a,{format:"DD.MM.YYYY"}))),i.a.createElement(Y.a.Item,{label:"D\xe1tum splatnosti"},v("dueDate",{rules:[{required:!0,message:"Ch\xfdbaj\xfaci d\xe1tum splatnosti!"}]})(i.a.createElement(q.a,{format:"DD.MM.YYYY"}))),i.a.createElement(Y.a.Item,{label:"D\xe1tum dodania"},v("deliveryDate",{rules:[{required:!1,message:"Vypl\u0148te d\xe1tum dodania!"}]})(i.a.createElement(q.a,{format:"DD.MM.YYYY"})))),i.a.createElement(Z.a,me,i.a.createElement(Y.a.Item,{label:"Variabiln\xfd symbol"},v("variableSymbol",{rules:[{required:!0,message:"Vypl\u0148te variabiln\xfd symbol!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"Kon\u0161tantn\xfd symbol"},v("constantSymbol",{rules:[{required:!0,message:"Vypl\u0148te kon\u0161tantn\xfd symbol!"}]})(i.a.createElement(J.a,null,c.map(function(e){var t=Object(G.a)(e,2),n=t[0],a=t[1];return i.a.createElement(ue,{key:n,value:n},n," - ",a)})))),i.a.createElement(Y.a.Item,{label:"\u010c\xedslo objedn\xe1vky"},v("orderNr",{rules:[{required:!1,message:"Vypl\u0148te \u010d\xedslo objedn\xe1vky!"}]})(i.a.createElement($.a,null))))),i.a.createElement(X.a,{className:"fz-invoice-row"},i.a.createElement(Z.a,{span:24},i.a.createElement(Y.a.Item,{label:"Popis"},v("description",{rules:[{required:!1,message:"Vypl\u0148te popis!"}]})(i.a.createElement($.a,{placeholder:"Popis objedn\xe1vky"}))))),i.a.createElement(W.a,null),i.a.createElement(ie,{items:t,type:f("type"),getFieldDecorator:v,onItemAdd:l,onItemRemove:u}),i.a.createElement(ce,{netPrice:n,grossPrice:a,discountPrice:r,getFieldDecorator:v}),i.a.createElement(X.a,{className:"fz-invoice-row",type:"flex",justify:"start"},i.a.createElement(Z.a,{span:24},i.a.createElement(Y.a.Item,{label:"Text na konci fakt\xfary"},v("finalText",{rules:[{required:!1,message:"Ch\xfdba text!"}]})(i.a.createElement(le,{autosize:{minRows:4,maxRows:4}}))))),i.a.createElement(X.a,{className:"fz-invoice-row"},i.a.createElement(Z.a,{span:24,style:{textAlign:"right",margin:15}},i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(k.a,{icon:"file-pdf",size:"large",onClick:d},"PDF"),i.a.createElement(k.a,{type:"primary",icon:"save",size:"large",htmlType:"submit",loading:s},"Ulo\u017ei\u0165")))))}}]),t}(r.Component),fe=Y.a.create({name:"invoice",onFieldsChange:function(e,t,n){e.onFieldsChange(t,n)},mapPropsToFields:function(e){var t=e.fields;return 0===Object.keys(t).length?{}:{id:Y.a.createFormField(t.id),type:Y.a.createFormField(t.type),recipient:Y.a.createFormField(t.recipient),emitent:Y.a.createFormField(t.emitent),paymentType:Y.a.createFormField(t.paymentType),dueDate:Y.a.createFormField(t.dueDate),issueDate:Y.a.createFormField(t.issueDate),deliveryDate:Y.a.createFormField(t.deliveryDate),paymentDate:Y.a.createFormField(t.paymentDate),isPayed:Y.a.createFormField({value:!!t.paymentDate.value}),variableSymbol:Y.a.createFormField(t.variableSymbol),constantSymbol:Y.a.createFormField(t.constantSymbol),orderNr:Y.a.createFormField(t.orderNr),description:Y.a.createFormField(t.description),finalText:Y.a.createFormField(t.finalText),itemsNames:t.itemsNames&&t.itemsNames.map(function(e){return Y.a.createFormField(e)}),pricesPU:t.pricesPU&&t.pricesPU.map(function(e){return Y.a.createFormField(e)}),units:t.units&&t.units.map(function(e){return Y.a.createFormField(e)}),amounts:t.amounts&&t.amounts.map(function(e){return Y.a.createFormField(e)}),taxRates:t.taxRates&&t.taxRates.map(function(e){return Y.a.createFormField(e)}),grossPrices:t.grossPrices&&t.grossPrices.map(function(e){return Y.a.createFormField(e)}),taxPrices:t.taxPrices&&t.taxPrices.map(function(e){return Y.a.createFormField(e)}),netPrices:t.netPrices&&t.netPrices.map(function(e){return Y.a.createFormField(e)}),discount:Y.a.createFormField(t.discount),grossPrice:Y.a.createFormField(t.grossPrice),discountPrice:Y.a.createFormField(t.discountPrice),netPrice:Y.a.createFormField(t.netPrice)}},onValuesChange:function(e,t){e.onValuesChange&&e.onValuesChange(t)}})(ve);var pe=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(b.a)(this,Object(C.a)(t).call(this,e))).assertUniqueId=function(e,t,a){if(!t)return a();n.props.onInvoiceCheckExists(t).then(function(e){a(!!e||void 0)})},n.assertUniqueId=function(e,t,n){var a;return function(){var r=this,i=arguments,o=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,i)},t),o&&e.apply(r,i)}}(n.assertUniqueId,250,!1),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.invoiceId;return i.a.createElement(Y.a,null,i.a.createElement(Y.a.Item,{hasFeedback:!0,label:"Nov\xfd identifik\xe1tor"},e("invoiceId",{rules:[{required:!0,message:"Vypl\u0148te id dokladu!"},{validator:this.assertUniqueId,message:"Id dokladu u\u017e bolo pou\u017eit\xe9!"}],initialValue:t})(i.a.createElement($.a,null))))}}]),t}(r.Component),he=Y.a.create({name:"change_invoice_id"})(pe),Ee=(n(214),n(148)),ye=function(){return i.a.createElement("div",null,i.a.createElement(Ee.a,{size:"large"}),i.a.createElement("br",null))},be=n(96);function Ce(e){localStorage.setItem("message",JSON.stringify(e)),localStorage.removeItem("message")}var Oe=[["0008","Platby za tovar (okrem platieb pod symbolmi 010x)"],["0028","Platby za dod\xe1vky investi\u010dnej povahy"],["0038","Prostriedky na mzdy"],["0058","Pen\xe1le, poplatky z ome\u0161kania, in\xe9 majetkov\xe9 sankcie, n\xe1hrady \u0161k\xf4d"],["0068","Prevody prostriedkov na mzdy a ostatn\xe9 osobn\xe9 n\xe1klady"],["0078","Tr\u017eby za predan\xfd tovar a poskytnut\xe9 stravovanie"],["0108","Platby za po\u013enohospod\xe1rske v\xfdrobky"],["0138","Zr\xe1\u017eky z miezd"],["0158","Hospod\xe1rsko operat\xedvne v\xfddavky"],["0168","Spl\xe1tky \xfaverov a p\xf4\u017ei\u010diek"],["0178","Tr\u017eby za poskytnut\xe9 slu\u017eby"],["0308","Platby za slu\u017eby"],["0358","Platby ur\u010den\xe9 na v\xfdplaty v hotovosti prostredn\xedctvom p\xf4\u0161t"],["0558","Finan\u010dn\xe9 platby ostatn\xe9"],["0858","Prechodne poskytnut\xe9 p\xf4\u017ei\u010dky"],["0938","D\xe1vky soci\xe1lneho zabezpe\u010denia"],["0968","Ostatn\xe9 prevody medzi \xfa\u010dtami toho ist\xe9ho klienta"],["1018","Pr\xedjmy z podnikania a vlastn\xedctva majetku - vo vz\u0165ahu k \u0160R"],["1118","Administrat\xedvne a in\xe9 poplatky a platby - vo vz\u0165ahu k \u0160R"],["1144","Be\u017en\xe1 z\xe1loha dane"],["1144","Platba be\u017en\xe1, preddavok na da\u0148"],["1148","Be\u017en\xe1 z\xe1loha dane"],["1318","Pr\xedjmy zo spl\xe1c. p\xf4\u017ei\u010d. poskytnut\xfdch zo \u0160R a z predaja \xfa\u010das. majetku \u0161t\xe1tu"],["1344","Do\xfa\u010dtovanie dan\xed za predch\xe1dzaj\xface zda\u0148ovacie obdobie"],["1348","Do\xfa\u010dtovanie dan\xed za predch\xe1dzaj\xface zda\u0148ovacie obdobie"],["1548","Dodato\u010dn\xe9 da\u0148ov\xe9 priznanie"],["1744","Vy\xfa\u010dtovanie dane za posledn\xe9 zda\u0148ovacie obdobie DPFO a DPPO"],["1748","Vy\xfa\u010dtovanie dane za posledn\xe9 zda\u0148ovacie obdobie (DPFO, DPPO)"],["1944","Z\xfa\u010dtovanie rozdielov preddavkov dane z pr\xedjmu zo z\xe1vislej \u010dinnosti, dane vyberanej zr\xe1\u017ekou a zabezpe\u010den\xed dane"],["1948","Z\xfa\u010dt. rozdielov predd. na da\u0148 z pr\xedjmov zo z\xe1v. \u010dinnosti, zr\xe1\u017eky dan\xed"],["2018","Ostatn\xe9 pr\xedjmy vo vz\u0165ahu k \u0160R"],["2058","N\xe1kup cenn\xfdch papierov (akcie, dlhopisy, zmenky)"],["2144","Dodato\u010dne vyruben\xe1 da\u0148"],["2148","Dodato\u010dne vyruben\xe1 da\u0148"],["2558","\xdahrady poistn\xfdch plnen\xed pois\u0165ov\u0148ami"],["2848","Pau\u0161. da\u0148 pod\u013ea \xa715Z.\u010d. 366/1999 Z.z. o dan. z pr\xedjmov"],["3058","Predaj cenn\xfdch papierov"],["3118","Poistn\xe9 a pr\xedspevok zamestn\xe1vate\u013ea do pois\u0165ovn\xed a N\xdaP"],["3148","Pen\xe1le z kontroly"],["3344","Sank\u010dn\xfd \xfarok, pen\xe1le"],["3348","Pen\xe1le zo spr\xe1vy"],["3548","Pen\xe1le vyruben\xe9 da\u0148ov\xfdmi organmi z kontroly"],["3558","Platby poistn\xe9ho pois\u0165ovniam"],["3718","N\xe1jomn\xe9 za pren\xe1jom - vo vz\u0165ahu k \u0160R"],["3748","Pen\xe1le vyruben\xe9 da\u0148ov\xfdmi org\xe1nmi zo spr\xe1vy"],["4058","Vypl\xe1canie v\xfdnosov z cenn. papierov, splatnos\u0165 menovitej hodnoty"],["4948","Vr\xe1tenie dane - nepriame dane"],["5058","Ostatn\xe9 obchody s cenn\xfdmi papiermi"],["5118","Spl\xe1canie \xfarokov a ostatn\xe9 platby s\xfavisiace s \xfavermi - vo vz\u0165ahu k \u0160R"],["5144","Zv\xfd\u0161enie dane"],["5148","Zv\xfd\u0161enie dane"],["5344","Nadmern\xfd odpo\u010det"],["5348","N\xe1rok na odpo\u010det dane"],["5748","Dodato\u010dn\xe9 da\u0148ov\xe9 priznanie"],["5918","Spl\xe1canie dom. istiny, spl\xe1c. v\xfdnosy z cenn\xfdch papierov - vo vz\u0165ahu k \u0160R"],["5944","Zv\xfd\u0161enie dane - da\u0148ov\xe1 in\u0161pekcia"],["5948","Zv\xfd\u0161enie dane - da\u0148ov\xe1 in\u0161pekcia"],["6144","Dodato\u010dn\xe1 platba z da\u0148ovej in\u0161pekcie"],["6148","Dodato\u010dn\xe1 platba z da\u0148ovej in\u0161pekcie"],["6344","Pokuta z kontroly"],["6348","Pokuta z kontroly"],["6544","Pokuta zo spr\xe1vy"],["6548","Pokuta zo spr\xe1vy"],["6744","Pokuty vyruben\xe9 da\u0148ovou in\u0161pekciou"],["6748","Pokuty vyruben\xe9 da\u0148ovou in\u0161pekciou"],["6948","Pokuty vyruben\xe9 da\u0148ov\xfdm org\xe1nom, kt. nie s\xfa pr\xedjmom osobn\xe9ho \xfa\u010dtu \u0160R"],["7144","Sank\u010dn\xfd \xfarok z da\u0148ovej in\u0161pekcie"],["7148","Pen\xe1le z da\u0148ovej in\u0161pekcie"],["7344","\xdarok pri odklade platenia"],["7348","\xdarok pri odklade platenia"],["7544","Exeku\u010dn\xe9 n\xe1klady"],["7548","Exeku\u010dn\xe9 n\xe1klady"],["7748","\xdarok platen\xfd da\u0148ov\xe9mu subjektu za oneskorenie vr\xe1tenia preplatku"],["7944","Blokov\xe9 pokuty vyruben\xe9 da\u0148ov\xfdm \xfaradom"],["7948","Blokov\xe9 pokuty vyruben\xe9 da\u0148ov\xfdm \xfaradom"],["8144","Platba (\xfa\u010dtovan\xe1 s\xfa\u010dasne s predpisom)"],["8148","Platba (\xfa\u010dtovan\xe1 s\xfa\u010dasne s predpisom)"],["8748","Platba na vyrovnanie preplatku"]],Ie=(n(507),function(e){function t(){var e,a;Object(E.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(i)))).formRef=void 0,a.changeIdFormRef=void 0,a.state={isGiveCreditModalVisible:!1,isChangeIdModalVisible:!1},a.handleSubmit=function(e,t){e.preventDefault();var n=t.getFieldsValue(),r=T.a.loading("Uklad\xe1m fakt\xfaru...",0);a.props.onSave(n,a.props.itemKeys).then(r).catch(function(e){r(),T.a.error(e.message)})},a.handleItemAdd=function(){a.props.onItemAdd(a.props.invoiceId)},a.handleItemRemove=function(e){a.props.onItemRemove(a.props.invoiceId,e)},a.handleFieldsChange=function(e,t){a.props.onFieldsChange(e,t)},a.handleEntityCreate=function(e){var t=a.formRef.props.form.getFieldsValue();a.props.onEntityCreate(t,a.props.itemKeys,e,a.props.history)},a.showChangeIdModal=function(){a.setState({isChangeIdModalVisible:!0})},a.handleChangeId=function(){a.changeIdFormRef.props.form.validateFields(function(e,t){if(!e){var n=a.props,r=n.itemKeys,i=n.history,o=a.formRef.props.form.getFieldsValue();a.props.onInvoiceChangeId(t.invoiceId,o,r,i),a.setState({isChangeIdModalVisible:!1})}})},a.handleCancelChangeId=function(){a.changeIdFormRef.props.form.setFieldsValue({invoiceId:a.props.invoiceId}),a.setState({isChangeIdModalVisible:!1})},a.handleCheckInvoiceExists=function(e){return a.props.onInvoiceCheckExists(e)},a.handleBackButton=function(){a.props.history.goBack()},a.makePdf=function(){a.formRef.props.form.validateFieldsAndScroll(function(e,t){if(!e){var r=T.a.loading("Uklad\xe1m fakt\xfaru...",0),i=a.props.itemKeys;a.props.onSave(t,i).then(function(e){r();var t=T.a.loading("Generujem pdf...",0),i=(new be.a).toPlainObject(e),o={category:"Make Pdf",action:"User pressed the PDF button"};if(document.documentMode)if(document.getElementById("pdfmaker"))Ce({command:"makeInvoicePdf",data:i}),t(),v.a.event(o),a.setState({isGiveCreditModalVisible:!0});else{var c=Object(B.a)(a),s=document.createElement("iframe");s.setAttribute("id","pdfmaker"),s.src="".concat(window.location.origin,"/pdf.html"),s.onload=function(){Ce({command:"makeInvoicePdf",data:i}),t(),v.a.event(o),c.setState({isGiveCreditModalVisible:!0})},document.body.appendChild(s)}else Promise.all([n.e(3),n.e(4)]).then(n.bind(null,630)).then(function(e){var n=e.PdfMaker;return t(),(new n).makeInvoicePdf(i)}).then(function(){v.a.event(o),a.setState({isGiveCreditModalVisible:!0})}).catch(function(e){t(),T.a.error("Na\u010d\xedtanie kni\u017enice zlyhalo: ".concat(e.message))})},function(e){r(),T.a.error(e.message)})}})},a}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchForm(this.props.invoiceId)}},{key:"componentWillReceiveProps",value:function(e){e.invoiceId!==this.props.invoiceId&&this.props.fetchForm(e.invoiceId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.invoiceId,a=t.fields,r=t.items,o=t.netPrice,c=t.grossPrice,s=t.discountPrice,l=t.contacts,u=t.isFetching,d=t.isSaving,m=this.state,v=m.isGiveCreditModalVisible,f=m.isChangeIdModalVisible;return i.a.createElement("div",null,i.a.createElement(S.a,{title:"Zmena identifik\xe1tora fakt\xfary",visible:f,onOk:this.handleChangeId,onCancel:this.handleCancelChangeId},i.a.createElement(he,{wrappedComponentRef:function(t){e.changeIdFormRef=t},invoiceId:n,onInvoiceCheckExists:this.handleCheckInvoiceExists})),i.a.createElement(S.a,{title:"V\xe1\u0161 n\xe1zor je d\xf4le\u017eit\xfd",visible:v,cancelButtonProps:{style:{display:"none"}},onOk:function(){e.setState({isGiveCreditModalVisible:!1})}},i.a.createElement("p",null,"Ak ste boli spokojn\xfd s vystavenou fakt\xfarou, dajte n\xe1m pros\xedm lajk a zdie\u013eanie na ",i.a.createElement("a",{href:"https://www.facebook.com/FakturaZdarma/"},"na\u0161om facebooku"),". Pote\u0161\xed n\xe1s to. \ud83d\ude09"),i.a.createElement("iframe",{src:"https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Ffakturazdarma&width=450&layout=standard&action=like&size=small&share=true&height=35&appId",width:"450",height:"35",style:{border:"none",overflow:"hidden"},scrolling:"no",allowTransparency:!0,allow:"encrypted-media"})),i.a.createElement(H.a,{classNamePrefix:"fz-loading-overlay_",active:u,spinner:i.a.createElement(ye,null),text:"Nahr\xe1vam fakt\xfaru...",styles:{overlay:{},content:{},spinner:{}}},i.a.createElement(L.a,{onBack:this.handleBackButton,title:i.a.createElement("span",null,i.a.createElement("span",null,"Fakt\xfara\xa0",n,"\xa0\xa0"),i.a.createElement(M.a,{type:"edit",style:{color:"#40a9ff"},onClick:this.showChangeIdModal})),subTitle:""}),i.a.createElement(fe,{wrappedComponentRef:function(t){e.formRef=t},fields:a,items:r,netPrice:o,grossPrice:c,discountPrice:s,contacts:l,constantSymbols:Oe,isSaving:d,onSubmit:this.handleSubmit,onPdfClick:this.makePdf,onItemAdd:this.handleItemAdd,onItemRemove:this.handleItemRemove,onEntityCreate:this.handleEntityCreate,onFieldsChange:this.handleFieldsChange}),i.a.createElement(U.a,{className:"fz-back-top"},i.a.createElement("div",{className:"fz-back-top-inner"},i.a.createElement(M.a,{type:"up"})))))}}]),t}(r.Component)),ge=Object(s.f)(Object(d.b)(function(e,t){var n=t.match.params.id,a=function(e,t){var n=e.invoiceUI,a=n.fields,r=n.itemKeys,i=t.match.params.id;return a.id&&a.id.value===i?{fields:a,itemKeys:r}:{fields:{},itemKeys:[]}}(e,t),r=(new be.a).fromFields(a.fields,a.itemKeys);return Object(V.a)({},e.invoiceUI,a,{invoiceId:n,items:r.items,netPrice:r.netPrice,grossPrice:r.grossPrice,discountPrice:r.discountPrice,contacts:e.contacts})},function(e){return{fetchForm:function(t){return e(Object(g.fetchInvoiceForm)(t))},onFieldsChange:function(t,n){return e(Object(g.updateInvoiceForm)(t,n))},onItemAdd:function(t){return e(Object(g.addItem)(t))},onItemRemove:function(t,n){return e(Object(g.removeItem)(t,n))},onSave:function(t,n){return e(Object(g.saveInvoice)(t,n))},onInvoiceChangeId:function(t,n,a,r){return e(Object(g.changeInvoiceId)(t,n,a,r))},onInvoiceCheckExists:function(t){return e(Object(g.checkInvoiceExists)(t))},onEntityCreate:function(t,n,a,r){return e(Object(g.createEntity)(t,n,a,r))}}})(Ie)),Se=n(303),_e=n.n(Se),ke=(n(163),n(68)),Te={xs:24,sm:16,lg:12},Fe=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.getFieldDecorator,n=e.fieldPrefix,a=void 0===n?"":n,r=e.isOwn;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{className:"fz-contact-row"},i.a.createElement(Z.a,Te,i.a.createElement(Y.a.Item,{label:"Firma"},t("".concat(a,"entity"),{rules:[{required:!0,message:"Uve\u010fte n\xe1zov firmy!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"Ulica"},t("".concat(a,"street"),{rules:[{required:!0,message:"Uve\u010fte ulicu!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"PS\u010c"},t("".concat(a,"zipCode"),{rules:[{required:!0,message:"Uve\u010fte PS\u010c!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"Mesto"},t("".concat(a,"city"),{rules:[{required:!0,message:"Uve\u010fte mesto!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"Krajina"},t("".concat(a,"country"),{rules:[{required:!0,message:"Uve\u010fte krajinu!"}]})(i.a.createElement($.a,null)))),i.a.createElement(Z.a,Te,i.a.createElement(Y.a.Item,{label:"I\u010cO"},t("".concat(a,"legalId"),{rules:[{required:!0,message:"Uve\u010fte I\u010cO!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"DI\u010c"},t("".concat(a,"taxId"),{rules:[{required:!0,message:"Uve\u010fte DI\u010c!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"I\u010c DPH",extra:i.a.createElement("span",null,i.a.createElement(M.a,{type:"info-circle",style:{color:"#40a9ff"}}),"\xa0Ak vypln\xedte I\u010c DPH formul\xe1r fakt\xfary sa automaticky prepne do re\u017eimu DPH.")},t("".concat(a,"taxLegalId"),{rules:[{required:!1,message:"Uve\u010fte I\u010c DPH!"}]})(i.a.createElement($.a,null))))),i.a.createElement(X.a,{className:"fz-contact-row"},i.a.createElement(Z.a,Te,i.a.createElement(Y.a.Item,{label:"Moja firma",extra:i.a.createElement("span",null,i.a.createElement(M.a,{type:"info-circle",style:{color:"#40a9ff"}}),"\xa0Za\u0161krtnite, ak chcete vystavova\u0165 fakt\xfary na t\xfato firmu. \xa0Bankov\xe9 spojenie je povinn\xe9.")},t("isOwn",{rules:[{type:"boolean",required:!1,message:"Ch\xfdbaj\xfaci \xfadaj!"}],valuePropName:"checked"})(i.a.createElement(ke.a,{disabled:r}))))))}}]),t}(r.Component),Ne=n(144),we={xs:24,sm:16,lg:12},Ae=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).validateIBAN=function(){var e=n.props,t=e.getFieldsValue,a=e.fieldPrefix,r=void 0===a?"":a,i=t(),o=i["".concat(r,"iban")];if(!o)return null;var c=Object(Ne.a)(o);if(!1===c)return"Pravdepodobne nespr\xe1vny IBAN.";if(1!==c)return"Chyba kontroln\xe9ho s\xfa\u010dtu. Pravdepodobne nespr\xe1vny IBAN.";var s=i["".concat(r,"swift")],l=i["".concat(r,"bankCode")],u=i["".concat(r,"bankAccount")];return s&&o.substring(0,2)!=s.substring(4,6)?"K\xf3d krajiny (SWIFT) sa nezhoduje.":l&&o.substring(4,4+l.length)!=l?"K\xf3d banky sa nezhoduje.":u&&!o.endsWith(u.toUpperCase().replace(/[^A-Z0-9]/g,""))?"\u010c\xedslo \xfa\u010dtu sa nezhoduje.":void 0},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isRequired,n=e.bankList,a=e.fieldPrefix,r=void 0===a?"":a,o=e.getFieldDecorator,c=this.validateIBAN();return i.a.createElement(X.a,{className:"fz-contact-row"},i.a.createElement(Z.a,we,i.a.createElement(Y.a.Item,{label:"Zoznam b\xe1nk"},o("".concat(r,"bankIndex"),{preserve:!0})(i.a.createElement(J.a,null,n.map(function(e,t){var n=Object(G.a)(e,2),a=n[0],r=n[1];return i.a.createElement(J.a.Option,{key:r,value:t},r," - ",a)})))),i.a.createElement(Y.a.Item,{label:"N\xe1zov banky"},o("".concat(r,"bankName"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte n\xe1zov banky!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"K\xf3d banky"},o("".concat(r,"bankCode"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte k\xf3d banky!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"SWIFT"},o("".concat(r,"swift"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte SWIFT!"},{min:8,message:"Minim\xe1lne 8 znakov!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{hasFeedback:!0,label:"IBAN",help:c,validateStatus:c?"warning":""},o("".concat(r,"iban"),{validateTrigger:"onBlur",preserve:!0,rules:[{required:t,message:"Uve\u010fte IBAN!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"\u010c\xedslo \xfa\u010dtu"},o("".concat(r,"bankAccount"),{preserve:!0,rules:[{required:t,message:"Uve\u010fte \u010d\xedslo \xfa\u010dtu!"}]})(i.a.createElement($.a,null)))))}}]),t}(r.Component),je={labelCol:{xs:{span:24},sm:{span:8},lg:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16},lg:{span:16}}},ze={xs:24,sm:16,lg:12},Pe=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){n.props.onSubmit(e,n.props.form)},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=e.isOwn,a=e.isBankRequired,r=e.isBankExpanded,o=e.isContactExpanded,c=e.isSaving,s=e.bankList,l=e.onToggleBankSection,u=e.onToggleContactSection,d=t.getFieldDecorator;return i.a.createElement(Y.a,Object.assign({},je,{layout:"horizontal",className:"fz-contact-form",onSubmit:this.handleSubmit}),d("id",{})(i.a.createElement($.a,{type:"hidden"})),i.a.createElement(Fe,Object.assign({},t,{isOwn:n})),i.a.createElement(X.a,{className:"fz-contact-row"},i.a.createElement(Z.a,ze,i.a.createElement("a",{className:"fz-contact-row-expander",onClick:l},"Bankov\xe9 spojenie ",i.a.createElement(M.a,{type:r?"up":"down"})))),i.a.createElement("div",{className:"fz-contact-row-collapsible fz-contact-row--".concat(n||r?"expanded":"collapsed")},i.a.createElement("h4",{className:"fz-contact-header fz-contact-header--expanded"},"Bankov\xe9 spojenie"),i.a.createElement(Ae,Object.assign({},t,{isRequired:a,bankList:s}))),i.a.createElement(X.a,{className:"fz-contact-row"},i.a.createElement(Z.a,ze,i.a.createElement("a",{className:"fz-contact-row-expander",onClick:u},"Kontaktn\xe1 osoba ",i.a.createElement(M.a,{type:o?"up":"down"})))),i.a.createElement("div",{className:"fz-contact-row-collapsible fz-contact-row--".concat(o?"expanded":"collapsed")},i.a.createElement("h4",{className:"fz-contact-header fz-contact-header--expanded"},"Kontaktn\xe1 osoba"),i.a.createElement(X.a,null,i.a.createElement("div",{className:"fz-contact-row fz-contact-row"},i.a.createElement(Z.a,ze,i.a.createElement(Y.a.Item,{label:"Meno"},d("name",{preserve:!0,rules:[{required:!1,message:"Uve\u010fte meno!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"Email"},d("email",{preserve:!0,rules:[{type:"email",message:"Zadan\xfd text nie je platn\xfd email!"}]})(i.a.createElement($.a,null))),i.a.createElement(Y.a.Item,{label:"Tel. \u010d\xedslo"},d("phoneNr",{preserve:!0,rules:[{required:!1,message:"Uve\u010fte tel. \u010d\xedslo!"}]})(i.a.createElement($.a,null))))))),i.a.createElement(X.a,{className:"fz-contact-row"},i.a.createElement(Z.a,{span:24,style:{textAlign:"right",margin:15}},i.a.createElement("div",{className:"fz-btn-group"},i.a.createElement(k.a,{type:"primary",icon:"save",size:"large",htmlType:"submit",loading:c},"Ulo\u017ei\u0165")))))}}]),t}(r.Component),De=Y.a.create({name:"contact",onFieldsChange:function(e,t,n){e.onFieldsChange(t,n)},mapPropsToFields:function(e){var t=e.fields,n=e.bankList,a=e.isOwn;return 0===Object.keys(t).length?{isOwn:Y.a.createFormField({value:a})}:{id:Y.a.createFormField(t.id),entity:Y.a.createFormField(t.entity),street:Y.a.createFormField(t.street),zipCode:Y.a.createFormField(t.zipCode),city:Y.a.createFormField(t.city),country:Y.a.createFormField(t.country),legalId:Y.a.createFormField(t.legalId),taxId:Y.a.createFormField(t.taxId),taxLegalId:Y.a.createFormField(t.taxLegalId),bankIndex:Y.a.createFormField({value:n.find(function(e){var n=Object(G.a)(e,3),a=(n[0],n[1]);n[2];return a===t.bankCode.value})}),bankName:Y.a.createFormField(t.bankName),bankCode:Y.a.createFormField(t.bankCode),swift:Y.a.createFormField(t.swift),iban:Y.a.createFormField(t.iban),bankAccount:Y.a.createFormField(t.bankAccount),name:Y.a.createFormField(t.name),email:Y.a.createFormField(t.email),phoneNr:Y.a.createFormField(t.phoneNr),isOwn:Y.a.createFormField(a?{value:a}:t.isOwn)}},onValuesChange:function(e,t){e.onValuesChange&&e.onValuesChange(t)}})(Pe),Re=(n(519),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e,t){e.preventDefault(),t.validateFieldsAndScroll(function(e,t){if(e)return T.a.error("Formul\xe1r obsahuje chyby!"),!1;console.log("submit",JSON.stringify(t)),n.props.onSave(t,n.props.history).catch(function(e){T.a.error(e.message)})})},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchForm(this.props.contactId)}},{key:"componentWillReceiveProps",value:function(e){e.contactId!==this.props.contactId&&this.props.fetchForm(e.contactId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.contactId,a=t.forceOwn,r=t.isSaving,o=t.isFetching,c=t.isBankRequired,s=t.isBankExpanded,l=t.isContactExpanded,u=t.fields,d=t.bankList,m=t.onFieldsChange,v=t.onToggleBankSection,f=t.onToggleContactSection;return i.a.createElement("div",null,i.a.createElement(H.a,{classNamePrefix:"fz-loading-overlay_",active:o,spinner:i.a.createElement(ye,null),text:"Nahr\xe1vam kontakt...",styles:{overlay:{},content:{}}},i.a.createElement(L.a,{onBack:function(){return e.props.history.goBack()},title:"Kontakt #".concat(n),subTitle:""}),i.a.createElement(De,{fields:u,bankList:d,isOwn:a,isBankRequired:c,isSaving:r,isBankExpanded:s,isContactExpanded:l,onFieldsChange:m,onSubmit:this.handleSubmit,onToggleBankSection:v,onToggleContactSection:f}),i.a.createElement(U.a,{className:"fz-back-top"},i.a.createElement("div",{className:"fz-back-top-inner"},i.a.createElement(M.a,{type:"up"})))))}}]),t}(r.Component)),xe=Object(s.f)(Object(d.b)(function(e,t){var n=e.contactUI,a=e.bankList,r=t.location,i=t.match.params.id,o="true"===_e.a.parse(r.search).isOwn,c=function(e,t){var n=e.contactUI,a=t.match.params.id;return n.fields.id&&n.fields.id.value===a?n.fields:{}}(e,t);return Object(V.a)({},n,{contactId:i,fields:c,bankList:a,forceOwn:o,isBankExpanded:o||c.isOwn&&(c.isOwn.value||n.isBankExpanded),isBankRequired:o||c.isOwn&&c.isOwn.value})},function(e){return{fetchForm:function(t){return e(Object(g.fetchContactForm)(t))},onSave:function(t,n){return e(Object(g.saveContact)(t,n))},onFieldsChange:function(t,n){return e(Object(g.updateContactForm)(t,n))},onToggleBankSection:function(){return e({type:g.types.CONTACT_FORM_TOGGLE,payload:"bank"})},onToggleContactSection:function(){return e({type:g.types.CONTACT_FORM_TOGGLE,payload:"contact"})}}})(Re)),Ve=(n(574),n(309)),Ue=(n(575),n(200)),Le=(n(524),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).showConflicts=function(e){var t=["Kontakt","Fakt\xfara"],n=e.reduce(function(e,n,a){var r=t[a],o=n,c=o.items,s=o.conflicts.map(function(e){var t=c.find(function(t){return t.id===e.id});return i.a.createElement("tr",{key:t.id,className:"fz-overview-table__row"},i.a.createElement("td",{className:"fz-overview-table__row__cell fz-overview-table__row__cell--center fz-overview-table__row__cell--nowrap"},"Kontakt"===r?e.entity:t.id),i.a.createElement("td",{className:"fz-overview-table__row__cell fz-overview-table__row__cell--center"},t.revision||"0"),i.a.createElement("td",{className:"fz-overview-table__row__cell fz-overview-table__row__cell--center"},e.revision||"0"),i.a.createElement("td",{className:"fz-overview-table__row__cell fz-overview-table__row__cell--right"},i.a.createElement(M.a,{type:"stop",style:{fontSize:"16px",color:"red"},theme:"outlined"})))});return s.length>0&&s.unshift(i.a.createElement("tr",{key:r,className:"fz-overview-table__row fz-overview-table__row--group"},i.a.createElement("td",{className:"fz-overview-table__row__cell",colSpan:4},i.a.createElement("strong",null,r)))),e.concat(s)},[]),a=i.a.createElement("div",null,i.a.createElement("div",{className:"fz-overview-table-wrapper"},i.a.createElement("table",{className:"fz-overview-table"},i.a.createElement("colgroup",null,i.a.createElement("col",{width:"100"}),i.a.createElement("col",{width:"20"}),i.a.createElement("col",{width:"20"}),i.a.createElement("col",{width:"20"})),i.a.createElement("thead",null,i.a.createElement("tr",{className:"fz-overview-table__row fz-overview-table__row--header"},i.a.createElement("th",{className:"fz-overview-table__row__cell"},"Id."),i.a.createElement("th",{className:"fz-overview-table__row__cell"},"AV*"),i.a.createElement("th",{className:"fz-overview-table__row__cell"},"IV**"),i.a.createElement("th",{className:"fz-overview-table__row__cell"}))),i.a.createElement("tbody",null,n))),i.a.createElement("ul",{className:"fz-explanatory-notes"},i.a.createElement("li",null,"* AV - aktu\xe1lna verzia"),i.a.createElement("li",null,"** IV - verzia importovan\xe9ho dokumentu")));S.a.warning({width:540,title:"Nasledovn\xe9 polo\u017eky boli vynechan\xe9 z importu.",content:a})},n.handleExport=function(){var e=T.a.loading("Vykon\xe1vam z\xe1lohu...",0);n.props.onArchiveExport().then(function(){e()}).catch(function(t){e(),T.a.error(t.message)})},n.handleImport=function(e){var t=T.a.loading("Obnovujem zo z\xe1lohy...",0);return new Promise(function(t,n){var a=new FileReader;a.onerror=function(e){n(e)},a.onload=function(e){t(a.result)},a.readAsText(e)}).then(function(e){n.props.onArchiveImport(e).then(function(e){t();var a=Object(G.a)(e,2),r=a[0],i=a[1];r.conflicts.length+i.conflicts.length?n.showConflicts(e):T.a.success("Arch\xedv bol naimportovan\xfd")})}).catch(function(e){t(),T.a.error("Import zlyhal")}),!1},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Ue.a,{style:{marginBottom:20}},i.a.createElement("p",null,"Archiv\xe1cia datab\xe1zy do s\xfaboru. Odpor\xfa\u010da sa vykon\xe1va\u0165 t\xfato \u010dinnos\u0165 pravidelne."),i.a.createElement("div",null,i.a.createElement(k.a,{onClick:this.handleExport},i.a.createElement(M.a,{type:"download"})," Archivuj do s\xfaboru"))),i.a.createElement(Ue.a,null,i.a.createElement("p",null,"Import datab\xe1zy z arch\xedvu."),i.a.createElement("p",null,"Existuj\xface kontakty a fakt\xfary bud\xfa zmenen\xe9 len v pr\xedpade ak arch\xedv obsahuje ich nov\u0161iu verziu."),i.a.createElement("div",null,i.a.createElement(Ve.a,{accept:".json",beforeUpload:this.handleImport,showUploadList:!1},i.a.createElement(k.a,null,i.a.createElement(M.a,{type:"upload"})," Na\u010d\xedtaj z arch\xedvu")))))}}]),t}(r.Component)),Me=Object(s.f)(Object(d.b)(function(e){return{ui:e.ui}},function(e){return{onArchiveExport:function(){return e(Object(g.exportArchive)())},onArchiveImport:function(t){return e(Object(g.importArchive)(t))}}})(Le)),Be=(n(563),I.a.Header),Ke=I.a.Content,He=I.a.Footer,Ge=[{exact:!0,path:"/invoices/:id",component:ge},{exact:!0,path:"/invoices",component:z},{exact:!0,path:"/contacts/:id",component:xe},{exact:!0,path:"/contacts",component:x},{exact:!0,path:"/archive",component:Me}],qe=[{key:"invoices",name:"Fakt\xfary"},{key:"contacts",name:"Kontakty"},{key:"archive",name:"Arch\xedv"}],We=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).onMenuClicked=function(e){var t=e.key;n.props.history.push("/".concat(t))},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname,t=qe.find(function(t){return e.includes(t.key)}),n=t&&t.key||"";return i.a.createElement(I.a,{className:"fz-layout"},i.a.createElement(Be,{className:"fz-layout-header"},i.a.createElement(h.b,{className:"fz-layout-header-menu",theme:"dark",mode:"horizontal",selectedKeys:[n],onClick:this.onMenuClicked},qe.map(function(e){var t=e.key,n=e.name;return i.a.createElement(h.b.Item,{key:t},n)})),i.a.createElement("div",{className:"fz-logo"})),i.a.createElement(Ke,{className:"fz-layout-content"},i.a.createElement(s.d,null,Ge.map(function(e,t){return i.a.createElement(s.b,Object.assign({key:t},e))}))),i.a.createElement(He,{className:"fz-layout-footer"},i.a.createElement("div",{className:"fz-footer-brand"},i.a.createElement("span",null,"\xa92021 ",i.a.createElement("a",{href:"https://fakturazdarma.netlify.app/"},"FakturaZdarma.sk"))),i.a.createElement("div",null,i.a.createElement("a",{href:"https://www.facebook.com/FakturaZdarma/"},i.a.createElement("div",{className:"fcb-find-us"})))))}}]),t}(r.Component),Xe=Object(s.f)(We),Ze=(n(564),I.a.Content),Ye=(n(565),function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||n.props.onLogIn(t.email,t.password,n.props.history)})},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(Y.a,{onSubmit:this.handleSubmit,className:"fz-login-form"},i.a.createElement(Y.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(i.a.createElement($.a,{prefix:i.a.createElement(M.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),i.a.createElement(Y.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(i.a.createElement($.a,{prefix:i.a.createElement(M.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),i.a.createElement(Y.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(i.a.createElement(ke.a,null,"Remember me")),i.a.createElement("a",{className:"fz-login-form-forgot",href:"#/forgot-passwd"},"Forgot password"),i.a.createElement(k.a,{type:"primary",htmlType:"submit",className:"fz-login-form-button"},"Log in"),"Or ",i.a.createElement("a",{href:"#/register"},"register now!")))}}]),t}(r.Component)),Je=Y.a.create({name:"normal_login"})(Ye),$e=(n(566),function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"fz-login-page"},i.a.createElement(Je,this.props))}}]),t}(r.Component)),Qe=Object(s.f)(Object(d.b)(function(e){return Object(V.a)({},e.login)},function(e){return{onLogIn:function(t,n,a){e(Object(g.logIn)(t,n,a))}}})($e)),et=-1,tt=1,nt=2,at={loginState:nt},rt=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.loginState,a=Object(ee.a)(e,["component","loginState"]);return i.a.createElement(s.b,Object.assign({},a,{render:function(e){return n===nt?i.a.createElement(t,e):i.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),t}(r.Component),it=Object(d.b)(function(e){return Object(V.a)({},e.login)},{})(rt),ot={lastError:null,isFetching:!1,isSaving:!1},ct={fields:{},itemKeys:[],isDraft:!1,isFetching:!1,isSaving:!1},st={contactId:null,isFetching:!1,isSaving:!1,isBankExpanded:!1,isContactExpanded:!1,fields:{}},lt=function(e,t){switch(t.type){case g.types.CONTACT_SAVE_SUCCESS:return{};case g.types.CONTACT_FORM_REPLACE:return t.payload;default:return e}},ut=Object(u.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;switch((arguments.length>1?arguments[1]:void 0).type){case g.types.LOG_IN:return{loginState:tt};case g.types.LOG_IN_SUCCESS:return{loginState:nt};case g.types.LOG_IN_FAILURE:case g.types.LOG_OUT:return{loginState:et};default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.ARCHIVE_IMPORT_SUCCESS:return t.payload.invoices;case g.types.INVOICES_DELETE_SUCCESS:case g.types.INVOICES_FETCH_SUCCESS:return t.payload;case g.types.INVOICE_SAVE_SUCCESS:var n=Object(P.a)(e),a=t.payload,r=n.findIndex(function(e){return e.id===a.id});return r>-1?n[r]=a:n.push(a),n;case g.types.INVOICE_SAVE_FAILURE:default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.ARCHIVE_IMPORT_SUCCESS:return t.payload.contacts;case g.types.CONTACTS_DELETE_SUCCESS:case g.types.CONTACTS_FETCH_SUCCESS:return t.payload;case g.types.CONTACT_SAVE_SUCCESS:var n=Object(P.a)(e),a=t.payload,r=n.findIndex(function(e){return e.id===a.id});return r>-1?n[r]=a:n.push(a),n;default:return e}},bankList:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case g.types.ARCHIVE_IMPORT:return Object(V.a)({},e,{isSaving:!0,lastError:null});case g.types.ARCHIVE_IMPORT_SUCCESS:return Object(V.a)({},e,{isSaving:!1});case g.types.ARCHIVE_IMPORT_FAILURE:return Object(V.a)({},e,{isSaving:!1,lastError:t.payload});case g.types.ARCHIVE_EXPORT:return Object(V.a)({},e,{isFetching:!0,lastError:null});case g.types.ARCHIVE_EXPORT_SUCCESS:return Object(V.a)({},e,{isFetching:!1});case g.types.ARCHIVE_EXPORT_FAILURE:return Object(V.a)({},e,{isFetching:!1,lastError:t.payload})}switch(!0){case/DELETE$/.test(n):return Object(V.a)({},e,{isSaving:!0,lastError:null});case/DELETE_SUCCESS$/.test(n):return Object(V.a)({},e,{isSaving:!1});case/DELETE_FAILURE$/.test(n):return Object(V.a)({},e,{isSaving:!1,lastError:t.payload});case/FETCH$/.test(n):return Object(V.a)({},e,{isFetching:!0,lastError:null});case/FETCH_SUCCESS$/.test(n):return Object(V.a)({},e,{isFetching:!1});case/FETCH_FAILURE$/.test(n):return Object(V.a)({},e,{isFetching:!1,lastError:t.payload});default:return e}},invoiceUI:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.INVOICE_FETCH:return Object(V.a)({},e,{isFetching:!0});case g.types.INVOICE_FETCH_SUCCESS:case g.types.INVOICE_FETCH_FAILURE:return Object(V.a)({},e,{isFetching:!1});case g.types.INVOICE_SAVE:return Object(V.a)({},e,{isSaving:!0,isDraft:t.payload.isDraft});case g.types.INVOICE_SAVE_SUCCESS:case g.types.INVOICE_SAVE_FAILURE:return Object(V.a)({},e,{isSaving:!1});case g.types.INVOICE_FORM_REPLACE:return Object(V.a)({},e,t.payload);case g.types.CONTACT_SAVE_SUCCESS:var n=e.fields,a=t.payload;if(a.isOwn){var r=a.isTaxable?j.b.Taxable:j.b.NonTax;n.type={value:r},n.emitent={value:a.id}}else n.recipient={value:a.id};return Object(V.a)({},e,{fields:n});default:return e}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,arguments.length>1?arguments[1]:void 0)},contactUI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;return Object(V.a)({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.CONTACT_FETCH:return Object(V.a)({},e,{isFetching:!0});case g.types.CONTACT_FETCH_SUCCESS:case g.types.CONTACT_FETCH_FAILURE:return Object(V.a)({},e,{isFetching:!1});case g.types.CONTACT_SAVE:return Object(V.a)({},e,{isSaving:!0});case g.types.CONTACT_SAVE_SUCCESS:case g.types.CONTACT_SAVE_FAILURE:return Object(V.a)({},e,{isSaving:!1});case g.types.CONTACT_FORM_TOGGLE:var n=t.payload,a=Object(V.a)({},e);switch(n){case"bank":a.isBankExpanded=!e.isBankExpanded;break;case"contact":a.isContactExpanded=!e.isContactExpanded}return a;case g.types.CONTACT_FORM_REPLACE:return Object(V.a)({},e);default:return e}}(e,t),{fields:lt(e.fields,t)})},visibilityFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.VisibilityFilters.SHOW_ALL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.types.SET_VISIBILITY_FILTER:return t.filter;default:return e}}}),dt=[["365.bank (Po\u0161tov\xe1 banka, a.s. od\u0161tepn\xfd z\xe1vod)","6500","POBNSKBA"],["BANCO COFIDIS, S.A., pobo\u010dka zahr. banky","8400",""],["BKS BANK AG, pobo\u010dka zahr. banky","8420","BFKKSKBB"],["\u010ceskoslovensk\xe1 obchodn\xe1 banka, a.s.","7500","CEKOSKBX"],["Citibank Europe plc, pobo\u010dka zahr. banky","8130","CITISKBA"],["COMMERZBANK Aktiengesellschaft, pobo\u010dka zahr. banky","8050","COBASKBX"],["\u010cSOB stavebn\xe1 sporite\u013e\u0148a, a.s.","8170","KBSPSKBX"],["EXIMBANKA SR","8160","EXSKSKBX"],["Fio banka, a.s., pobo\u010dka zahr. banky","8330","FIOZSKBA"],["ING Bank N.V., pobo\u010dka zahr. banky","7300","INGBSKBX"],["J&T BANKA, a.s., pobo\u010dka zahr. banky","8320","JTBPSKBA"],["KDB Bank Europe Ltd, pobo\u010dka zahran. banky","8430","KODBSKBX"],["Komer\u010dn\xed banka, a.s., pobo\u010dka zahr. banky","8100","KOMBSKBA"],["mBank S.A., pobo\u010dka zahr. banky","8360","BREXSKBX"],["N\xe1rodn\xe1 banka Slovenska","0720","NBSBSKBX"],["Oberbank AG, pobo\u010dka zahr. banky v SR","8370","OBKLSKBA"],["OTP banka Slovensko, a.s.","5200","OTPVSKBX"],["Po\u0161tov\xe1 banka, a.s.","6500","POBNSKBA"],["Prima\xa0banka Slovensko, a.s. (DEXIA)","5600","KOMASK2X"],["Privatbanka, a.s.","8120","BSLOSK22"],["Prv\xe1 stavebn\xe1 sporite\u013e\u0148a, a.s.","5900","PRVASKBA"],["Raiffeisen BANK (Tatra banka a.s., od\u0161tepn\xfd z\xe1vod)","1100","TATRSKBX"],["Slovensk\xe1 sporite\u013e\u0148a, a.s.","0900","GIBASKBX"],["Slovensk\xe1 z\xe1ru\u010dn\xe1 a rozvojov\xe1 banka, a.s.","3000","SLZBSKBA"],["\u0160t\xe1tna pokladnica","8180","SPSRSKBA"],["Tatra banka, a.s.","1100","TATRSKBX"],["UniCredit Bank Slovakia, a.s.","1111","UNCRSKBX"],["V\xdaB banka, a.s.","0200","SUBASKBX"],["W\u0171stenrot stavebn\xe1 sporite\u013e\u0148a, a.s.","7930","WUSTSKBA"]];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(567),n(568);v.a.initialize("UA-199075-6");var mt=Object(l.b)();mt.listen(function(e){v.a.set({page:e.pathname}),v.a.pageview(e.pathname)});var vt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ft=Object(u.e)(ut,{bankList:dt},vt(Object(u.a)(m.a)));ft.dispatch(Object(g.fetchContacts)()),ft.dispatch(Object(g.fetchInvoices)()),c.a.render(i.a.createElement(d.a,{store:ft},i.a.createElement(a.a,{locale:p.a},i.a.createElement(s.c,{history:mt},i.a.createElement(s.d,null,i.a.createElement(s.a,{exact:!0,from:"/",to:"/invoices"}),i.a.createElement(s.b,{exact:!0,path:"/login",component:Qe}),Ge.map(function(e,t){var n=e.path;return i.a.createElement(it,{key:t,path:n,component:Xe})}),i.a.createElement(s.b,{component:function(){return i.a.createElement(I.a,{className:"fz-layout"},i.a.createElement(Ze,{className:"fz-layout-content"},i.a.createElement("div",{className:"antd-pro-components-exception-index-exception"},i.a.createElement("div",{className:"antd-pro-components-exception-index-imgBlock"},i.a.createElement("div",{className:"antd-pro-components-exception-index-imgEle",style:{backgroundImage:'url("/static/img/undraw_page_not_found_su7k.svg")'}})),i.a.createElement("div",{className:"antd-pro-components-exception-index-content"},i.a.createElement("div",{className:"antd-pro-components-exception-index-desc"},"Prep\xe1\u010dte n\xe1m, ale t\xe1to str\xe1nka neexistuje."),i.a.createElement("div",{className:"antd-pro-components-exception-index-actions"},i.a.createElement(F.a,{to:"/"},i.a.createElement(k.a,{className:"ant-btn ant-btn-primary"},"Sp\xe4\u0165 na \xfavodn\xfa")))))))}}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(18),r=n(21),i=function(){function e(t){Object(a.a)(this,e),this.id=void 0,this.entity="",this.name=void 0,this.street=void 0,this.city=void 0,this.zipCode=void 0,this.country=void 0,this.legalId=void 0,this.taxId=void 0,this.taxLegalId=void 0,this.iban=void 0,this.bankAccount=void 0,this.bankName=void 0,this.bankCode=void 0,this.swift=void 0,this.email=void 0,this.phoneNr=void 0,this.isOwn=!1,this.revision=void 0,this.updatedAt=void 0,Object.assign(this,t)}return Object(r.a)(e,[{key:"isTaxable",get:function(){return!!this.taxLegalId}}]),e}()},80:function(e,t,n){"use strict";var a=n(17),r=n(41),i=n(62),o=n(47),c=n(19),s=n(63),l=n(113),u=n(18),d=n(21),m=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"toFields",value:function(e){return{id:{value:e.id},entity:{value:e.entity},street:{value:e.street},zipCode:{value:e.zipCode},city:{value:e.city},country:{value:e.country},legalId:{value:e.legalId},taxId:{value:e.taxId},taxLegalId:{value:e.taxLegalId},bankName:{value:e.bankName},bankCode:{value:e.bankCode},swift:{value:e.swift},iban:{value:e.iban},bankAccount:{value:e.bankAccount},name:{value:e.name},email:{value:e.email},phoneNr:{value:e.phoneNr},isOwn:{value:!!e.isOwn}}}},{key:"fromFields",value:function(e){var t=Object.entries(e).reduce(function(e,t){var n=Object(r.a)(t,2),a=n[0],i=n[1];return i&&i.value&&(e[a]=i.value),e},{});return new s.a(t)}}]),e}();n.d(t,"a",function(){return v}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return E}),n.d(t,"b",function(){return y});var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){var r=a().contacts,o=1,c=Object(i.a)(r).sort(function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,a){return-1===t?a[e].localeCompare(n[e],"en",{numeric:!0}):n[e].localeCompare(a[e],"en",{numeric:!0})}}("-id"));return c[0]&&(o=Number(c[0].id)+1),e.push("/contacts/".concat(o).concat(t?"?isOwn=".concat(t):"")),Promise.resolve(o)}},f=function(){return function(e){return e({type:c.CONTACTS_FETCH,payload:{}}),o.default.fetchContacts().then(function(t){return e({type:c.CONTACTS_FETCH_SUCCESS,payload:t}),t},function(t){throw e({type:c.CONTACTS_FETCH_FAILURE,payload:t}),t})}},p=function(e,t){return function(n,i){var o=i().bankList;if(e.bankIndex){var s=Object(r.a)(o[e.bankIndex.value],3),l=s[0],u=s[1],d=s[2];t=Object(a.a)({},t,{bankName:{value:l},bankCode:{value:u},swift:{value:d}})}n({type:c.CONTACT_FORM_REPLACE,payload:t})}},h=function(e){return function(t,n){var a=n().contacts.find(function(t){return t.id===e});if(!a)return t(function(e){return function(t){return t({type:c.CONTACT_FETCH,payload:{}}),o.default.fetchContact(e).then(function(n){if(!n)throw new l.a("Kontakt `".concat(e,"` sa nena\u0161iel!"));return t({type:c.CONTACT_FETCH_SUCCESS,payload:n}),n}).catch(function(e){throw t({type:c.CONTACT_FETCH_FAILURE,payload:e}),e})}}(e)).then(function(e){var n=(new m).toFields(e);t(p({},n))},function(n){if(n instanceof l.a){var a=new s.a({id:e,country:"Slovensko"}),r=(new m).toFields(a);return t(p({},r))}throw n});var r=(new m).toFields(a);return t(p({},r))}},E=function(e,t){return function(n){return n({type:c.CONTACT_SAVE,payload:{}}),o.default.saveContact(new s.a(e)).then(function(e){return e=new s.a(e),n({type:c.CONTACT_SAVE_SUCCESS,payload:e}),t.length?t.goBack():t.replace("/contacts"),e},function(e){throw n({type:c.CONTACT_SAVE_FAILURE,payload:e}),e})}},y=function(e){return function(t){return t({type:c.CONTACTS_DELETE,payload:e}),o.default.deleteContacts(e).then(function(e){t({type:c.CONTACTS_DELETE_SUCCESS,payload:e})},function(e){throw t({type:c.CONTACTS_DELETE_FAILURE,payload:e}),e})}}},96:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(17),r=n(18),i=n(21),o=n(16),c=n.n(o),s=n(32),l=n(122),u=n(42),d=n(63),m=function(e){if(e)return u.b.format(e).toUpperCase().replace(/[^A-Z0-9\\.]/g,"")},v=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"toItemFields",value:function(e){return e.reduce(function(e,t,n){return e.itemsNames[n]={value:t.name},e.pricesPU[n]={value:t.pricePerUnit},e.units[n]={value:t.unit},e.amounts[n]={value:t.amount},e.taxRates[n]={value:t.taxRate},e},{itemsNames:[],pricesPU:[],units:[],amounts:[],taxRates:[]})}},{key:"toFields",value:function(e){var t=e.recipient,n=e.emitent,r=e.items;return Object(a.a)({id:{value:e.id},type:{value:e.type},recipient:{value:t&&t.entity||null},emitent:{value:n&&n.entity||null},paymentType:{value:e.paymentType},dueDate:{value:e.dueDate&&c()(e.dueDate)},issueDate:{value:e.issueDate&&c()(e.issueDate)},deliveryDate:{value:e.deliveryDate&&c()(e.deliveryDate)},paymentDate:{value:e.paymentDate&&c()(e.paymentDate)},variableSymbol:{value:e.variableSymbol||e.id},constantSymbol:{value:e.constantSymbol},orderNr:{value:e.orderNr},description:{value:e.description||"Fakturujeme V\xe1m za dodan\xfd tovar alebo slu\u017eby:"},finalText:{value:e.finalText||"Tovar zost\xe1va a\u017e do \xfapln\xe9ho uhradenia majetkom dod\xe1vate\u013ea. Pri oneskorenej \xfahrade V\xe1m budeme \xfa\u010dtova\u0165 pen\xe1le vo v\xfd\u0161ke 0,05% za ka\u017ed\xfd za\u010dat\xfd de\u0148 ome\u0161kania."},discount:{value:e.discount}},this.toItemFields(r))}},{key:"toInvoiceItems",value:function(e,t){var n=e.itemsNames,a=void 0===n?[]:n,r=e.pricesPU,i=void 0===r?[]:r,o=e.units,c=void 0===o?[]:o,s=e.amounts,u=void 0===s?[]:s,d=e.taxRates,m=void 0===d?[]:d,v=[];return t.forEach(function(e){v[e]=new l.a({name:a[e]&&a[e].value,unit:c[e]&&c[e].value,pricePerUnit:i[e]&&i[e].value,amount:u[e]&&u[e].value,taxRate:m[e]&&m[e].value})}),v}},{key:"fromFields",value:function(e,t){var n=e.id,a=void 0===n?{}:n,r=e.type,i=void 0===r?{}:r,o=e.paymentType,c=void 0===o?{}:o,l=e.dueDate,u=void 0===l?{}:l,d=e.issueDate,m=void 0===d?{}:d,v=e.deliveryDate,f=void 0===v?{}:v,p=e.paymentDate,h=void 0===p?{}:p,E=e.variableSymbol,y=void 0===E?{}:E,b=e.constantSymbol,C=void 0===b?{}:b,O=e.orderNr,I=void 0===O?{}:O,g=e.description,S=void 0===g?{}:g,_=e.finalText,k=void 0===_?{}:_,T=e.discount,F=void 0===T?{}:T;return new s.a({id:a.value,type:Number(i.value),paymentType:c.value,dueDate:u.value&&u.value.toDate(),issueDate:m.value&&m.value.toDate(),deliveryDate:f.value&&f.value.toDate(),paymentDate:h.value&&h.value.toDate(),variableSymbol:y.value,constantSymbol:C.value,orderNr:I.value,description:S.value,finalText:k.value,discount:F.value,items:this.toInvoiceItems(e,t)})}},{key:"fromValues",value:function(e,t){var n=e.itemsNames,a=e.pricesPU,r=e.units,i=e.amounts,o=e.taxRates,c=t.map(function(e){return new l.a({name:n[e],unit:r[e],pricePerUnit:a[e],amount:i[e],taxRate:o&&o[e]||0})});return new s.a({id:e.id,type:Number(e.type),paymentType:e.paymentType,dueDate:e.dueDate&&e.dueDate.toDate(),issueDate:e.issueDate&&e.issueDate.toDate(),deliveryDate:e.deliveryDate&&e.deliveryDate.toDate(),paymentDate:e.paymentDate&&e.paymentDate.toDate(),variableSymbol:e.variableSymbol,constantSymbol:e.constantSymbol,orderNr:e.orderNr,description:e.description,finalText:e.finalText,discount:e.discount,items:c})}},{key:"toPlainObject",value:function(e){var t=u.a.format,n=e.emitent,r=void 0===n?new d.a:n,i=e.recipient,o=void 0===i?new d.a:i,c="";switch(e.paymentType){case s.c.WireTransfer:c="Prevodom";break;case s.c.Card:c="Kartou";break;case s.c.Cash:c="V hotovosti";break;case s.c.CashOnDelivery:c="Dobierka"}return{id:e.id,type:e.type,paymentType:c,dueDate:e.dueDate&&m(e.dueDate),issueDate:e.issueDate&&m(e.issueDate),deliveryDate:e.deliveryDate&&m(e.deliveryDate),paymentDate:e.paymentDate&&m(e.paymentDate),variableSymbol:e.variableSymbol,constantSymbol:e.constantSymbol,orderNr:e.orderNr,description:e.description,finalText:e.finalText,discount:e.discount,items:e.items.map(function(e){return Object(a.a)({},e,{pricePerUnit:t(e.pricePerUnit),grossPrice:t(e.grossPrice),netPrice:t(e.netPrice),taxPrice:t(e.taxPrice)})}),emitent:Object(a.a)({},e.emitent,{iban:Object(u.c)(r.iban),zipCode:Object(u.d)(r.zipCode)}),recipient:Object(a.a)({},e.recipient,{zipCode:Object(u.d)(o.zipCode)}),grossPrice:t(e.grossPrice),netPrice:t(e.netPrice),discountPrice:t(e.discountPrice)}}}]),e}()}},[[313,1,2]]]);
//# sourceMappingURL=main.1bac00ec.chunk.js.map