(this["webpackJsonpfakturazdarma.sk"]=this["webpackJsonpfakturazdarma.sk"]||[]).push([[6],{757:function(t,n,e){"use strict";e.r(n),e.d(n,"PdfMaker",(function(){return f}));var i=e(648),a=e.n(i),r=e(649),o=e.n(r),d=e(650),l=e.n(d);function u(t){var n=document.createElement("canvas");return l()(n,t,{format:"CODE128",width:3,height:80,displayValue:!1}),n.toDataURL("image/png")}var g=function(t){return t},h=function(){};h.prototype={_getItemTable:function(t){var n;return 2===t.type?(n=[[{text:"Ozna\u010denie dod\xe1vky",bold:!0},{text:"Po\u010det m. j.",bold:!0,alignment:"right"},{text:"Cena za m.j.",bold:!0,alignment:"right"},{text:"DPH %",bold:!0,alignment:"right"},{text:"bez DPH",bold:!0,alignment:"right"},{text:"DPH",bold:!0,alignment:"right"},{text:"s DPH",bold:!0,alignment:"right"}]],t.items.forEach((function(t){n.push([{text:t.name},{text:"".concat(t.amount," ").concat(t.unit),alignment:"right"},{text:t.pricePerUnit,alignment:"right"},{text:t.taxRate,alignment:"right"},{text:t.netPrice,alignment:"right"},{text:t.taxPrice,alignment:"right"},{text:t.grossPrice,alignment:"right"}])})),{layout:"lightHorizontalLines",margin:[0,10,0,0],fontSize:9,table:{headerRows:1,widths:["*",45,60,30,60,60,60],body:n}}):(n=[[{text:"Ozna\u010denie dod\xe1vky",bold:!0},{text:"Po\u010det m. j.",bold:!0,alignment:"right"},{text:"Cena za m.j.",bold:!0,alignment:"right"},{text:"Spolu",bold:!0,alignment:"right"}]],t.items.forEach((function(t){n.push([{text:t.name},{text:"".concat(t.amount," ").concat(t.unit),alignment:"right"},{text:t.pricePerUnit,alignment:"right"},{text:t.grossPrice,alignment:"right"}])})),{layout:"lightHorizontalLines",margin:[0,10,0,0],fontSize:9,table:{headerRows:1,widths:["*",50,60,80],body:n}})},_getPriceTable:function(t){var n=[[{text:"Spolu pred z\u013eavou:",fontSize:10,bold:!0},{text:t.grossPrice,fontSize:10,bold:!0}],[{text:"Z\u013eava   "+t.discount+" %:",fontSize:10,marginTop:3},{text:t.discountPrice,fontSize:10,alignment:"right",marginTop:5}],[{text:"Spolu na \xfahradu:",fontSize:11,bold:!0},{text:t.netPrice,fontSize:11,bold:!0}]];return t.discount||n.splice(0,2),{table:{headerRows:0,widths:[250,"*"],heights:[10,20,10],body:n},layout:{defaultBorder:!1,paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 0},fillColor:function(t){return 1===t?"#aaa":null}}}},_getTaxSummary:function(t){if(1===t.length)return{alignment:"right",table:{headerRows:0,widths:[80,"auto"],body:n=t.flatMap((function(t){return[[{text:"Z\xe1klad DPH "+t.taxRate,bold:!0},{text:t.netPrice}],[{text:"DPH "+t.taxRate,bold:!0},{text:t.taxPrice}],[{text:"Celkom",bold:!0},{text:t.grossPrice,bold:!0}]]}))},fontSize:9,layout:{paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 0===t?100:0},hLineWidth:function(t,n){return 2==t?.5:0},vLineWidth:function(t,n){return 0}}};if(t.length>1){var n=[[{text:"Sadzba DPH",bold:!0},{text:"Z\xe1klad DPH",bold:!0},{text:"DPH",bold:!0},{text:"Spolu",bold:!0}]];return t.forEach((function(e,i){var a=i===t.length-1;n.push([{text:e.taxRate,alignment:"right",bold:a},{text:e.netPrice,alignment:"right",bold:a},{text:e.taxPrice,alignment:"right",bold:a},{text:e.grossPrice,alignment:"right",bold:a}])})),{fontSize:9,table:{headerRows:1,widths:["*","*","*","*"],body:n},layout:{hLineWidth:function(t,n){return 0===t||t===n.table.body.length?0:t===n.table.headerRows?2:1},vLineWidth:function(t){return 0},hLineColor:function(t,n){return 1===t||t===n.table.body.length-1?"black":"#aaa"},paddingTop:function(t,n){return t===n.table.body.length-1?2:1},paddingBottom:function(t,n){return t===n.table.body.length-1?2:1},paddingLeft:function(t){return 0===t?0:8},paddingRight:function(t,n){return t===n.table.widths.length-1?0:8}}}}},build:function(t){var n=t.emitent||{},e=t.recipient||{},i=t.payBySquareSVG;return{pageSize:"A4",pageOrientation:"portrait",pageMargins:[50,20,25,30],defaultStyle:{font:"Roboto"},info:{title:"Fakt\xfara "+t.id,author:n.entity},content:[{columns:[{margin:[0,0,0,0],text:"Dod\xe1vate\u013e",bold:!0,width:"*"},{image:u(t.id),width:100,margin:[7,0,0,-15]}]},{margin:[0,0,0,0],text:n.entity,fontSize:11,bold:!0},{columns:[{stack:[{text:n.street},{text:n.zipCode+" "+n.city},{text:n.country}],width:180,margin:[0,5,0,0]},{margin:[0,5,0,0],width:100,stack:[{layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}},table:{headerRows:0,widths:["auto","auto"],body:[[{text:"I\u010cO:",alignment:"right"},{text:n.legalId,alignment:"right"}],[{text:"DI\u010c:",alignment:"right"},{text:n.taxId,alignment:"right"}],n.taxLegalId&&[{text:"I\u010c DPH:",alignment:"right"},{text:n.taxLegalId,alignment:"right"}]].filter(g)}},!n.taxLegalId&&{text:"Nie sme platite\u013emi DPH"}].filter(g)}],fontSize:8,margin:[0,0,0,0]},{text:n.email?"email: "+n.email:"",fontSize:8,margin:[300,n.email?-10:0,0,0]},{canvas:[{type:"line",x1:0,y1:5,x2:524,y2:5,lineWidth:.5}]},{columns:[{text:"Fakt\xfara",bold:!0,width:"*",margin:[0,5,0,0]},{columns:[{width:"*",text:""},{width:"auto",table:{widths:["auto"],body:[[{text:t.id,margin:[20,0,20,0]}]]},layout:{hLineWidth:function(t,n){return.5},vLineWidth:function(t,n){return.5}}}],margin:[0,0,-4,0]}],margin:[0,0,0,0],fontSize:14},{columns:[i?{width:"*",stack:[{width:125,margin:[10,10,0,0],svg:i}]}:{text:"",width:"*"},{stack:[{text:"Odberate\u013e",bold:!0},{canvas:[{type:"line",x1:-2,y1:5,x2:250,y2:5,lineWidth:.5}]},{text:e.entity,bold:!0,margin:[0,3,0,0]},{text:e.street},{text:e.zipCode+" "+e.city},{text:e.country},{canvas:[{type:"line",x1:-2,y1:5,x2:250,y2:5,lineWidth:.5}]},{width:"*",margin:[10,5,0,0],alignment:"justify",fontSize:10,columns:[{width:"*",text:""},{width:"auto",layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}},table:{headerRows:0,widths:["auto","auto"],body:[[{text:"I\u010cO:",alignment:"right"},{text:e.legalId,alignment:"right"}],[{text:"DI\u010c:",alignment:"right"},{text:e.taxId,alignment:"right"}],e.taxLegalId&&[{text:"I\u010c DPH:",alignment:"right"},{text:e.taxLegalId,alignment:"right"}]].filter(g)}}]}],width:250,margin:[0,20,0,0]}]},{columns:[{width:150,margin:[0,20,0,0],stack:[{text:"D\xe1tum",bold:!0},{canvas:[{type:"line",x1:-2,y1:5,x2:122,y2:5,lineWidth:.5}]}]},{width:150,margin:[0,20,0,0],stack:[{text:"Symbol",bold:!0},{canvas:[{type:"line",x1:-2,y1:5,x2:130,y2:5,lineWidth:.5}]}]}],fontSize:10},{columns:[{margin:[10,0,25,0],width:150,table:{headerRows:0,widths:[50,"*"],body:[[{text:"vystavenia:"},{text:t.issueDate,alignment:"right"}],[{text:"splatnosti:",bold:!0},{text:t.dueDate,bold:!0,alignment:"right"}],t.deliveryDate&&[{text:"dodania:"},{text:t.deliveryDate,alignment:"right"}]].filter(g)},layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}}},{margin:[10,0,25,0],width:158,table:{headerRows:0,widths:[60,"*"],body:[[{text:"kon\u0161tantn\xfd:"},{text:t.constantSymbol,alignment:"right"}],[{text:"variabiln\xfd:",bold:!0},{text:t.variableSymbol,bold:!0,alignment:"right"}]]},layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}}},{margin:[0,0,0,0],table:{headerRows:0,widths:[80,"*"],body:[[{text:"Platba:",bold:!0},t.paymentType||""],t.orderNr&&[{text:"\u010c\xedslo objedn\xe1vky:",bold:!0},{text:t.orderNr||"",bold:!0}]].filter(g)},layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}}}],fontSize:9,margin:[0,10,0,0]},{columns:[{stack:[{text:"IBAN:",bold:!0},{table:{body:[[{text:n.iban,bold:!0,margin:[20,1,20,1]}]]},layout:{hLineWidth:function(t,n){return.5},vLineWidth:function(t,n){return.5}},margin:[0,0,0,0],width:"100",alignment:"right"},{margin:[0,5,0,0],table:{headerRows:0,widths:[70,"*"],body:[[{text:"Bankov\xfd \xfa\u010det:",bold:!0},{text:n.bankAccount,bold:!1}]]},layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}}}]},{stack:[{text:"SWIFT:",bold:!0},{table:{body:[[{text:n.swift,bold:!0,margin:[20,0,20,0],fontSize:11}]]},layout:{hLineWidth:function(t,n){return.5},vLineWidth:function(t,n){return.5}},margin:[0,0,0,0],width:"100",alignment:"right"},{margin:[0,5,0,0],table:{headerRows:0,widths:[60,"*"],body:[[{text:"K\xf3d banky:",bold:!0},{text:n.bankCode,bold:!1}]]},layout:{hLineWidth:function(t){return 0},vLineWidth:function(t){return 0},paddingLeft:function(t,n){return 0},paddingRight:function(t,n){return 3},paddingTop:function(t,n){return 0},paddingBottom:function(t,n){return 0}}}]}],margin:[0,20,0,0],fontSize:10},{text:t.description||"",margin:[0,10,0,0],fontSize:10},this._getItemTable(t),{text:t.finalText,margin:[0,10,0,0],fontSize:10},{columns:[{text:"",width:"*"},{width:"auto",fontSize:10,stack:[2===t.type&&{margin:[0,20,0,0],stack:[{text:"Rekapitul\xe1cia DPH",bold:!0,margin:[0,0,0,10],alignment:"left"},{columns:[{text:"",width:"*"},{width:"auto",stack:[this._getTaxSummary(t.taxSummary)]}]}]},{margin:[0,1===t.type?40:20,0,0],stack:[this._getPriceTable(t)]}].filter(g)}]}],footer:{stack:[{canvas:[{type:"line",x1:50,y1:5,x2:560,y2:5,lineWidth:.5}]},{columns:[{text:"",width:"25%"},{text:"vygenerovala fakturazdarma.netlify.app",width:"*",alignment:"center"},{text:"Strana 1/1",width:"25%",alignment:"right"}],margin:[50,5,50,50],color:"#A9A9A9",italics:!0}],fontSize:8},styles:{}}}};var c=h;a.a.vfs=o.a.pdfMake.vfs;var f=function(){};f.prototype.createPdf=function(t){var n=(new c).build(t);return a.a.createPdf(n)},f.prototype.downloadInvoicePdf=function(t){this.createPdf(t).download("Fakt\xfara_"+t.id+".pdf")},f.prototype.openInvoicePdf=function(t){var n=this.createPdf(t),e=window.open("","_blank");n.open({},e)}}}]);
//# sourceMappingURL=6.871c2758.chunk.js.map