{"version":3,"sources":["actions/index.ts","classes/NotFoundException.ts","classes/InvoiceItem.ts","actions/invoice.ts","utils/padLeft.ts","utils/iban.ts","actions/actionTypes.ts","icons.js","actions/login.ts","actions/filter.ts","utils/blob.ts","actions/archive.ts","api/DelayProxy.ts","api/mocks.ts","api/LocalStorageClient.ts","classes/Invoice.ts","utils/formatters.ts","api/index.ts","components/InvoiceList/index.tsx","containers/VisibleInvoiceList.ts","components/ContactList/index.tsx","containers/VisibleContactList.ts","components/EditInvoice/TextField.tsx","components/EditInvoice/InvoiceItems.tsx","components/EditInvoice/Discount.tsx","components/EditInvoice/InvoiceForm.tsx","components/EditInvoice/InvoiceIdForm.tsx","utils/debounce.ts","components/Spinner/index.tsx","utils/broadcast.js","components/EditInvoice/constantSymbols.js","components/EditInvoice/index.tsx","containers/EditInvoice.ts","components/EditContact/Company.tsx","components/EditContact/Bank.tsx","components/EditContact/ContactForm.tsx","components/EditContact/index.tsx","containers/EditContact.ts","components/Archive/index.tsx","containers/Archive.ts","App.tsx","components/NoMatch/index.tsx","components/LoginForm/index.tsx","components/LoginPage/index.tsx","containers/Login.ts","reducers/login.ts","components/PrivateRoute/index.tsx","containers/PrivateRoute.ts","reducers/ui.ts","reducers/invoiceUI.ts","reducers/contactUI.ts","reducers/index.ts","reducers/invoices.ts","reducers/contacts.ts","reducers/visibilityFilter.ts","api/bankList.js","serviceWorker.ts","index.tsx","classes/Contact.ts","classes/ContactMapper.ts","actions/contact.ts","utils/sort.ts","classes/InvoiceMapper.ts"],"names":["_actionTypes__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","_action__WEBPACK_IMPORTED_MODULE_1__","o","_contact__WEBPACK_IMPORTED_MODULE_2__","_invoice__WEBPACK_IMPORTED_MODULE_3__","_login__WEBPACK_IMPORTED_MODULE_4__","_filter__WEBPACK_IMPORTED_MODULE_5__","_archive__WEBPACK_IMPORTED_MODULE_6__","NotFoundException","_Error","message","_this","Object","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","name","constructor","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_4__","Error","InvoiceItem","item","unit","pricePerUnit","amount","taxRate","assign","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","get","netPrice","taxPrice","createInvoice","routerHistory","dispatch","getState","nr","str","invoices","year","Date","getFullYear","yearStr","String","idTuple","reduce","_ref","invoice","_ref2","slicedToArray","lastId","count","id","startsWith","invoiceId","parseInt","slice","length","push","concat","Math","max","apply","toConsumableArray","Array","join","fetchInvoices","type","t","payload","client","then","error","updateInvoiceForm","changedFields","allFields","itemKeys","fields","emitent","contacts","find","contact","value","Contact","isTaxable","InvoiceType","Taxable","NonTax","fetchInvoiceForm","_getState3","invoiceUI","isDraft","console","log","Promise","resolve","fetchInvoice","catch","Invoice","InvoiceMapper","toFields","items","from","v","i","checkInvoiceExists","addItem","removeItem","k","forEach","prop","hasOwnProperty","filter","objectSpread","mapInvoice","values","state","fromValues","recipient","origInvoice","inv","saveInvoice","arguments","undefined","deleteInvoices","keys","changeInvoiceId","newId","oldId","replace","createEntity","isOwn","createContact","isValidIBANNumber","input","iban","toUpperCase","code","match","AD","AE","AT","AZ","BA","BE","BG","BH","BR","CH","CR","CY","CZ","DE","DK","DO","EE","ES","FI","FO","FR","GB","GI","GL","GR","GT","HR","HU","IE","IL","IS","IT","JO","KW","KZ","LB","LI","LT","LU","LV","MC","MD","ME","MK","MR","MT","MU","NL","NO","PK","PL","PS","PT","QA","RO","RS","SA","SE","SI","SK","SM","TN","TR","string","checksum","offset","fragment","substring","mod97","letter","charCodeAt","r","LOG_IN","LOG_IN_SUCCESS","LOG_IN_FAILURE","LOG_OUT","CONTACT_CREATE","CONTACT_FETCH","CONTACT_FETCH_SUCCESS","CONTACT_FETCH_FAILURE","CONTACTS_FETCH","CONTACTS_FETCH_SUCCESS","CONTACTS_FETCH_FAILURE","CONTACT_FORM_REPLACE","CONTACT_FORM_TOGGLE","CONTACT_SAVE","CONTACT_SAVE_SUCCESS","CONTACT_SAVE_FAILURE","CONTACTS_DELETE","CONTACTS_DELETE_SUCCESS","CONTACTS_DELETE_FAILURE","INVOICE_FETCH","INVOICE_FETCH_SUCCESS","INVOICE_FETCH_FAILURE","INVOICES_FETCH","INVOICES_FETCH_SUCCESS","INVOICES_FETCH_FAILURE","INVOICE_FORM_REPLACE","INVOICE_SAVE","INVOICE_SAVE_SUCCESS","INVOICE_SAVE_FAILURE","INVOICES_DELETE","INVOICES_DELETE_SUCCESS","INVOICES_DELETE_FAILURE","ARCHIVE_IMPORT","ARCHIVE_IMPORT_SUCCESS","ARCHIVE_IMPORT_FAILURE","ARCHIVE_EXPORT","ARCHIVE_EXPORT_SUCCESS","ARCHIVE_EXPORT_FAILURE","SET_VISIBILITY_FILTER","_ant_design_icons_lib_outline_DownOutline__WEBPACK_IMPORTED_MODULE_0__","_ant_design_icons_lib_outline_DownOutline__WEBPACK_IMPORTED_MODULE_0___default","n","a","_ant_design_icons_lib_outline_UpOutline__WEBPACK_IMPORTED_MODULE_1__","_ant_design_icons_lib_outline_UpOutline__WEBPACK_IMPORTED_MODULE_1___default","_ant_design_icons_lib_outline_ArrowLeftOutline__WEBPACK_IMPORTED_MODULE_2__","_ant_design_icons_lib_outline_ArrowLeftOutline__WEBPACK_IMPORTED_MODULE_2___default","_ant_design_icons_lib_outline_LeftOutline__WEBPACK_IMPORTED_MODULE_3__","_ant_design_icons_lib_outline_LeftOutline__WEBPACK_IMPORTED_MODULE_3___default","_ant_design_icons_lib_outline_RightOutline__WEBPACK_IMPORTED_MODULE_4__","_ant_design_icons_lib_outline_RightOutline__WEBPACK_IMPORTED_MODULE_4___default","_ant_design_icons_lib_outline_DoubleLeftOutline__WEBPACK_IMPORTED_MODULE_5__","_ant_design_icons_lib_outline_DoubleLeftOutline__WEBPACK_IMPORTED_MODULE_5___default","_ant_design_icons_lib_outline_DoubleRightOutline__WEBPACK_IMPORTED_MODULE_6__","_ant_design_icons_lib_outline_DoubleRightOutline__WEBPACK_IMPORTED_MODULE_6___default","_ant_design_icons_lib_outline_PlusOutline__WEBPACK_IMPORTED_MODULE_7__","_ant_design_icons_lib_outline_PlusOutline__WEBPACK_IMPORTED_MODULE_7___default","_ant_design_icons_lib_outline_DownloadOutline__WEBPACK_IMPORTED_MODULE_8__","_ant_design_icons_lib_outline_DownloadOutline__WEBPACK_IMPORTED_MODULE_8___default","_ant_design_icons_lib_outline_UploadOutline__WEBPACK_IMPORTED_MODULE_9__","_ant_design_icons_lib_outline_UploadOutline__WEBPACK_IMPORTED_MODULE_9___default","_ant_design_icons_lib_outline_EditOutline__WEBPACK_IMPORTED_MODULE_10__","_ant_design_icons_lib_outline_EditOutline__WEBPACK_IMPORTED_MODULE_10___default","_ant_design_icons_lib_outline_FilePdfOutline__WEBPACK_IMPORTED_MODULE_11__","_ant_design_icons_lib_outline_FilePdfOutline__WEBPACK_IMPORTED_MODULE_11___default","_ant_design_icons_lib_outline_SaveOutline__WEBPACK_IMPORTED_MODULE_12__","_ant_design_icons_lib_outline_SaveOutline__WEBPACK_IMPORTED_MODULE_12___default","_ant_design_icons_lib_outline_FormOutline__WEBPACK_IMPORTED_MODULE_13__","_ant_design_icons_lib_outline_FormOutline__WEBPACK_IMPORTED_MODULE_13___default","_ant_design_icons_lib_outline_DeleteOutline__WEBPACK_IMPORTED_MODULE_14__","_ant_design_icons_lib_outline_DeleteOutline__WEBPACK_IMPORTED_MODULE_14___default","_ant_design_icons_lib_outline_MinusCircleOutline__WEBPACK_IMPORTED_MODULE_15__","_ant_design_icons_lib_outline_MinusCircleOutline__WEBPACK_IMPORTED_MODULE_15___default","_ant_design_icons_lib_outline_CalendarOutline__WEBPACK_IMPORTED_MODULE_16__","_ant_design_icons_lib_outline_CalendarOutline__WEBPACK_IMPORTED_MODULE_16___default","_ant_design_icons_lib_fill_CloseCircleFill__WEBPACK_IMPORTED_MODULE_17__","_ant_design_icons_lib_fill_CloseCircleFill__WEBPACK_IMPORTED_MODULE_17___default","_ant_design_icons_lib_outline_InfoCircleOutline__WEBPACK_IMPORTED_MODULE_18__","_ant_design_icons_lib_outline_InfoCircleOutline__WEBPACK_IMPORTED_MODULE_18___default","_ant_design_icons_lib_outline_CloseCircleOutline__WEBPACK_IMPORTED_MODULE_19__","_ant_design_icons_lib_outline_CloseCircleOutline__WEBPACK_IMPORTED_MODULE_19___default","_ant_design_icons_lib_outline_CheckCircleOutline__WEBPACK_IMPORTED_MODULE_20__","_ant_design_icons_lib_outline_CheckCircleOutline__WEBPACK_IMPORTED_MODULE_20___default","_ant_design_icons_lib_fill_CheckCircleFill__WEBPACK_IMPORTED_MODULE_21__","_ant_design_icons_lib_fill_CheckCircleFill__WEBPACK_IMPORTED_MODULE_21___default","_ant_design_icons_lib_outline_ExclamationCircleOutline__WEBPACK_IMPORTED_MODULE_22__","_ant_design_icons_lib_outline_ExclamationCircleOutline__WEBPACK_IMPORTED_MODULE_22___default","_ant_design_icons_lib_fill_ExclamationCircleFill__WEBPACK_IMPORTED_MODULE_23__","_ant_design_icons_lib_fill_ExclamationCircleFill__WEBPACK_IMPORTED_MODULE_23___default","_ant_design_icons_lib_outline_StopOutline__WEBPACK_IMPORTED_MODULE_24__","_ant_design_icons_lib_outline_StopOutline__WEBPACK_IMPORTED_MODULE_24___default","_ant_design_icons_lib_outline_LoadingOutline__WEBPACK_IMPORTED_MODULE_25__","_ant_design_icons_lib_outline_LoadingOutline__WEBPACK_IMPORTED_MODULE_25___default","logIn","_api__WEBPACK_IMPORTED_MODULE_1__","email","password","doLogin","fetchContacts","VisibilityFilters","SHOW_ALL","SHOW_COMPLETED","SHOW_ACTIVE","saveBlob","document","createElement","style","display","body","appendChild","blob","fileName","url","window","URL","createObjectURL","href","download","click","revokeObjectURL","importArchive","archive","reject","json","JSON","parse","isArray","all","mergeContacts","mergeInvoices","results","_results","contactsResult","invoicesResult","exportArchive","Blob","stringify","moment","format","delayPromise","ms","setTimeout","hasMethod","obj","desc","getOwnPropertyDescriptor","getInstanceMethodNames","stop","array","proto","getPrototypeOf","getOwnPropertyNames","DelayProxyBuilder","delay","_skipMethods","delayInMillis","skipMethods","_x","toString","DelayProxy","proxy","prototype","method","some","skipMethod","RegExp","test","_len","args","_key","setClient","setDelay","build","mockContacts","entity","phoneNr","street","city","zipCode","country","legalId","taxId","bankAccount","bankName","bankCode","swift","taxLegalId","mockInvoices","paymentType","PaymentTypeEnum","WireTransfer","description","discount","variableSymbol","constantSymbol","issueDate","dueDate","paymentDate","finalText","Card","mergeArrays","fromArray","toArray","conflicts","doc","docIndex","findIndex","currentDoc","revision","updatedAt","LocalStorageClient","storage","localStorage","classCallCheck","createClass","getContactSync","contactIndex","c","setItem","CONTACTS_KEY","currentContacts","filtered","includes","getInvoiceSync","invoiceIndex","INVOICES_KEY","currentInvoices","getItem","instance","DAY_IN_MILLIS","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","orderNr","deliveryDate","now","map","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","price","taxGroups","entries","grossPrice","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","Number","NaN","discountPrice","currencyFormat","dateFormat","formatIBAN","formatZipCode","string_mask__WEBPACK_IMPORTED_MODULE_0__","string_mask__WEBPACK_IMPORTED_MODULE_0___default","_iban__WEBPACK_IMPORTED_MODULE_1__","Intl","NumberFormat","currency","DateTimeFormat","_mask$process","StringMask","process","result","valid","alphaNumValue","_mask$process2","_LocalStorageClient__WEBPACK_IMPORTED_MODULE_0__","_DelayProxy__WEBPACK_IMPORTED_MODULE_1__","getInstance","InvoiceList","_Component","_getPrototypeOf2","possibleConstructorReturn","hideSavingProgressMessage","selectedRowKeys","onSelectChange","setState","handleDelete","props","onDelete","handleCreateNewInvoice","onCreate","history","inherits","nextProps","wasSaving","ui","isSaving","hideMessage","success","loading","_this$props","rowSelection","onChange","hasSelected","react_default","className","es_button","icon","size","onClick","disabled","table","rowKey","dataSource","columns","isFetching","Component","title","dataIndex","render","text","react_router_dom","to","VisibleInvoiceList","withRouter","connect","completed","getVisibleInvoices","visibilityFilter","sort","b","getTime","ContactList","VisibleContactList","getVisibleContacts","deleteContacts","TextField","FormItem","children","objectWithoutProperties","es_form","Item","classNames","labelCol","xs","sm","prefixCls","wrapperCol","InvoiceItems","onItemAdd","onItemRemove","getFieldDecorator","index","Fragment","_ref2$netPrice","_ref2$taxPrice","_ref2$grossPrice","InvoiceItems_FormItem","label","colon","validateTrigger","rules","required","whitespace","min","input_number","width","decimalSeparator","TextField_TextField","row","col","span","formItemLayoutWithOutLabel","Discount","formItemLayout","lg","TextArea","Option","formLayout","columnLayout","InvoiceForm","handleSubmit","e","onSubmit","form","handleEntityCreate","preventDefault","target","HTMLElement","dataset","onEntityCreate","constantSymbols","onPdfClick","_this$props$form","getFieldValue","layout","es_select","data-type","lineHeight","divider","options","option","paddingLeft","Cash","CashOnDelivery","date_picker","symbol","placeholder","InvoiceItems_InvoiceItems","Discount_Discount","justify","autosize","minRows","maxRows","textAlign","margin","htmlType","EnhancedInvoiceForm","create","onFieldsChange","mapPropsToFields","createFormField","isPayed","itemsNames","field","pricesPU","units","amounts","taxRates","grossPrices","taxPrices","netPrices","onValuesChange","InvoiceIdForm","assertUniqueId","rule","callback","onInvoiceCheckExists","doesExists","func","wait","immediate","timeout","context","callNow","clearTimeout","debounce","hasFeedback","validator","initialValue","EnhancedInvoiceIdForm","Spinner","spin","messageBroadcast","EditInvoice","formRef","changeIdFormRef","isChangeIdModalVisible","getFieldsValue","hide","onSave","handleItemAdd","handleItemRemove","handleFieldsChange","showChangeIdModal","handleChangeId","validateFields","err","invoiceValues","onInvoiceChangeId","handleCancelChangeId","setFieldsValue","handleCheckInvoiceExists","handleBackButton","goBack","makePdf","validateFieldsAndScroll","hideSaveMsg","hideLoadMsg","invoiceData","toPlainObject","documentMode","getElementById","command","data","ifrm","setAttribute","src","location","origin","onload","bind","PdfMaker","makeInvoicePdf","fetchForm","_this2","_this$props2","modal","visible","onOk","onCancel","wrappedComponentRef","inst","LoadingOverlay_default","classNamePrefix","active","spinner","Spinner_Spinner","styles","overlay","content","page_header","onBack","color","subTitle","back_top","ownProps","params","selectInvoiceForm","fromFields","EditInvoiceComp","Company","_this$props$fieldPref","fieldPrefix","extra","valuePropName","es_checkbox","Bank","validateIBAN","endsWith","isRequired","bankList","_this$props2$fieldPre","ibanHelp","preserve","help","validateStatus","ContactForm","isBankRequired","isBankExpanded","isContactExpanded","onToggleBankSection","onToggleContactSection","Company_Company","Bank_Bank","EnhancedContactForm","bankIndex","EditContact","contactId","forceOwn","contactUI","queryString","search","selectFields","fetchContactForm","saveContact","updateContactForm","EditContactComp","Archive","showConflicts","mergeResults","groups","rows","memo","group","conflict","fontSize","theme","unshift","colSpan","warning","handleExport","hideMsg","onArchiveExport","handleImport","file","reader","FileReader","onerror","readAsText","onArchiveImport","_result","card","marginBottom","upload","accept","beforeUpload","showUploadList","ArchiveComp","Header","Content","Footer","routes","exact","path","component","menuItems","App","onMenuClicked","pathname","selectedMenu","selectedMenuKey","menu","mode","selectedKeys","react_router","route","NormalLoginForm","onLogIn","prefix","WrappedNormalLoginForm","LoginPage","Login","login","LoginState","initialState","loginState","PrivateRoute","rest","PrivateRouteComp","lastError","action","rootReducer","combineReducers","newState","section","Boolean","hostname","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","invoiceApp","applyMiddleware","thunk","ReactDOM","es","locale_provider","locale","skSK","containers_PrivateRoute_PrivateRoute","NoMatch_Content","backgroundImage","navigator","serviceWorker","ready","registration","unregister","ContactMapper","val","newContactId","contactsSortedByKeyDesc","property","sortOrder","substr","localeCompare","numeric","dynamicSort","_bankList$changedFiel","fetchContact","formatDate","date","_Users_finch_dev_fakturazdarma_sk_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","toItemFields","_fields$itemsNames","_fields$pricesPU","_fields$units","_fields$amounts","_fields$taxRates","_fields$id","_fields$type","_fields$paymentType","_fields$dueDate","_fields$issueDate","_fields$deliveryDate","_fields$paymentDate","_fields$variableSymbo","_fields$constantSymbo","_fields$orderNr","_fields$description","_fields$finalText","_fields$discount","toDate","toInvoiceItems","formatCurrency","_invoice$emitent","_invoice$recipient"],"mappings":"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","file":"static/js/main.a0776361.chunk.js","sourcesContent":["import * as types from './actionTypes';\nexport * from './action';\nexport * from './contact';\nexport * from './invoice';\nexport * from './login';\nexport * from './filter';\nexport * from './archive';\nexport { types };\n","// Exception class\n//\n// More info:\n// https://stackoverflow.com/a/48342359/3896616\nexport class NotFoundException extends Error {\n\tconstructor(message: string) {\n\t\t// 'Error' breaks prototype chain here\n\t\tsuper(message);\n\n\t\t// Saving class name in the property of our custom error as a shortcut.\n\t\tthis.name = this.constructor.name;\n\n\t\t// Capturing stack trace, excluding constructor call from it.\n\t\t// Error.captureStackTrace(this, this.constructor);\n\t}\n}\n","export class InvoiceItem {\n\tname: string = '';\n\tunit: string = 'kus';\n\tpricePerUnit: number = 0;\n\tamount: number = 0;\n\ttaxRate: number = 20;\n\n\tconstructor(item?: Partial<InvoiceItem>) {\n\t\tObject.assign(this, item);\n\t}\n\n\tget netPrice(): number {\n\t\treturn this.pricePerUnit * this.amount;\n\t}\n\n\tget grossPrice(): number {\n\t\treturn this.netPrice + this.taxPrice;\n\t}\n\n\tget taxPrice(): number {\n\t\treturn (this.netPrice / 100) * this.taxRate;\n\t}\n}\n","import { History } from 'history';\nimport { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\nimport * as t from './actionTypes';\nimport client from '../api';\nimport { AppState } from '../reducers';\nimport { createContact } from './contact';\nimport { Contact } from '../classes/Contact';\nimport { Invoice, InvoiceType } from '../classes/Invoice';\nimport { InvoiceMapper } from '../classes/InvoiceMapper';\nimport { NotFoundException } from '../classes/NotFoundException';\nimport { padLeft } from '../utils/padLeft';\n\nexport type InvoiceAction<R> = ThunkAction<R, AppState, null, Action<string>>;\n\nconst keysInRange = (length: number) =>\n\tArray.from({ length: Math.max(0, length) }, (v, i) => i);\n\nexport const createInvoice = (routerHistory: History): InvoiceAction<void> => (\n\tdispatch,\n\tgetState\n) => {\n\tconst { invoices } = getState();\n\tconst year = new Date().getFullYear();\n\tconst yearStr = String(year);\n\tconst idTuple = invoices.reduce(\n\t\t([lastId, count], invoice: Invoice) => {\n\t\t\tconst { id } = invoice;\n\t\t\tif (id && id.startsWith(yearStr)) {\n\t\t\t\tcount++;\n\t\t\t\tconst invoiceId = parseInt(id.slice(yearStr.length), 10);\n\t\t\t\tif (invoiceId > lastId) {\n\t\t\t\t\tlastId = invoiceId;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [lastId, count];\n\t\t},\n\t\t[0, 0]\n\t);\n\trouterHistory.push(\n\t\t`/invoices/${year}${padLeft(Math.max(...idTuple) + 1, 3)}`\n\t);\n};\n\nexport const fetchInvoices = (): InvoiceAction<\n\tPromise<Invoice[]>\n> => dispatch => {\n\tdispatch({ type: t.INVOICES_FETCH, payload: {} });\n\treturn client.fetchInvoices().then(\n\t\tinvoices => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICES_FETCH_SUCCESS,\n\t\t\t\tpayload: invoices\n\t\t\t});\n\t\t\treturn invoices;\n\t\t},\n\t\terror => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICES_FETCH_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t}\n\t);\n};\n\nexport const fetchInvoice = (\n\tid: string\n): InvoiceAction<Promise<Invoice>> => dispatch => {\n\tdispatch({ type: t.INVOICE_FETCH, payload: {} });\n\treturn client\n\t\t.fetchInvoice(id)\n\t\t.then(invoice => {\n\t\t\tif (!invoice) {\n\t\t\t\tthrow new NotFoundException(`Faktúra \\`${id}\\` sa nenašla!`);\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICE_FETCH_SUCCESS,\n\t\t\t\tpayload: invoice\n\t\t\t});\n\t\t\treturn invoice;\n\t\t})\n\t\t.catch(error => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICE_FETCH_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t});\n};\n\nexport const updateInvoiceForm = (\n\tchangedFields: any,\n\tallFields: any,\n\titemKeys?: number[]\n): InvoiceAction<void> => (dispatch, getState) => {\n\tconst payload: any = { fields: allFields };\n\tif (changedFields.emitent) {\n\t\tconst { contacts } = getState();\n\t\tconst emitent = contacts.find(\n\t\t\tcontact => changedFields.emitent.value === contact.id\n\t\t);\n\t\tif (emitent) {\n\t\t\tpayload.fields.type = {\n\t\t\t\tvalue: new Contact(emitent).isTaxable\n\t\t\t\t\t? InvoiceType.Taxable\n\t\t\t\t\t: InvoiceType.NonTax\n\t\t\t};\n\t\t}\n\t}\n\tif (itemKeys) {\n\t\tpayload.itemKeys = itemKeys;\n\t}\n\tdispatch({\n\t\ttype: t.INVOICE_FORM_REPLACE,\n\t\tpayload\n\t});\n};\n\nexport const fetchInvoiceForm = (id: string): InvoiceAction<void> => (\n\tdispatch,\n\tgetState\n) => {\n\tconst { invoices, invoiceUI } = getState();\n\tconst { fields, isDraft } = invoiceUI;\n\tif (isDraft && fields.id && fields.id.value === id) {\n\t\tconsole.log('Skip form fetch');\n\t\treturn void 0;\n\t}\n\n\tPromise.resolve(invoices.find(invoice => invoice.id === id))\n\t\t.then(invoice => {\n\t\t\tif (invoice) {\n\t\t\t\treturn invoice;\n\t\t\t}\n\t\t\treturn dispatch(fetchInvoice(id)).catch(error => {\n\t\t\t\tif (error instanceof NotFoundException) {\n\t\t\t\t\treturn { id };\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t});\n\t\t})\n\t\t.then(invoice => {\n\t\t\tinvoice = new Invoice(invoice);\n\t\t\tconst fields = new InvoiceMapper().toFields(invoice);\n\t\t\tconst itemKeys = keysInRange(Math.max(1, invoice.items.length));\n\t\t\treturn dispatch(updateInvoiceForm({}, fields, itemKeys));\n\t\t});\n};\n\nexport const checkInvoiceExists = (\n\tid: string\n): InvoiceAction<Promise<boolean>> => (dispatch, getState) => {\n\tconst { invoices } = getState();\n\tconst invoice = invoices.find(invoice => invoice.id === id);\n\treturn Promise.resolve(!!invoice);\n};\n\nexport const addItem = (invoiceId: string): InvoiceAction<void> => (\n\tdispatch,\n\tgetState\n) => {\n\tconst { invoiceUI } = getState();\n\tlet { itemKeys } = invoiceUI;\n\n\titemKeys = [\n\t\t...itemKeys,\n\t\titemKeys.length === 0 ? 0 : itemKeys[itemKeys.length - 1] + 1\n\t];\n\n\tdispatch({\n\t\ttype: t.INVOICE_FORM_REPLACE,\n\t\tpayload: { itemKeys }\n\t});\n};\n\nexport const removeItem = (\n\tinvoiceId: string,\n\tk: number\n): InvoiceAction<void> => (dispatch, getState) => {\n\tconst { invoiceUI } = getState();\n\tlet { itemKeys, fields } = invoiceUI;\n\n\t// We need at least one item\n\tif (itemKeys.length === 1) {\n\t\treturn false;\n\t}\n\n\t[\n\t\t'itemsNames',\n\t\t'pricesPU',\n\t\t'units',\n\t\t'amounts',\n\t\t'taxRates',\n\t\t'itemKeys'\n\t].forEach(prop => {\n\t\tif (fields.hasOwnProperty(prop)) {\n\t\t\tdelete fields[prop][k];\n\t\t}\n\t});\n\n\titemKeys = itemKeys.filter((key: any) => key !== k);\n\n\tdispatch({\n\t\ttype: t.INVOICE_FORM_REPLACE,\n\t\tpayload: {\n\t\t\titemKeys,\n\t\t\tfields: { ...fields }\n\t\t}\n\t});\n};\n\nconst mapInvoice = (values: any, itemKeys: number[], state: AppState) => {\n\tconst { contacts, invoices } = state;\n\tlet invoice = new InvoiceMapper().fromValues(values, itemKeys);\n\tlet emitent = contacts.find(contact => values.emitent === contact.id);\n\tlet recipient = contacts.find(contact => values.recipient === contact.id);\n\tif (!(emitent && recipient)) {\n\t\tconst origInvoice = invoices.find(inv => inv.id === invoice.id);\n\t\tif (origInvoice) {\n\t\t\temitent = emitent || origInvoice.emitent;\n\t\t\trecipient = recipient || origInvoice.recipient;\n\t\t}\n\t}\n\treturn new Invoice({ ...invoice, emitent, recipient });\n};\n\nexport const saveInvoice = (\n\tvalues: any,\n\titemKeys: number[],\n\tisDraft: boolean = false\n): InvoiceAction<Promise<Invoice>> => (dispatch, getState) => {\n\tconst invoice = mapInvoice(values, itemKeys, getState());\n\tdispatch({ type: t.INVOICE_SAVE, payload: { isDraft } });\n\treturn client.saveInvoice(invoice).then(\n\t\tinvoice => {\n\t\t\tinvoice = new Invoice(invoice);\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICE_SAVE_SUCCESS,\n\t\t\t\tpayload: invoice\n\t\t\t});\n\t\t\treturn invoice;\n\t\t},\n\t\terror => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICE_SAVE_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t}\n\t);\n};\n\nexport const deleteInvoices = (\n\tkeys: string[]\n): InvoiceAction<void> => dispatch => {\n\tdispatch({ type: t.INVOICES_DELETE, payload: keys });\n\treturn client.deleteInvoices(keys).then(\n\t\tinvoices => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICES_DELETE_SUCCESS,\n\t\t\t\tpayload: invoices\n\t\t\t});\n\t\t},\n\t\terror => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICES_DELETE_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t}\n\t);\n};\n\nexport const changeInvoiceId = (\n\tnewId: string,\n\tvalues: any,\n\titemKeys: number[],\n\trouterHistory: History\n): InvoiceAction<void> => (dispatch, getState) => {\n\tconst invoice = mapInvoice(values, itemKeys, getState());\n\tconst oldId = invoice.id as string;\n\tinvoice.id = newId;\n\tdispatch({ type: t.INVOICE_SAVE, payload: {} });\n\treturn client\n\t\t.saveInvoice(invoice)\n\t\t.then(invoice => {\n\t\t\trouterHistory.replace(`/invoices/${invoice.id}`); // import if invoice id has changed\n\t\t\tif (oldId !== invoice.id) {\n\t\t\t\tdispatch(deleteInvoices([oldId]));\n\t\t\t}\n\t\t\treturn new Invoice(invoice);\n\t\t})\n\t\t.then(invoice => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICE_SAVE_SUCCESS,\n\t\t\t\tpayload: invoice\n\t\t\t});\n\t\t})\n\t\t.catch((error: Error) => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.INVOICE_SAVE_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t});\n};\n\nexport const createEntity = (\n\tvalues: any,\n\titemKeys: number[],\n\tisOwn: boolean,\n\trouterHistory: History\n): InvoiceAction<void> => dispatch => {\n\treturn dispatch(saveInvoice(values, itemKeys, true)).then(() => {\n\t\treturn dispatch(createContact(routerHistory, isOwn));\n\t});\n};\n","export function padLeft(nr: number, n: number, str?: string) {\n\treturn Array(n - String(nr).length + 1).join(str || '0') + nr;\n}\n","function mod97(string: string): number {\n\tlet checksum = parseInt(string.slice(0, 2));\n\tfor (let offset = 2; offset < string.length; offset += 7) {\n\t\tlet fragment = String(checksum) + string.substring(offset, offset + 7);\n\t\tchecksum = parseInt(fragment, 10) % 97;\n\t}\n\treturn checksum;\n}\n\n/**\n * Validate IBAN number\n *\n * @param {string} input - iban number\n * @returns {(boolean|number)} - Returns 1 if the IBAN is valid.\n * Returns FALSE if the IBAN's length is not as should be (for CY the IBAN Should be 28 chars long starting with CY ).\n * Returns any other number (checksum) when the IBAN is invalid (check digits do not match).\n *\n * @see {@link https://stackoverflow.com/a/35599724/3896616}\n */\nexport function isValidIBANNumber(input: string): boolean | number {\n\tconst CODE_LENGTHS: { [index: string]: number } = {\n\t\tAD: 24,\n\t\tAE: 23,\n\t\tAT: 20,\n\t\tAZ: 28,\n\t\tBA: 20,\n\t\tBE: 16,\n\t\tBG: 22,\n\t\tBH: 22,\n\t\tBR: 29,\n\t\tCH: 21,\n\t\tCR: 21,\n\t\tCY: 28,\n\t\tCZ: 24,\n\t\tDE: 22,\n\t\tDK: 18,\n\t\tDO: 28,\n\t\tEE: 20,\n\t\tES: 24,\n\t\tFI: 18,\n\t\tFO: 18,\n\t\tFR: 27,\n\t\tGB: 22,\n\t\tGI: 23,\n\t\tGL: 18,\n\t\tGR: 27,\n\t\tGT: 28,\n\t\tHR: 21,\n\t\tHU: 28,\n\t\tIE: 22,\n\t\tIL: 23,\n\t\tIS: 26,\n\t\tIT: 27,\n\t\tJO: 30,\n\t\tKW: 30,\n\t\tKZ: 20,\n\t\tLB: 28,\n\t\tLI: 21,\n\t\tLT: 20,\n\t\tLU: 20,\n\t\tLV: 21,\n\t\tMC: 27,\n\t\tMD: 24,\n\t\tME: 22,\n\t\tMK: 19,\n\t\tMR: 27,\n\t\tMT: 31,\n\t\tMU: 30,\n\t\tNL: 18,\n\t\tNO: 15,\n\t\tPK: 24,\n\t\tPL: 28,\n\t\tPS: 29,\n\t\tPT: 25,\n\t\tQA: 29,\n\t\tRO: 24,\n\t\tRS: 22,\n\t\tSA: 24,\n\t\tSE: 24,\n\t\tSI: 19,\n\t\tSK: 24,\n\t\tSM: 27,\n\t\tTN: 24,\n\t\tTR: 26\n\t};\n\n\tconst iban = String(input)\n\t\t.toUpperCase()\n\t\t.replace(/[^A-Z0-9]/g, ''); // keep only alphanumeric characters\n\tconst code = iban.match(/^([A-Z]{2})(\\d{2})([A-Z\\d]+)$/); // match and capture (1) the country code, (2) the check digits, and (3) the rest\n\n\t// check syntax and length\n\tif (!code || iban.length !== CODE_LENGTHS[code[1]]) {\n\t\treturn false;\n\t}\n\t// rearrange country code and check digits, and convert chars to ints\n\tconst digits = (code[3] + code[1] + code[2]).replace(\n\t\t/[A-Z]/g,\n\t\t(letter): string => {\n\t\t\treturn String(letter.charCodeAt(0) - 55);\n\t\t}\n\t);\n\n\t// final check\n\treturn mod97(digits);\n}\n","export const LOG_IN = 'LOG_IN';\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS';\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE';\nexport const LOG_OUT = 'LOG_OUT';\n/* contacts */\nexport const CONTACT_CREATE = 'CONTACT_CREATE';\nexport const CONTACT_FETCH = 'CONTACT_FETCH';\nexport const CONTACT_FETCH_SUCCESS = 'CONTACT_FETCH_SUCCESS';\nexport const CONTACT_FETCH_FAILURE = 'CONTACT_FETCH_FAILURE';\nexport const CONTACTS_FETCH = 'CONTACTS_FETCH';\nexport const CONTACTS_FETCH_SUCCESS = 'CONTACTS_FETCH_SUCCESS';\nexport const CONTACTS_FETCH_FAILURE = 'CONTACTS_FETCH_FAILURE';\nexport const CONTACT_FORM_REPLACE = 'CONTACT_FORM_UPDATE';\nexport const CONTACT_FORM_TOGGLE = 'CONTACT_FORM_TOGGLE';\nexport const CONTACT_SAVE = 'CONTACT_SAVE';\nexport const CONTACT_SAVE_SUCCESS = 'CONTACT_SAVE_SUCCESS';\nexport const CONTACT_SAVE_FAILURE = 'CONTACT_SAVE_FAILURE';\nexport const CONTACTS_DELETE = 'CONTACTS_DELETE';\nexport const CONTACTS_DELETE_SUCCESS = 'CONTACTS_DELETE_SUCCESS';\nexport const CONTACTS_DELETE_FAILURE = 'CONTACTS_DELETE_FAILURE';\n/* invoices */\nexport const INVOICE_FETCH = 'INVOICE_FETCH';\nexport const INVOICE_FETCH_SUCCESS = 'INVOICE_FETCH_SUCCESS';\nexport const INVOICE_FETCH_FAILURE = 'INVOICE_FETCH_FAILURE';\nexport const INVOICES_FETCH = 'INVOICES_FETCH';\nexport const INVOICES_FETCH_SUCCESS = 'INVOICES_FETCH_SUCCESS';\nexport const INVOICES_FETCH_FAILURE = 'INVOICES_FETCH_FAILURE';\nexport const INVOICE_FORM_REPLACE = 'INVOICE_FORM_REPLACE';\nexport const INVOICE_SAVE = 'INVOICE_SAVE';\nexport const INVOICE_SAVE_SUCCESS = 'INVOICE_SAVE_SUCCESS';\nexport const INVOICE_SAVE_FAILURE = 'INVOICE_SAVE_FAILURE';\nexport const INVOICES_DELETE = 'INVOICES_DELETE';\nexport const INVOICES_DELETE_SUCCESS = 'INVOICES_DELETE_SUCCESS';\nexport const INVOICES_DELETE_FAILURE = 'INVOICES_DELETE_FAILURE';\n/* archive */\nexport const ARCHIVE_IMPORT = 'ARCHIVE_IMPORT';\nexport const ARCHIVE_IMPORT_SUCCESS = 'ARCHIVE_IMPORT_SUCCESS';\nexport const ARCHIVE_IMPORT_FAILURE = 'ARCHIVE_IMPORT_FAILURE';\nexport const ARCHIVE_EXPORT = 'ARCHIVE_EXPORT';\nexport const ARCHIVE_EXPORT_SUCCESS = 'ARCHIVE_EXPORT_SUCCESS';\nexport const ARCHIVE_EXPORT_FAILURE = 'ARCHIVE_EXPORT_FAILURE';\n/* common */\nexport const SET_VISIBILITY_FILTER = 'SET_VISIBILITY_FILTER';\n","export {\n\tdefault as DownOutline\n} from '@ant-design/icons/lib/outline/DownOutline';\n\nexport { default as UpOutline } from '@ant-design/icons/lib/outline/UpOutline';\n\nexport {\n\tdefault as ArrowLeftOutline\n} from '@ant-design/icons/lib/outline/ArrowLeftOutline';\n\nexport {\n\tdefault as LeftOutline\n} from '@ant-design/icons/lib/outline/LeftOutline';\n\nexport {\n\tdefault as RightOutline\n} from '@ant-design/icons/lib/outline/RightOutline';\n\nexport {\n\tdefault as DoubleLeftOutline\n} from '@ant-design/icons/lib/outline/DoubleLeftOutline';\n\nexport {\n\tdefault as DoubleRightOutline\n} from '@ant-design/icons/lib/outline/DoubleRightOutline';\n\nexport {\n\tdefault as PlusOutline\n} from '@ant-design/icons/lib/outline/PlusOutline';\n\nexport {\n\tdefault as DownloadOutline\n} from '@ant-design/icons/lib/outline/DownloadOutline';\n\nexport {\n\tdefault as UploadOutline\n} from '@ant-design/icons/lib/outline/UploadOutline';\n\nexport {\n\tdefault as EditOutline\n} from '@ant-design/icons/lib/outline/EditOutline';\n\nexport {\n\tdefault as FilePdfOutline\n} from '@ant-design/icons/lib/outline/FilePdfOutline';\n\nexport {\n\tdefault as SaveOutline\n} from '@ant-design/icons/lib/outline/SaveOutline';\n\nexport {\n\tdefault as FormOutline\n} from '@ant-design/icons/lib/outline/FormOutline';\n\nexport {\n\tdefault as DeleteOutline\n} from '@ant-design/icons/lib/outline/DeleteOutline';\n\nexport {\n\tdefault as MinusCircleOutline\n} from '@ant-design/icons/lib/outline/MinusCircleOutline';\n\nexport {\n\tdefault as CalendarOutline\n} from '@ant-design/icons/lib/outline/CalendarOutline';\n\nexport {\n\tdefault as CloseCircleFill\n} from '@ant-design/icons/lib/fill/CloseCircleFill';\n\nexport {\n\tdefault as InfoCircleOutline\n} from '@ant-design/icons/lib/outline/InfoCircleOutline';\n\nexport {\n\tdefault as CloseCircleOutline\n} from '@ant-design/icons/lib/outline/CloseCircleOutline';\n\nexport {\n\tdefault as CheckCircleOutline\n} from '@ant-design/icons/lib/outline/CheckCircleOutline';\n\nexport {\n\tdefault as CheckCircleFill\n} from '@ant-design/icons/lib/fill/CheckCircleFill';\n\nexport {\n\tdefault as ExclamationCircleOutline\n} from '@ant-design/icons/lib/outline/ExclamationCircleOutline';\n\nexport {\n\tdefault as ExclamationCircleFill\n} from '@ant-design/icons/lib/fill/ExclamationCircleFill';\n\nexport {\n\tdefault as StopOutline\n} from '@ant-design/icons/lib/outline/StopOutline';\n\nexport {\n\tdefault as LoadingOutline\n} from '@ant-design/icons/lib/outline/LoadingOutline';\n","import { History } from 'history';\nimport * as t from './actionTypes';\nimport client from '../api';\nimport { fetchContacts } from './contact';\n\nexport const logIn = (\n\temail: string,\n\tpassword: string,\n\trouterHistory: History\n) => (dispatch: any) => {\n\tdispatch({ type: t.LOG_IN, payload: {} });\n\treturn client\n\t\t.doLogin(email, password)\n\t\t.then(() => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.LOG_IN_SUCCESS,\n\t\t\t\tpayload: {}\n\t\t\t});\n\t\t\tfetchContacts();\n\t\t})\n\t\t.catch(error => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.LOG_IN_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t});\n};\n\nexport const logOut = (routerHistory: any) => ({\n\ttype: t.LOG_OUT,\n\tpayload: {}\n});\n","import * as t from './actionTypes';\n\nexport const setVisibilityFilter = (filter: any) => ({\n\ttype: t.SET_VISIBILITY_FILTER,\n\tfilter\n});\n\nexport const VisibilityFilters = {\n\tSHOW_ALL: 'SHOW_ALL',\n\tSHOW_COMPLETED: 'SHOW_COMPLETED',\n\tSHOW_ACTIVE: 'SHOW_ACTIVE'\n};\n","export const saveBlob = (function() {\n\tconst a = document.createElement('a');\n\ta.style.display = 'none';\n\tdocument.body.appendChild(a);\n\n\treturn (blob: Blob, fileName: string) => {\n\t\tconst url = window.URL.createObjectURL(blob);\n\t\ta.href = url;\n\t\ta.download = fileName;\n\t\ta.click();\n\t\twindow.URL.revokeObjectURL(url);\n\t};\n})();\n","import moment from 'moment';\nimport * as t from './actionTypes';\nimport { fetchContacts } from './contact';\nimport { fetchInvoices } from './invoice';\nimport client from '../api';\nimport { saveBlob } from '../utils/blob';\n\nconst DATE_FORMAT = 'YYYY-MM-DD_HH-mm-ss';\n\nexport const importArchive = (archive: string) => (dispatch: any) => {\n\tdispatch({ type: t.ARCHIVE_IMPORT, payload: {} });\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tconst json = JSON.parse(archive);\n\t\t\tif (!(Array.isArray(json.contacts) && Array.isArray(json.invoices))) {\n\t\t\t\tthrow new Error('Neplatný typ archívu');\n\t\t\t}\n\t\t\tresolve(json);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})\n\t\t.then((json: any) =>\n\t\t\tPromise.all([\n\t\t\t\tclient.mergeContacts(json.contacts),\n\t\t\t\tclient.mergeInvoices(json.invoices)\n\t\t\t])\n\t\t)\n\t\t.then(results => {\n\t\t\tconst [contactsResult, invoicesResult] = results;\n\t\t\tdispatch({\n\t\t\t\ttype: t.ARCHIVE_IMPORT_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tcontacts: contactsResult.items,\n\t\t\t\t\tinvoices: invoicesResult.items\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn results;\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t\tdispatch({\n\t\t\t\ttype: t.ARCHIVE_IMPORT_FAILURE,\n\t\t\t\tpayload: new Error('Nastala chyba pri importe archívu!')\n\t\t\t});\n\t\t\tthrow error;\n\t\t});\n};\n\nexport const exportArchive = () => (dispatch: any) => {\n\tdispatch({ type: t.ARCHIVE_EXPORT, payload: {} });\n\treturn Promise.all([dispatch(fetchContacts()), dispatch(fetchInvoices())])\n\t\t.then(([contacts, invoices]) => {\n\t\t\tdispatch({ type: t.ARCHIVE_EXPORT_SUCCESS, payload: {} });\n\t\t\tconst blob = new Blob([JSON.stringify({ contacts, invoices })], {\n\t\t\t\ttype: 'application/json'\n\t\t\t});\n\t\t\tsaveBlob(blob, `fz_${moment().format(DATE_FORMAT)}.json`);\n\t\t})\n\t\t.catch(error => {\n\t\t\tdispatch({ type: t.ARCHIVE_EXPORT_FAILURE, payload: error });\n\t\t\tthrow error;\n\t\t});\n};\n","export const delayPromise = (ms: number) => {\n\treturn new Promise(resolve => setTimeout(resolve, ms));\n};\n\nexport const hasMethod = (obj: any, name: string) => {\n\tconst desc = Object.getOwnPropertyDescriptor(obj, name);\n\treturn !!desc && typeof desc.value === 'function';\n};\n\nexport const getInstanceMethodNames = (obj: any, stop?: any) => {\n\tlet array: any[] = [];\n\tlet proto = Object.getPrototypeOf(obj);\n\twhile (proto && proto !== stop) {\n\t\tObject.getOwnPropertyNames(proto).forEach(name => {\n\t\t\tif (name !== 'constructor') {\n\t\t\t\tif (hasMethod(proto, name)) {\n\t\t\t\t\tarray.push(name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tproto = Object.getPrototypeOf(proto);\n\t}\n\treturn array;\n};\n\nexport class DelayProxyBuilder<T> {\n\tprivate client: any;\n\tprivate delay: number = 0;\n\tprivate _skipMethods: (string | RegExp)[] = [];\n\n\tsetClient(client: any) {\n\t\tthis.client = client;\n\t\treturn this;\n\t}\n\n\tsetDelay(delayInMillis: number) {\n\t\tthis.delay = delayInMillis;\n\t\treturn this;\n\t}\n\n\tskipMethods(skipMethods: (string | RegExp)[]) {\n\t\tthis._skipMethods = skipMethods;\n\t\treturn this;\n\t}\n\n\tbuild(): T & DelayProxy<T> {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n\t\tconst proxy = new DelayProxy<T>(this.client, this.delay, this._skipMethods);\n\t\treturn (proxy as unknown) as T & DelayProxy<T>;\n\t}\n}\n\nexport class DelayProxy<T> {\n\tconstructor(\n\t\tprivate readonly client: any,\n\t\tprivate readonly delayInMillis: number = 1000,\n\t\tprivate readonly skipMethods: (string | RegExp)[] = []\n\t) {\n\t\tconst proxy = this as any;\n\t\tconst methods = getInstanceMethodNames(client, Object.prototype);\n\t\tmethods.forEach(method => {\n\t\t\tconst skip = skipMethods.some(skipMethod => {\n\t\t\t\tif (skipMethod instanceof RegExp) {\n\t\t\t\t\treturn skipMethod.test(method);\n\t\t\t\t}\n\t\t\t\treturn method === skipMethod;\n\t\t\t});\n\t\t\tif (skip) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tproxy[method] = (...args: any) => {\n\t\t\t\treturn delayPromise(delayInMillis).then(() => client[method](...args));\n\t\t\t};\n\t\t});\n\t}\n\n\tsetDelay(delayInMillis: number): T & DelayProxy<T> {\n\t\tconst { client } = this;\n\t\treturn new DelayProxyBuilder<typeof client>()\n\t\t\t.setClient(client)\n\t\t\t.setDelay(delayInMillis)\n\t\t\t.skipMethods(this.skipMethods)\n\t\t\t.build();\n\t}\n}\n","import { PaymentTypeEnum } from '../classes/Invoice';\n\nexport const mockContacts: any[] = [\n\t{\n\t\tid: '1',\n\t\tentity: 'GP Slovakia',\n\t\tname: 'Katarína Slobodová',\n\t\temail: 'invoice@gp.svk',\n\t\tphoneNr: '0970234654',\n\t\tstreet: 'Michalská 13',\n\t\tcity: 'Bratislava',\n\t\tzipCode: '81103',\n\t\tcountry: 'Slovensko',\n\t\tlegalId: '45923099',\n\t\ttaxId: '1627435979',\n\t\tiban: 'SK7548161192967983361238',\n\t\tbankAccount: '1192967983361238',\n\t\tbankName: 'Tatra Banka',\n\t\tbankCode: '1100',\n\t\tswift: 'TATRSKBX',\n\t\tisOwn: true\n\t},\n\t{\n\t\tid: '2',\n\t\tentity: 'Etrix Slovakia',\n\t\tname: 'Jozef Kováč',\n\t\temail: 'invoice@etrix.svk',\n\t\tphoneNr: '0989447329',\n\t\tstreet: 'Antona Prídavka 26',\n\t\tcity: 'Prešov',\n\t\tzipCode: '08001',\n\t\tcountry: 'Slovensko',\n\t\tlegalId: '25537359',\n\t\ttaxId: '0627536219',\n\t\ttaxLegalId: 'SK379324241',\n\t\tiban: 'SK8949968412396661421327',\n\t\tbankAccount: '8412396661421327',\n\t\tbankName: 'UniCredit Bank',\n\t\tbankCode: '1111',\n\t\tswift: 'UNCRSKBX',\n\t\tisOwn: true\n\t}\n];\n\nexport const mockInvoices: any[] = [\n\t{\n\t\tid: '2019001',\n\t\ttype: 1,\n\t\tpaymentType: PaymentTypeEnum.WireTransfer,\n\t\tdescription: 'Faktúra za služby',\n\t\temitent: mockContacts[0],\n\t\trecipient: mockContacts[1],\n\t\tdiscount: 5,\n\t\titems: [\n\t\t\t{\n\t\t\t\tname: 'Notebook HP Elite',\n\t\t\t\tpricePerUnit: 1399,\n\t\t\t\tunit: 'kus',\n\t\t\t\tamount: 1\n\t\t\t}\n\t\t],\n\t\tvariableSymbol: '2019001',\n\t\tconstantSymbol: '0308',\n\t\tissueDate: new Date(2019, 4, 1),\n\t\tdueDate: new Date(2019, 4, 15),\n\t\tpaymentDate: new Date(2019, 4, 13),\n\t\tfinalText: 'Ďakujeme za dôveru.'\n\t},\n\t{\n\t\tid: '2019002',\n\t\ttype: 2,\n\t\tpaymentType: PaymentTypeEnum.Card,\n\t\tdescription: 'Faktúra za služby',\n\t\temitent: mockContacts[1],\n\t\trecipient: mockContacts[0],\n\t\titems: [\n\t\t\t{\n\t\t\t\tname: 'Eset Smart Security',\n\t\t\t\tpricePerUnit: 66,\n\t\t\t\tunit: 'kus',\n\t\t\t\tamount: 12,\n\t\t\t\ttaxRate: 20\n\t\t\t}\n\t\t],\n\t\tvariableSymbol: '2019002',\n\t\tconstantSymbol: '0308',\n\t\tissueDate: new Date(2019, 4, 3),\n\t\tdueDate: new Date(2019, 4, 18),\n\t\tfinalText: 'Softvérová licencia je neprenosná.'\n\t}\n];\n","import { ApiClient, MergeResult } from './ApiClient';\nimport { Contact } from '../classes/Contact';\nimport { Invoice } from '../classes/Invoice';\nimport { mockInvoices, mockContacts } from './mocks';\n\ntype Document = {\n\tid?: string;\n\trevision?: number;\n\tupdatedAt?: Date;\n};\n\nconst mergeArrays = <T extends Document>(fromArray: T[], toArray: T[]): T[] => {\n\tconst conflicts: T[] = [];\n\tfromArray.forEach(doc => {\n\t\tconst docIndex = toArray.findIndex(({ id }) => doc.id === id);\n\t\tif (docIndex === -1) {\n\t\t\ttoArray.push(doc);\n\t\t\treturn false;\n\t\t}\n\t\tconst currentDoc = toArray[docIndex];\n\t\tconst currentRevision = currentDoc.revision || 0;\n\t\tconst docRevision = doc.revision || 0;\n\t\tif (currentRevision > docRevision) {\n\t\t\tconflicts.push(doc);\n\t\t\treturn false;\n\t\t}\n\t\tconst currentUpdatedAt = new Date(currentDoc.updatedAt || 0);\n\t\tconst docUpdatedAt = new Date(doc.updatedAt || 0);\n\t\tif (currentUpdatedAt > docUpdatedAt) {\n\t\t\tconflicts.push(doc);\n\t\t\treturn false;\n\t\t}\n\n\t\ttoArray[docIndex] = doc;\n\t});\n\n\treturn conflicts;\n};\n\nexport class LocalStorageClient implements ApiClient {\n\tprivate static CONTACTS_KEY = 'contacts';\n\tprivate static INVOICES_KEY = 'invoices';\n\n\tprivate static instance: LocalStorageClient;\n\n\tprivate constructor(private readonly storage: Storage = localStorage) {}\n\n\tdoLogin(email: string, password: string) {\n\t\treturn Promise.resolve(true);\n\t}\n\n\tsaveContact(contact: Contact) {\n\t\tif (!(contact && contact.id)) {\n\t\t\treturn Promise.reject(new Error('Chýba id. kontaktu!'));\n\t\t}\n\n\t\tconst contacts = this.getContactSync();\n\t\tconst contactIndex = contacts.findIndex(c => c.id === contact.id);\n\n\t\tcontact.updatedAt = new Date();\n\t\tcontact.revision =\n\t\t\tcontactIndex > -1 ? (contacts[contactIndex].revision || 0) + 1 : 1;\n\n\t\tif (contactIndex > -1) {\n\t\t\tcontacts[contactIndex] = contact;\n\t\t} else {\n\t\t\tcontacts.push(contact);\n\t\t}\n\n\t\tthis.storage.setItem(\n\t\t\tLocalStorageClient.CONTACTS_KEY,\n\t\t\tJSON.stringify(contacts)\n\t\t);\n\t\treturn Promise.resolve(contact);\n\t}\n\n\tmergeContacts(contacts: Contact[]): Promise<MergeResult<Contact>> {\n\t\tconst currentContacts = this.getContactSync();\n\t\tconst conflicts = mergeArrays(contacts, currentContacts);\n\t\tthis.storage.setItem(\n\t\t\tLocalStorageClient.CONTACTS_KEY,\n\t\t\tJSON.stringify(currentContacts)\n\t\t);\n\t\treturn Promise.resolve({ items: currentContacts, conflicts });\n\t}\n\n\tfetchContact(id: string): Promise<Contact | null> {\n\t\treturn this.fetchContacts().then(contacts => {\n\t\t\tconst contact = contacts.find(contact => contact.id === id);\n\t\t\treturn contact || null;\n\t\t});\n\t}\n\n\tfetchContacts(): Promise<Contact[]> {\n\t\treturn Promise.resolve(this.getContactSync());\n\t}\n\n\tdeleteContacts(keys: string[]): Promise<Contact[]> {\n\t\tconst contacts = this.getContactSync();\n\t\tconst filtered = contacts.filter(contact => {\n\t\t\treturn !keys.includes(contact.id as string);\n\t\t});\n\t\tthis.storage.setItem(\n\t\t\tLocalStorageClient.CONTACTS_KEY,\n\t\t\tJSON.stringify(filtered)\n\t\t);\n\t\treturn Promise.resolve(Object.values(filtered));\n\t}\n\n\tsaveInvoice(invoice: Invoice) {\n\t\tif (!(invoice && invoice.id)) {\n\t\t\treturn Promise.reject(new Error('Chýba id. faktúry!'));\n\t\t}\n\n\t\tconst invoices = this.getInvoiceSync();\n\t\tconst invoiceIndex = invoices.findIndex(c => c.id === invoice.id);\n\n\t\tinvoice.updatedAt = new Date();\n\t\tinvoice.revision =\n\t\t\tinvoiceIndex > -1 ? (invoices[invoiceIndex].revision || 0) + 1 : 1;\n\n\t\tif (invoiceIndex > -1) {\n\t\t\tinvoices[invoiceIndex] = invoice;\n\t\t} else {\n\t\t\tinvoices.push(invoice);\n\t\t}\n\n\t\tthis.storage.setItem(\n\t\t\tLocalStorageClient.INVOICES_KEY,\n\t\t\tJSON.stringify(invoices)\n\t\t);\n\t\treturn Promise.resolve(invoice);\n\t}\n\n\tmergeInvoices(invoices: Invoice[]): Promise<MergeResult<Invoice>> {\n\t\tconst currentInvoices = this.getInvoiceSync();\n\t\tconst conflicts = mergeArrays(invoices, currentInvoices);\n\t\tthis.storage.setItem(\n\t\t\tLocalStorageClient.INVOICES_KEY,\n\t\t\tJSON.stringify(currentInvoices)\n\t\t);\n\t\treturn Promise.resolve({ items: currentInvoices, conflicts });\n\t}\n\n\tfetchInvoice(id: string) {\n\t\treturn this.fetchInvoices().then(invoices => {\n\t\t\tconst invoice = invoices.find(invoice => invoice.id === id);\n\t\t\treturn invoice || null;\n\t\t});\n\t}\n\n\tfetchInvoices(): Promise<Invoice[]> {\n\t\treturn Promise.resolve(this.getInvoiceSync());\n\t}\n\n\tdeleteInvoices(keys: string[]): Promise<Invoice[]> {\n\t\tconst invoices = this.getInvoiceSync();\n\t\tconst filtered = invoices.filter(contact => {\n\t\t\treturn !keys.includes(contact.id as string);\n\t\t});\n\t\tthis.storage.setItem(\n\t\t\tLocalStorageClient.INVOICES_KEY,\n\t\t\tJSON.stringify(filtered)\n\t\t);\n\t\treturn Promise.resolve(Object.values(filtered));\n\t}\n\n\tgetInvoiceSync(): Invoice[] {\n\t\tconst invoices = this.storage.getItem(LocalStorageClient.INVOICES_KEY);\n\t\tif (!invoices) {\n\t\t\treturn [];\n\t\t}\n\t\treturn JSON.parse(invoices);\n\t}\n\n\tgetContactSync(): Contact[] {\n\t\tconst contacts = this.storage.getItem(LocalStorageClient.CONTACTS_KEY);\n\t\tif (!contacts) {\n\t\t\treturn [];\n\t\t}\n\t\treturn JSON.parse(contacts);\n\t}\n\n\tstatic getInstance() {\n\t\tif (!this.instance) {\n\t\t\tconst { CONTACTS_KEY, INVOICES_KEY } = this;\n\t\t\tif (!localStorage.getItem(CONTACTS_KEY)) {\n\t\t\t\tlocalStorage.setItem(CONTACTS_KEY, JSON.stringify(mockContacts));\n\t\t\t}\n\t\t\tif (!localStorage.getItem(INVOICES_KEY)) {\n\t\t\t\tlocalStorage.setItem(INVOICES_KEY, JSON.stringify(mockInvoices));\n\t\t\t}\n\t\t\tthis.instance = new LocalStorageClient(localStorage);\n\t\t}\n\t\treturn this.instance;\n\t}\n}\n","import { Contact } from './Contact';\nimport { InvoiceItem } from './InvoiceItem';\n\nconst DAY_IN_MILLIS = 24 * 3600 * 1000;\n\nexport enum PaymentTypeEnum {\n\tWireTransfer = 1,\n\tCard,\n\tCash,\n\tCashOnDelivery\n}\n\nexport enum InvoiceType {\n\tNonTax = 1,\n\tTaxable\n}\n\nexport class Invoice {\n\tid?: string;\n\ttype: InvoiceType = InvoiceType.NonTax;\n\tdescription?: string;\n\tpaymentType: PaymentTypeEnum = PaymentTypeEnum.WireTransfer;\n\trecipient: Contact | undefined;\n\temitent: Contact | undefined;\n\titems: InvoiceItem[] = [];\n\tdiscount: number = 0;\n\tvariableSymbol: string = '';\n\tconstantSymbol: string = '0308';\n\torderNr?: string;\n\tissueDate: Date;\n\tdueDate: Date;\n\tdeliveryDate?: Date;\n\tpaymentDate?: Date;\n\tfinalText?: string;\n\trevision?: number;\n\tupdatedAt?: Date;\n\n\tconstructor(invoice?: Partial<Invoice>) {\n\t\tconst now = Date.now();\n\n\t\tObject.assign(this, invoice);\n\n\t\t// @ts-ignore: this.prop is really assigned before being used\n\t\tthis.issueDate = new Date(this.issueDate || now);\n\t\t// @ts-ignore: this.prop is really assigned before being used\n\t\tthis.dueDate = new Date(this.dueDate || now + 15 * DAY_IN_MILLIS);\n\t\tthis.paymentDate = this.paymentDate\n\t\t\t? new Date(this.paymentDate)\n\t\t\t: undefined;\n\t\tthis.deliveryDate = this.deliveryDate\n\t\t\t? new Date(this.deliveryDate)\n\t\t\t: undefined;\n\n\t\tthis.items =\n\t\t\tinvoice && invoice.items\n\t\t\t\t? invoice.items.map(item => new InvoiceItem(item))\n\t\t\t\t: [];\n\t}\n\n\tget grossPrice(): number {\n\t\tif (this.type === InvoiceType.NonTax) {\n\t\t\treturn this.items.reduce((price, item) => {\n\t\t\t\treturn (price += item.netPrice);\n\t\t\t}, 0);\n\t\t}\n\t\tif (this.type === InvoiceType.Taxable) {\n\t\t\tconst taxGroups = this.items.reduce<{ [taxRate: string]: number }>(\n\t\t\t\t(taxGroups, item) => {\n\t\t\t\t\tconst { taxRate, netPrice } = item;\n\t\t\t\t\ttaxGroups[taxRate] = (taxGroups[taxRate] || 0) + netPrice;\n\t\t\t\t\treturn taxGroups;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t\treturn Object.entries(taxGroups).reduce(\n\t\t\t\t(grossPrice, [taxRate, netPrice]) => {\n\t\t\t\t\tconst tax = (netPrice / 100) * Number(taxRate);\n\t\t\t\t\tgrossPrice += netPrice + tax;\n\t\t\t\t\treturn grossPrice;\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\t\t}\n\t\treturn Number.NaN;\n\t}\n\n\tget discountPrice(): number {\n\t\treturn -(this.grossPrice / 100) * this.discount;\n\t}\n\n\tget netPrice(): number {\n\t\tconst { grossPrice, discountPrice } = this;\n\t\treturn grossPrice + discountPrice;\n\t}\n}\n","import StringMask from 'string-mask';\nimport { isValidIBANNumber } from './iban';\n\nconst locale = 'sk-SK';\n\nexport const currencyFormat = new Intl.NumberFormat(locale, {\n\tstyle: 'currency',\n\tcurrency: 'EUR'\n});\nexport const dateFormat = Intl.DateTimeFormat(locale);\n\nexport const formatIBAN = (value: string): string => {\n\tif (isValidIBANNumber(value) === 1) {\n\t\tconst mask = new StringMask('UUAA AAAA AAAA AAAA AAAA AAAA');\n\t\tconst { result, valid } = mask.process(value);\n\t\treturn valid ? result : value;\n\t}\n\treturn value;\n};\n\nexport const formatZipCode = (value: string): string => {\n\tif (typeof value !== 'string') {\n\t\treturn value;\n\t}\n\tconst alphaNumValue = value.toUpperCase().replace(/[^A-Z0-9]/g, '');\n\tif (alphaNumValue.length !== 5) {\n\t\treturn value;\n\t}\n\tconst mask = new StringMask('000 00');\n\tconst { result, valid } = mask.process(alphaNumValue);\n\treturn valid ? result : value;\n};\n","import { ApiClient } from './ApiClient';\nimport { LocalStorageClient } from './LocalStorageClient';\nimport { DelayProxyBuilder } from './DelayProxy';\n\nconst client = new DelayProxyBuilder<ApiClient>()\n\t.setClient(LocalStorageClient.getInstance())\n\t.setDelay(500)\n\t.skipMethods([/.*Sync/])\n\t.build();\n\nexport default client;\nexport * from './ApiClient';\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Table, message } from 'antd';\nimport { MessageType } from 'antd/lib/message';\nimport { ColumnProps } from 'antd/lib/table/interface';\nimport { History } from 'history';\nimport { Invoice } from '../../classes/Invoice';\nimport { dateFormat, currencyFormat } from '../../utils/formatters';\nimport { InvoiceUIState } from '../../reducers/invoiceUI';\nimport './style.css';\n\nexport interface InvoiceListProps {\n\tinvoices: Invoice[];\n\thistory: History;\n\tonDelete: Function;\n\tonCreate: Function;\n\tui: InvoiceUIState;\n}\n\nexport class InvoiceList extends Component<InvoiceListProps> {\n\tprivate hideSavingProgressMessage: MessageType | null = null;\n\n\tstate = {\n\t\tselectedRowKeys: [] // Check here to configure the default column\n\t};\n\n\tcomponentWillUpdate(nextProps: InvoiceListProps) {\n\t\tconst { isSaving: wasSaving } = this.props.ui;\n\t\tconst { isSaving } = nextProps.ui;\n\t\tif (!isSaving && wasSaving) {\n\t\t\tthis.hideMessage();\n\t\t\tmessage.success('Zmeny boli uložené', 1);\n\t\t\tthis.setState({ selectedRowKeys: [] });\n\t\t} else if (isSaving) {\n\t\t\tthis.hideMessage();\n\t\t\tthis.hideSavingProgressMessage = message.loading(\n\t\t\t\t'Prebieha ukladanie...',\n\t\t\t\t0\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.hideMessage();\n\t}\n\n\thideMessage() {\n\t\tif (this.hideSavingProgressMessage) {\n\t\t\tthis.hideSavingProgressMessage(); // hide message\n\t\t}\n\t\tthis.hideSavingProgressMessage = null;\n\t}\n\n\tonSelectChange = (selectedRowKeys: any) => {\n\t\tthis.setState({ selectedRowKeys });\n\t};\n\n\thandleDelete = () => {\n\t\tconst { selectedRowKeys } = this.state;\n\t\tthis.props.onDelete(selectedRowKeys);\n\t};\n\n\thandleCreateNewInvoice = () => {\n\t\tthis.props.onCreate(this.props.history);\n\t};\n\n\trender() {\n\t\tconst { invoices, ui } = this.props;\n\t\tconst { selectedRowKeys } = this.state;\n\t\tconst rowSelection = {\n\t\t\tselectedRowKeys,\n\t\t\tonChange: this.onSelectChange\n\t\t};\n\t\tconst hasSelected = selectedRowKeys.length > 0;\n\n\t\treturn (\n\t\t\t<div className=\"fz-list-page\">\n\t\t\t\t<div className=\"fz-btn-group\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\ticon=\"form\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tonClick={this.handleCreateNewInvoice}\n\t\t\t\t\t>\n\t\t\t\t\t\tVystaviť\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tdisabled={!hasSelected}\n\t\t\t\t\t\tonClick={this.handleDelete}\n\t\t\t\t\t>\n\t\t\t\t\t\tVymazať\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"fz-table-wrapper\">\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName=\"fz-table fz-invoice-table\"\n\t\t\t\t\t\trowKey=\"id\"\n\t\t\t\t\t\tdataSource={invoices}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\trowSelection={rowSelection}\n\t\t\t\t\t\tloading={ui.isFetching}\n\t\t\t\t\t\t// scroll={{ x: 'max-content' }}\n\t\t\t\t\t\t// onRow={(record, rowIndex) => {\n\t\t\t\t\t\t// \treturn {\n\t\t\t\t\t\t// \t\tonClick: () => history.push(`/invoices/${record.id}`)\n\t\t\t\t\t\t// \t};\n\t\t\t\t\t\t// }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst columns: ColumnProps<any>[] = [\n\t{\n\t\ttitle: 'Id. dokladu',\n\t\tdataIndex: 'id',\n\t\tkey: 'id',\n\t\trender: function invoiceLink(text: any) {\n\t\t\treturn <Link to={`/invoices/${text}`}>{text}</Link>;\n\t\t}\n\t},\n\t{\n\t\ttitle: 'Popis',\n\t\tclassName: 'fz-invoice-table__item fz-invoice-table__item--wide',\n\t\tdataIndex: 'description',\n\t\tkey: 'description'\n\t},\n\t{\n\t\ttitle: 'Odberateľ',\n\t\tclassName: 'fz-invoice-table__item fz-invoice-table__item--wide',\n\t\tdataIndex: 'recipient.entity',\n\t\tkey: 'recipient'\n\t},\n\t{\n\t\ttitle: 'Suma',\n\t\tdataIndex: 'netPrice',\n\t\tkey: 'netPrice',\n\t\trender: (text: any) => currencyFormat.format(text)\n\t},\n\t{\n\t\ttitle: 'Dátum vystavenia',\n\t\tdataIndex: 'issueDate',\n\t\tkey: 'issueDate',\n\t\trender: (text: any) => dateFormat.format(new Date(text))\n\t},\n\t{\n\t\ttitle: 'Splatnosť',\n\t\tdataIndex: 'dueDate',\n\t\tkey: 'dueDate',\n\t\trender: (text: any) => dateFormat.format(new Date(text))\n\t}\n];\n","import { History } from 'history';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { VisibilityFilters, createInvoice, deleteInvoices } from '../actions';\nimport { InvoiceList } from '../components/InvoiceList';\nimport { Invoice } from '../classes/Invoice';\n\nconst getVisibleInvoices = (invoices: any, filter: any) => {\n\tswitch (filter) {\n\t\tcase VisibilityFilters.SHOW_ALL:\n\t\t\treturn invoices;\n\t\tcase VisibilityFilters.SHOW_COMPLETED:\n\t\t\treturn invoices.filter((i: any) => i.completed);\n\t\tcase VisibilityFilters.SHOW_ACTIVE:\n\t\t\treturn invoices.filter((i: any) => !i.completed);\n\t\tdefault:\n\t\t\treturn invoices;\n\t}\n};\n\nconst mapStateToProps = (state: any) => {\n\tconst invoices: Invoice[] = getVisibleInvoices(\n\t\tstate.invoices,\n\t\tstate.visibilityFilter\n\t);\n\treturn {\n\t\tinvoices: invoices\n\t\t\t.map(invoice => new Invoice(invoice))\n\t\t\t.sort((a, b) => b.issueDate.getTime() - a.issueDate.getTime()),\n\t\tui: state.ui\n\t};\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n\treturn {\n\t\tonCreate: (routerHistory: History) => {\n\t\t\tdispatch(createInvoice(routerHistory));\n\t\t},\n\t\tonDelete: (keys: string[]) => {\n\t\t\tdispatch(deleteInvoices(keys));\n\t\t}\n\t};\n};\n\nexport const VisibleInvoiceList = withRouter(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(InvoiceList) as any);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { History } from 'history';\nimport { Table, Button, message } from 'antd';\nimport { ColumnProps } from 'antd/lib/table';\nimport { MessageType } from 'antd/lib/message';\nimport { Contact } from '../../classes/Contact';\nimport { ContactUIState } from '../../reducers/contactUI';\n\nexport interface ContactListProps {\n\tcontacts: Contact[];\n\thistory: History;\n\tonCreate: Function;\n\tonDelete: Function;\n\tui: ContactUIState;\n}\n\nexport class ContactList extends Component<ContactListProps> {\n\tprivate hideSavingProgressMessage: MessageType | null = null;\n\n\tstate = {\n\t\tselectedRowKeys: [] // Check here to configure the default column\n\t};\n\n\tcomponentWillUpdate(nextProps: ContactListProps) {\n\t\tconst { isSaving: wasSaving } = this.props.ui;\n\t\tconst { isSaving } = nextProps.ui;\n\t\tif (!isSaving && wasSaving) {\n\t\t\tthis.hideMessage();\n\t\t\tmessage.success('Zmeny boli uložené', 1);\n\t\t\tthis.setState({ selectedRowKeys: [] });\n\t\t} else if (isSaving) {\n\t\t\tthis.hideMessage();\n\t\t\tthis.hideSavingProgressMessage = message.loading(\n\t\t\t\t'Prebieha ukladanie...',\n\t\t\t\t0\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.hideMessage();\n\t}\n\n\thideMessage() {\n\t\tif (this.hideSavingProgressMessage) {\n\t\t\tthis.hideSavingProgressMessage(); // hide message\n\t\t}\n\t\tthis.hideSavingProgressMessage = null;\n\t}\n\n\tonSelectChange = (selectedRowKeys: any) => {\n\t\tthis.setState({ selectedRowKeys });\n\t};\n\n\tonCreate = () => {\n\t\tthis.props.onCreate(this.props.history);\n\t};\n\n\tonDelete = () => {\n\t\tconst { selectedRowKeys } = this.state;\n\t\tthis.props.onDelete(selectedRowKeys);\n\t};\n\n\trender() {\n\t\tconst { contacts, ui } = this.props;\n\t\tconst { selectedRowKeys } = this.state;\n\t\tconst rowSelection = {\n\t\t\tselectedRowKeys,\n\t\t\tonChange: this.onSelectChange\n\t\t};\n\t\tconst hasSelected = selectedRowKeys.length > 0;\n\n\t\treturn (\n\t\t\t<div className=\"fz-list-page\">\n\t\t\t\t<div className=\"fz-btn-group\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\ticon=\"form\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tonClick={this.onCreate}\n\t\t\t\t\t>\n\t\t\t\t\t\tPridať\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon=\"delete\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tdisabled={!hasSelected}\n\t\t\t\t\t\tonClick={this.onDelete}\n\t\t\t\t\t>\n\t\t\t\t\t\tVymazať\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"fz-table-wrapper\">\n\t\t\t\t\t<Table\n\t\t\t\t\t\trowKey=\"id\"\n\t\t\t\t\t\tclassName=\"fz-table fz-contact-table\"\n\t\t\t\t\t\tdataSource={contacts}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\trowSelection={rowSelection}\n\t\t\t\t\t\tloading={ui.isFetching}\n\t\t\t\t\t\t// scroll={{ x: 'max-content' }}\n\t\t\t\t\t\t// onRow={(record, rowIndex) => {\n\t\t\t\t\t\t// \treturn {\n\t\t\t\t\t\t// \t\tonClick: () => history.push(`/contacts/${record.key}`)\n\t\t\t\t\t\t// \t};\n\t\t\t\t\t\t// }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst columns: ColumnProps<Contact>[] = [\n\t{\n\t\ttitle: 'Názov',\n\t\tdataIndex: 'entity',\n\t\tkey: 'entity',\n\t\trender: function contactLink(text: any, entity: Contact) {\n\t\t\treturn <Link to={`/contacts/${entity.id}`}>{text}</Link>;\n\t\t}\n\t},\n\t{\n\t\ttitle: 'Meno',\n\t\tdataIndex: 'name',\n\t\tkey: 'name'\n\t},\n\t{\n\t\ttitle: 'E-mail',\n\t\tdataIndex: 'email',\n\t\tkey: 'email'\n\t},\n\t{\n\t\ttitle: 'Telefón',\n\t\tdataIndex: 'phoneNr',\n\t\tkey: 'phoneNr'\n\t}\n];\n","import { History } from 'history';\nimport { connect } from 'react-redux';\nimport { VisibilityFilters, createContact, deleteContacts } from '../actions';\nimport { ContactList } from '../components/ContactList';\n\nconst getVisibleContacts = (contacts: any, filter: any) => {\n\tswitch (filter) {\n\t\tcase VisibilityFilters.SHOW_ALL:\n\t\t\treturn contacts;\n\t\tcase VisibilityFilters.SHOW_COMPLETED:\n\t\t\treturn contacts.filter((c: any) => c.completed);\n\t\tcase VisibilityFilters.SHOW_ACTIVE:\n\t\t\treturn contacts.filter((c: any) => !c.completed);\n\t\tdefault:\n\t\t\treturn contacts;\n\t}\n};\n\nconst mapStateToProps = (state: any) => {\n\tconst contacts = getVisibleContacts(state.contacts, state.visibilityFilter);\n\treturn {\n\t\tcontacts: [...contacts],\n\t\tui: state.ui\n\t};\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n\treturn {\n\t\tonCreate: (routerHistory: History) => {\n\t\t\tdispatch(createContact(routerHistory));\n\t\t},\n\t\tonDelete: (keys: string[]) => {\n\t\t\tdispatch(deleteContacts(keys));\n\t\t}\n\t};\n};\n\nexport const VisibleContactList = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ContactList);\n","import React, { Component } from 'react';\n\nexport class TextField extends Component<any> {\n\trender() {\n\t\treturn <span>{this.props.value}</span>;\n\t}\n}\n","import React, { FunctionComponent } from 'react';\nimport classNames from 'classnames';\nimport { Form, Row, Col, Input, InputNumber, Button, Icon } from 'antd';\nimport { TextField } from './TextField';\nimport { InvoiceType } from '../../classes/Invoice';\nimport { InvoiceItem } from '../../classes/InvoiceItem';\nimport { currencyFormat } from '../../utils/formatters';\n\nexport interface InvoiceItemsProps {\n\titems: InvoiceItem[];\n\ttype: InvoiceType;\n\tgetFieldDecorator: any;\n\tonItemRemove: (k: number) => void;\n\tonItemAdd: () => void;\n}\n\nconst FormItem = ({ children, ...props }: any) => {\n\treturn (\n\t\t<Form.Item\n\t\t\t{...props}\n\t\t\tclassName={classNames(\n\t\t\t\t'fz-invoice-items__row__cell__item',\n\t\t\t\tprops.className\n\t\t\t)}\n\t\t\tlabelCol={{\n\t\t\t\txs: 24,\n\t\t\t\tsm: 8,\n\t\t\t\tprefixCls: 'fz-invoice-items__label'\n\t\t\t}}\n\t\t\twrapperCol={{\n\t\t\t\txs: 24,\n\t\t\t\tsm: 16,\n\t\t\t\tprefixCls: 'fz-invoice-items__wrapper'\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</Form.Item>\n\t);\n};\n\nexport const InvoiceItems: FunctionComponent<InvoiceItemsProps> = props => {\n\tconst { type, items, onItemAdd, onItemRemove, getFieldDecorator } = props;\n\n\tlet index = 0;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"fz-invoice-row\">\n\t\t\t\t<h4 className=\"fz-invoice-header\">Položky faktúry</h4>\n\t\t\t</div>\n\t\t\t<div className=\"fz-invoice-items\">\n\t\t\t\t{items.map((item, k: number) => {\n\t\t\t\t\tconst { netPrice = 0, taxPrice = 0, grossPrice = 0 } = items[k] || {};\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={k}\n\t\t\t\t\t\t\tclassName={`fz-invoice-items__row${\n\t\t\t\t\t\t\t\tindex++ === 0 ? ' fz-invoice-items__row--header' : ''\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--delete\">\n\t\t\t\t\t\t\t\t<FormItem label=\"&nbsp;\" colon={false}>\n\t\t\t\t\t\t\t\t\t{Object.keys(items).length > 1 ? (\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fz-dynamic-delete-button\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"minus-circle-o\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onItemRemove(k)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell-group fz-invoice-items__row__cell-group__name\">\n\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--name\">\n\t\t\t\t\t\t\t\t\t<FormItem label=\"Položka\">\n\t\t\t\t\t\t\t\t\t\t{getFieldDecorator(`itemsNames[${k}]`, {\n\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger: ['onChange', 'onBlur'],\n\t\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte názov položky!'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell-group\">\n\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--narrow\">\n\t\t\t\t\t\t\t\t\t<FormItem label=\"Jednotka\">\n\t\t\t\t\t\t\t\t\t\t{getFieldDecorator(`units[${k}]`, {\n\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger: ['onChange', 'onBlur'],\n\t\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte jednotku!'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--narrow\">\n\t\t\t\t\t\t\t\t\t<FormItem label=\"Množstvo\">\n\t\t\t\t\t\t\t\t\t\t{getFieldDecorator(`amounts[${k}]`, {\n\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger: ['onChange'],\n\t\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte množstvo!'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 'auto' }}\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\t\t\tdecimalSeparator=\",\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--price\">\n\t\t\t\t\t\t\t\t\t<FormItem label=\"Cena za m.j.\">\n\t\t\t\t\t\t\t\t\t\t{getFieldDecorator(`pricesPU[${k}]`, {\n\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger: ['onChange'],\n\t\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte cenu!'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 'auto' }}\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\t\t\tdecimalSeparator=\",\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{type === InvoiceType.Taxable ? (\n\t\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--narrow\">\n\t\t\t\t\t\t\t\t\t\t<FormItem label=\"DPH %\">\n\t\t\t\t\t\t\t\t\t\t\t{getFieldDecorator(`taxRates[${k}]`, {\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateTrigger: ['onChange'],\n\t\t\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte DPH!'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 'auto' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalSeparator=\",\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell-group fz-invoice-items__row__cell-group__sums\">\n\t\t\t\t\t\t\t\t{type === InvoiceType.Taxable ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum\">\n\t\t\t\t\t\t\t\t\t\t\t<FormItem label=\"bez DPH\">\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField value={currencyFormat.format(netPrice)} />\n\t\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum\">\n\t\t\t\t\t\t\t\t\t\t\t<FormItem label=\"DPH\">\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField value={currencyFormat.format(taxPrice)} />\n\t\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum\">\n\t\t\t\t\t\t\t\t\t\t\t<FormItem label=\"s DPH\">\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField value={currencyFormat.format(grossPrice)} />\n\t\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"fz-invoice-items__row__cell fz-invoice-items__row__cell--sum\">\n\t\t\t\t\t\t\t\t\t\t<FormItem label=\"Suma\">\n\t\t\t\t\t\t\t\t\t\t\t<TextField value={currencyFormat.format(netPrice)} />\n\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={16} offset={1}>\n\t\t\t\t\t\t<Form.Item {...formItemLayoutWithOutLabel}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"dashed\"\n\t\t\t\t\t\t\t\tonClick={onItemAdd}\n\t\t\t\t\t\t\t\tstyle={{ width: '60%' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon type=\"plus\" /> Pridaj položku\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst formItemLayoutWithOutLabel = {\n\twrapperCol: {\n\t\txs: { span: 24, offset: 0 },\n\t\tsm: { span: 20, offset: 0 }\n\t}\n};\n","import React from 'react';\nimport { Form, Row, Col, InputNumber } from 'antd';\nimport { TextField } from './TextField';\nimport { currencyFormat } from '../../utils/formatters';\n\nexport interface DiscountProps {\n\tnetPrice: number;\n\tgrossPrice: number;\n\tdiscountPrice: number;\n\tgetFieldDecorator: any;\n}\n\nexport const Discount = (props: DiscountProps) => {\n\tconst { netPrice, grossPrice, discountPrice, getFieldDecorator } = props;\n\n\treturn (\n\t\t<div className=\"fz-invoice-sums\">\n\t\t\t<Row className=\"fz-invoice-row fz-invoice-row--sum\">\n\t\t\t\t<Col span={8}>\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"Pred zľavou\">\n\t\t\t\t\t\t<TextField value={currencyFormat.format(grossPrice)} />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"fz-invoice-row fz-invoice-row--sum\">\n\t\t\t\t<Col span={4}>\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tlabel={<span>Zľava</span>}\n\t\t\t\t\t\twrapperCol={{ span: 6 }}\n\t\t\t\t\t\tlabelCol={{ span: 6 }}\n\t\t\t\t\t\t// style={{\n\t\t\t\t\t\t// \tdisplay: 'flex',\n\t\t\t\t\t\t// \tjustifyContent: 'flex-end',\n\t\t\t\t\t\t// }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{getFieldDecorator('discount', {\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\tmessage: 'Chýba údaj o zľave!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(<InputNumber min={0} max={100} />)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t\t<Col span={4}>\n\t\t\t\t\t<Form.Item colon={false} label=\"\">\n\t\t\t\t\t\t<TextField value={currencyFormat.format(discountPrice)} />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"fz-invoice-row fz-invoice-row--sum\">\n\t\t\t\t<Col span={8} offset={0} className=\"fz-invoice-sum\">\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"Konečná suma:\">\n\t\t\t\t\t\t<TextField value={currencyFormat.format(netPrice)} />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t);\n};\n\nconst formItemLayout = {\n\tlabelCol: {\n\t\txs: { span: 12, offset: 0 },\n\t\tsm: { span: 12, offset: 0 },\n\t\tlg: { span: 12, offset: 0 }\n\t},\n\twrapperCol: {\n\t\txs: { span: 12, offset: 0 },\n\t\tsm: { span: 12, offset: 0 },\n\t\tlg: { span: 12, offset: 0 }\n\t}\n};\n","import React, { Component } from 'react';\nimport {\n\tForm,\n\tRow,\n\tCol,\n\tSelect,\n\tInput,\n\tDivider,\n\tDatePicker,\n\tButton,\n\tIcon\n} from 'antd';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\nimport { InvoiceItems } from './InvoiceItems';\nimport { Discount } from './Discount';\nimport { PaymentTypeEnum } from '../../classes/Invoice';\nimport { InvoiceItem } from '../../classes/InvoiceItem';\nimport { Contact } from '../../classes/Contact';\n\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nconst dateFormat = 'DD.MM.YYYY';\n\nexport interface InvoiceFormProps extends FormComponentProps {\n\tfields: any;\n\titems: InvoiceItem[];\n\tnetPrice: number;\n\tgrossPrice: number;\n\tdiscountPrice: number;\n\tcontacts: Contact[];\n\tconstantSymbols: [string, string][];\n\tisSaving: boolean;\n\tonItemRemove: (k: number) => void;\n\tonItemAdd: () => void;\n\tonEntityCreate: (isOwn: boolean) => void;\n\tonFieldsChange: (changedFields: any, props: InvoiceFormProps) => void;\n\tonValuesChange?: (values: any) => void;\n\tonSubmit: (e: React.FormEvent, form: WrappedFormUtils) => void;\n\tonPdfClick: () => void;\n}\n\nconst formLayout = {\n\tlabelCol: {\n\t\txs: { span: 24 },\n\t\tsm: { span: 8 },\n\t\tlg: { span: 8 }\n\t},\n\twrapperCol: {\n\t\txs: { span: 24 },\n\t\tsm: { span: 16 },\n\t\tlg: { span: 16 }\n\t}\n};\n\nconst columnLayout = {\n\txs: 24,\n\tsm: 16,\n\tlg: 12\n};\n\nclass InvoiceForm extends Component<InvoiceFormProps> {\n\thandleSubmit = (e: React.FormEvent) => {\n\t\tthis.props.onSubmit(e, this.props.form);\n\t};\n\n\thandleEntityCreate = (e: React.SyntheticEvent) => {\n\t\te.preventDefault();\n\t\tlet isOwn = false;\n\t\tif (e.target instanceof HTMLElement) {\n\t\t\tconst { type } = e.target.dataset;\n\t\t\tif (type === 'emitent') isOwn = true;\n\t\t}\n\t\tthis.props.onEntityCreate(isOwn);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\titems,\n\t\t\tnetPrice,\n\t\t\tgrossPrice,\n\t\t\tdiscountPrice,\n\t\t\tcontacts,\n\t\t\tconstantSymbols,\n\t\t\tisSaving,\n\t\t\tonItemAdd,\n\t\t\tonItemRemove,\n\t\t\tonPdfClick\n\t\t} = this.props;\n\t\tconst { getFieldDecorator, getFieldValue } = this.props.form;\n\n\t\treturn (\n\t\t\t<Form\n\t\t\t\t{...formLayout}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tclassName=\"fz-invoice-form\"\n\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t>\n\t\t\t\t{getFieldDecorator('id', {})(<Input type=\"hidden\" />)}\n\t\t\t\t{getFieldDecorator('type', {})(<Input type=\"hidden\" />)}\n\n\t\t\t\t<Row className=\"fz-invoice-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item label=\"Odberateľ\">\n\t\t\t\t\t\t\t{getFieldDecorator('recipient', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyberte odberateľa!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t<Select>\n\t\t\t\t\t\t\t\t\t{contacts.map(contact => (\n\t\t\t\t\t\t\t\t\t\t<Option key={`rcpt_${contact.id}`} value={contact.id}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.entity}\n\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tdata-type=\"recipient\"\n\t\t\t\t\t\t\tstyle={{ lineHeight: '40px' }}\n\t\t\t\t\t\t\tonClick={this.handleEntityCreate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type=\"plus\" />\n\t\t\t\t\t\t\t&nbsp;Nový odberateľ\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Divider />\n\n\t\t\t\t<Row className=\"fz-invoice-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item label=\"Dodávateľ\">\n\t\t\t\t\t\t\t{getFieldDecorator('emitent', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyberte dodávateľa!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t<Select>\n\t\t\t\t\t\t\t\t\t{contacts.reduce(\n\t\t\t\t\t\t\t\t\t\t(options, contact) => {\n\t\t\t\t\t\t\t\t\t\t\tif (contact.isOwn) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst option = (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={`emt_${contact.id}`} value={contact.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{contact.entity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\toptions.push(option);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn options;\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t[] as any\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tdata-type=\"emitent\"\n\t\t\t\t\t\t\tstyle={{ lineHeight: '40px', paddingLeft: 12 }}\n\t\t\t\t\t\t\tonClick={this.handleEntityCreate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon type=\"plus\" />\n\t\t\t\t\t\t\t&nbsp;Nový dodávateľ\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Divider />\n\n\t\t\t\t<Row className=\"fz-invoice-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item label=\"Spôsob úhrady\">\n\t\t\t\t\t\t\t{getFieldDecorator('paymentType', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Chýbajúci spôsob úhrady!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t<Select>\n\t\t\t\t\t\t\t\t\t<Option value={PaymentTypeEnum.WireTransfer}>Prevodom</Option>\n\t\t\t\t\t\t\t\t\t<Option value={PaymentTypeEnum.Card}>Kartou</Option>\n\t\t\t\t\t\t\t\t\t<Option value={PaymentTypeEnum.Cash}>V hotovosti</Option>\n\t\t\t\t\t\t\t\t\t<Option value={PaymentTypeEnum.CashOnDelivery}>\n\t\t\t\t\t\t\t\t\t\tDobierka\n\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Dátum vystavenia\">\n\t\t\t\t\t\t\t{getFieldDecorator('issueDate', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte dátum vystavenia!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<DatePicker format={dateFormat} />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Dátum splatnosti\">\n\t\t\t\t\t\t\t{getFieldDecorator('dueDate', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Chýbajúci dátum splatnosti!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<DatePicker format={dateFormat} />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Dátum dodania\">\n\t\t\t\t\t\t\t{getFieldDecorator('deliveryDate', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte dátum dodania!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<DatePicker format={dateFormat} />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item label=\"Variabilný symbol\">\n\t\t\t\t\t\t\t{getFieldDecorator('variableSymbol', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte variabilný symbol!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Konštantný symbol\">\n\t\t\t\t\t\t\t{getFieldDecorator('constantSymbol', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte konštantný symbol!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t<Select>\n\t\t\t\t\t\t\t\t\t{constantSymbols.map(([symbol, desc]) => (\n\t\t\t\t\t\t\t\t\t\t<Option key={symbol} value={symbol}>\n\t\t\t\t\t\t\t\t\t\t\t{symbol} - {desc}\n\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Číslo objednávky\">\n\t\t\t\t\t\t\t{getFieldDecorator('orderNr', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte číslo objednávky!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"fz-invoice-row\">\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Form.Item label=\"Popis\">\n\t\t\t\t\t\t\t{getFieldDecorator('description', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Vyplňte popis!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input placeholder=\"Popis objednávky\" />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Divider />\n\t\t\t\t<InvoiceItems\n\t\t\t\t\titems={items}\n\t\t\t\t\ttype={getFieldValue('type')}\n\t\t\t\t\tgetFieldDecorator={getFieldDecorator}\n\t\t\t\t\tonItemAdd={onItemAdd}\n\t\t\t\t\tonItemRemove={onItemRemove}\n\t\t\t\t/>\n\n\t\t\t\t<Discount\n\t\t\t\t\tnetPrice={netPrice}\n\t\t\t\t\tgrossPrice={grossPrice}\n\t\t\t\t\tdiscountPrice={discountPrice}\n\t\t\t\t\tgetFieldDecorator={getFieldDecorator}\n\t\t\t\t/>\n\n\t\t\t\t<Row className=\"fz-invoice-row\" type=\"flex\" justify=\"start\">\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Form.Item label=\"Text na konci faktúry\">\n\t\t\t\t\t\t\t{getFieldDecorator('finalText', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Chýba text!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\t\tautosize={{\n\t\t\t\t\t\t\t\t\t\tminRows: 4,\n\t\t\t\t\t\t\t\t\t\tmaxRows: 4\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Row className=\"fz-invoice-row\">\n\t\t\t\t\t<Col span={24} style={{ textAlign: 'right', margin: 15 }}>\n\t\t\t\t\t\t<div className=\"fz-btn-group\">\n\t\t\t\t\t\t\t<Button icon=\"file-pdf\" size=\"large\" onClick={onPdfClick}>\n\t\t\t\t\t\t\t\tPDF\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\ticon=\"save\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\tloading={isSaving}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUložiť\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Form>\n\t\t);\n\t}\n}\n\nexport const EnhancedInvoiceForm = Form.create({\n\tname: 'invoice',\n\tonFieldsChange(props: InvoiceFormProps, changedFields, allFields: any) {\n\t\tprops.onFieldsChange(changedFields, allFields);\n\t},\n\tmapPropsToFields(props: InvoiceFormProps) {\n\t\tconst { fields } = props;\n\n\t\tif (Object.keys(fields).length === 0) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn {\n\t\t\tid: Form.createFormField(fields.id),\n\t\t\ttype: Form.createFormField(fields.type),\n\t\t\trecipient: Form.createFormField(fields.recipient),\n\t\t\temitent: Form.createFormField(fields.emitent),\n\t\t\tpaymentType: Form.createFormField(fields.paymentType),\n\t\t\tdueDate: Form.createFormField(fields.dueDate),\n\t\t\tissueDate: Form.createFormField(fields.issueDate),\n\t\t\tdeliveryDate: Form.createFormField(fields.deliveryDate),\n\t\t\tpaymentDate: Form.createFormField(fields.paymentDate),\n\t\t\tisPayed: Form.createFormField({\n\t\t\t\tvalue: !!fields.paymentDate.value\n\t\t\t}),\n\t\t\tvariableSymbol: Form.createFormField(fields.variableSymbol),\n\t\t\tconstantSymbol: Form.createFormField(fields.constantSymbol),\n\t\t\torderNr: Form.createFormField(fields.orderNr),\n\t\t\tdescription: Form.createFormField(fields.description),\n\t\t\tfinalText: Form.createFormField(fields.finalText),\n\t\t\titemsNames:\n\t\t\t\tfields.itemsNames &&\n\t\t\t\tfields.itemsNames.map((field: any) => Form.createFormField(field)),\n\t\t\tpricesPU:\n\t\t\t\tfields.pricesPU &&\n\t\t\t\tfields.pricesPU.map((field: any) => Form.createFormField(field)),\n\t\t\tunits:\n\t\t\t\tfields.units &&\n\t\t\t\tfields.units.map((field: any) => Form.createFormField(field)),\n\t\t\tamounts:\n\t\t\t\tfields.amounts &&\n\t\t\t\tfields.amounts.map((field: any) => Form.createFormField(field)),\n\t\t\ttaxRates:\n\t\t\t\tfields.taxRates &&\n\t\t\t\tfields.taxRates.map((field: any) => Form.createFormField(field)),\n\t\t\tgrossPrices:\n\t\t\t\tfields.grossPrices &&\n\t\t\t\tfields.grossPrices.map((field: any) => Form.createFormField(field)),\n\t\t\ttaxPrices:\n\t\t\t\tfields.taxPrices &&\n\t\t\t\tfields.taxPrices.map((field: any) => Form.createFormField(field)),\n\t\t\tnetPrices:\n\t\t\t\tfields.netPrices &&\n\t\t\t\tfields.netPrices.map((field: any) => Form.createFormField(field)),\n\t\t\tdiscount: Form.createFormField(fields.discount),\n\t\t\tgrossPrice: Form.createFormField(fields.grossPrice),\n\t\t\tdiscountPrice: Form.createFormField(fields.discountPrice),\n\t\t\tnetPrice: Form.createFormField(fields.netPrice)\n\t\t};\n\t},\n\tonValuesChange(props: InvoiceFormProps, values) {\n\t\tprops.onValuesChange && props.onValuesChange(values);\n\t}\n})(InvoiceForm);\n","import React, { Component } from 'react';\nimport { Form, Input } from 'antd';\nimport { FormComponentProps } from 'antd/lib/form/Form';\nimport { debounce } from '../../utils/debounce';\n\nexport interface InvoiceIdFormProps extends FormComponentProps {\n\tinvoiceId?: string;\n\tonInvoiceCheckExists: (value: any) => Promise<boolean>;\n}\n\nclass InvoiceIdForm extends Component<InvoiceIdFormProps> {\n\tconstructor(props: InvoiceIdFormProps) {\n\t\tsuper(props);\n\t\tthis.assertUniqueId = debounce(this.assertUniqueId, 250, false);\n\t}\n\n\tassertUniqueId = (rule: any, value: any, callback: any) => {\n\t\tif (!value) {\n\t\t\treturn callback();\n\t\t}\n\t\tthis.props.onInvoiceCheckExists(value).then(doesExists => {\n\t\t\tcallback(doesExists ? true : undefined);\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\tconst { invoiceId } = this.props;\n\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Item hasFeedback label=\"Nový identifikátor\">\n\t\t\t\t\t{getFieldDecorator('invoiceId', {\n\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tmessage: 'Vyplňte id dokladu!'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalidator: this.assertUniqueId,\n\t\t\t\t\t\t\t\tmessage: 'Id dokladu už bolo použité!'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tinitialValue: invoiceId\n\t\t\t\t\t})(<Input />)}\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t);\n\t}\n}\n\nexport const EnhancedInvoiceIdForm = Form.create<InvoiceIdFormProps>({\n\tname: 'change_invoice_id'\n})(InvoiceIdForm);\n","// https://davidwalsh.name/javascript-debounce-function\n//\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nexport function debounce(func: Function, wait: number, immediate: boolean) {\n\tlet timeout: any;\n\treturn function(this: any) {\n\t\tlet context: any = this,\n\t\t\targs = arguments;\n\t\tlet later = function() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) func.apply(context, args);\n\t\t};\n\t\tlet callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) func.apply(context, args);\n\t};\n}\n","import React from 'react';\nimport { Spin } from 'antd';\n\nexport const Spinner = () => (\n\t<div>\n\t\t<Spin size=\"large\" />\n\t\t<br />\n\t</div>\n);\n","// use local storage for messaging. Set message in local storage and clear it right away\n// This is a safe way how to communicate with other tabs while not leaving any traces\n//\nexport function messageBroadcast(message) {\n\tlocalStorage.setItem('message', JSON.stringify(message));\n\tlocalStorage.removeItem('message');\n}\n\n// receive message\n//\nexport function messageReceive(ev) {\n\tif (ev.originalEvent.key != 'message') return; // ignore other keys\n\tvar message = JSON.parse(ev.originalEvent.newValue);\n\tif (!message) return; // ignore empty msg or msg reset\n\n\t// here you act on messages.\n\t// you can send objects like { 'command': 'doit', 'data': 'abcd' }\n\tif (message.command == 'doit') alert(message.data);\n\n\t// etc.\n}\n","/**\n * @type [string, string][]\n */\nconst constantSymbols = [\n\t['0008', 'Platby za tovar (okrem platieb pod symbolmi 010x)'],\n\t['0028', 'Platby za dodávky investičnej povahy'],\n\t['0038', 'Prostriedky na mzdy'],\n\t['0058', 'Penále, poplatky z omeškania, iné majetkové sankcie, náhrady škôd'],\n\t['0068', 'Prevody prostriedkov na mzdy a ostatné osobné náklady'],\n\t['0078', 'Tržby za predaný tovar a poskytnuté stravovanie'],\n\t['0108', 'Platby za poľnohospodárske výrobky'],\n\t['0138', 'Zrážky z miezd'],\n\t['0158', 'Hospodársko operatívne výdavky'],\n\t['0168', 'Splátky úverov a pôžičiek'],\n\t['0178', 'Tržby za poskytnuté služby'],\n\t['0308', 'Platby za služby'],\n\t['0358', 'Platby určené na výplaty v hotovosti prostredníctvom pôšt'],\n\t['0558', 'Finančné platby ostatné'],\n\t['0858', 'Prechodne poskytnuté pôžičky'],\n\t['0938', 'Dávky sociálneho zabezpečenia'],\n\t['0968', 'Ostatné prevody medzi účtami toho istého klienta'],\n\t['1018', 'Príjmy z podnikania a vlastníctva majetku - vo vzťahu k ŠR'],\n\t['1118', 'Administratívne a iné poplatky a platby - vo vzťahu k ŠR'],\n\t['1144', 'Bežná záloha dane'],\n\t['1144', 'Platba bežná, preddavok na daň'],\n\t['1148', 'Bežná záloha dane'],\n\t[\n\t\t'1318',\n\t\t'Príjmy zo splác. pôžič. poskytnutých zo ŠR a z predaja účas. majetku štátu'\n\t],\n\t['1344', 'Doúčtovanie daní za predchádzajúce zdaňovacie obdobie'],\n\t['1348', 'Doúčtovanie daní za predchádzajúce zdaňovacie obdobie'],\n\t['1548', 'Dodatočné daňové priznanie'],\n\t['1744', 'Vyúčtovanie dane za posledné zdaňovacie obdobie DPFO a DPPO'],\n\t['1748', 'Vyúčtovanie dane za posledné zdaňovacie obdobie (DPFO, DPPO)'],\n\t[\n\t\t'1944',\n\t\t'Zúčtovanie rozdielov preddavkov dane z príjmu zo závislej činnosti, dane vyberanej zrážkou a zabezpečení dane'\n\t],\n\t[\n\t\t'1948',\n\t\t'Zúčt. rozdielov predd. na daň z príjmov zo záv. činnosti, zrážky daní'\n\t],\n\t['2018', 'Ostatné príjmy vo vzťahu k ŠR'],\n\t['2058', 'Nákup cenných papierov (akcie, dlhopisy, zmenky)'],\n\t['2144', 'Dodatočne vyrubená daň'],\n\t['2148', 'Dodatočne vyrubená daň'],\n\t['2558', 'Úhrady poistných plnení poisťovňami'],\n\t['2848', 'Pauš. daň podľa §15Z.č. 366/1999 Z.z. o dan. z príjmov'],\n\t['3058', 'Predaj cenných papierov'],\n\t['3118', 'Poistné a príspevok zamestnávateľa do poisťovní a NÚP'],\n\t['3148', 'Penále z kontroly'],\n\t['3344', 'Sankčný úrok, penále'],\n\t['3348', 'Penále zo správy'],\n\t['3548', 'Penále vyrubené daňovými organmi z kontroly'],\n\t['3558', 'Platby poistného poisťovniam'],\n\t['3718', 'Nájomné za prenájom - vo vzťahu k ŠR'],\n\t['3748', 'Penále vyrubené daňovými orgánmi zo správy'],\n\t['4058', 'Vyplácanie výnosov z cenn. papierov, splatnosť menovitej hodnoty'],\n\t['4948', 'Vrátenie dane - nepriame dane'],\n\t['5058', 'Ostatné obchody s cennými papiermi'],\n\t[\n\t\t'5118',\n\t\t'Splácanie úrokov a ostatné platby súvisiace s úvermi - vo vzťahu k ŠR'\n\t],\n\t['5144', 'Zvýšenie dane'],\n\t['5148', 'Zvýšenie dane'],\n\t['5344', 'Nadmerný odpočet'],\n\t['5348', 'Nárok na odpočet dane'],\n\t['5748', 'Dodatočné daňové priznanie'],\n\t[\n\t\t'5918',\n\t\t'Splácanie dom. istiny, splác. výnosy z cenných papierov - vo vzťahu k ŠR'\n\t],\n\t['5944', 'Zvýšenie dane - daňová inšpekcia'],\n\t['5948', 'Zvýšenie dane - daňová inšpekcia'],\n\t['6144', 'Dodatočná platba z daňovej inšpekcie'],\n\t['6148', 'Dodatočná platba z daňovej inšpekcie'],\n\t['6344', 'Pokuta z kontroly'],\n\t['6348', 'Pokuta z kontroly'],\n\t['6544', 'Pokuta zo správy'],\n\t['6548', 'Pokuta zo správy'],\n\t['6744', 'Pokuty vyrubené daňovou inšpekciou'],\n\t['6748', 'Pokuty vyrubené daňovou inšpekciou'],\n\t[\n\t\t'6948',\n\t\t'Pokuty vyrubené daňovým orgánom, kt. nie sú príjmom osobného účtu ŠR'\n\t],\n\t['7144', 'Sankčný úrok z daňovej inšpekcie'],\n\t['7148', 'Penále z daňovej inšpekcie'],\n\t['7344', 'Úrok pri odklade platenia'],\n\t['7348', 'Úrok pri odklade platenia'],\n\t['7544', 'Exekučné náklady'],\n\t['7548', 'Exekučné náklady'],\n\t['7748', 'Úrok platený daňovému subjektu za oneskorenie vrátenia preplatku'],\n\t['7944', 'Blokové pokuty vyrubené daňovým úradom'],\n\t['7948', 'Blokové pokuty vyrubené daňovým úradom'],\n\t['8144', 'Platba (účtovaná súčasne s predpisom)'],\n\t['8148', 'Platba (účtovaná súčasne s predpisom)'],\n\t['8748', 'Platba na vyrovnanie preplatku']\n];\n\nexport default constantSymbols;\n","import React, { Component } from 'react';\nimport { History } from 'history';\nimport { PageHeader, Icon, BackTop, Modal, message } from 'antd';\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\nimport LoadingOverlay from 'react-loading-overlay';\nimport { EnhancedInvoiceForm as InvoiceForm } from './InvoiceForm';\nimport { EnhancedInvoiceIdForm } from './InvoiceIdForm';\nimport { Spinner } from '../Spinner';\nimport { Contact } from '../../classes/Contact';\nimport { Invoice } from '../../classes/Invoice';\nimport { InvoiceMapper } from '../../classes/InvoiceMapper';\nimport { InvoiceItem } from '../../classes/InvoiceItem';\nimport { InvoiceUIState } from '../../reducers/invoiceUI';\nimport { messageBroadcast } from '../../utils/broadcast';\nimport constantSymbols from './constantSymbols';\nimport './style.css';\n\nexport interface EditInvoiceProps extends InvoiceUIState {\n\tinvoiceId: string;\n\tfields: any;\n\titems: InvoiceItem[];\n\tnetPrice: number;\n\tgrossPrice: number;\n\tdiscountPrice: number;\n\tisFetching: boolean;\n\tisSaving: boolean;\n\thistory: History;\n\tlocation: any;\n\tcontacts: Contact[];\n\tfetchForm: (id: string) => void;\n\tonSave: (values: any, itemKeys: number[]) => Promise<Invoice>;\n\tonFieldsChange: (changedFields: any, allFields: any) => void;\n\tonInvoiceChangeId: (\n\t\tnewId: string,\n\t\tvalues: any,\n\t\titemKeys: number[],\n\t\trouterHistory: History\n\t) => void;\n\tonInvoiceCheckExists: (id: string) => Promise<boolean>;\n\tonItemAdd: (invoiceId: string) => void;\n\tonItemRemove: (invoiceId: string, k: number) => void;\n\tonEntityCreate: (\n\t\tvalues: any,\n\t\titemKeys: number[],\n\t\tisOwn: boolean,\n\t\trouterHistory: History\n\t) => void;\n}\n\nexport interface EditInvoiceState {\n\tisChangeIdModalVisible: boolean;\n}\n\nexport class EditInvoice extends Component<EditInvoiceProps, any> {\n\tprivate formRef: any;\n\tprivate changeIdFormRef: any;\n\n\tstate: EditInvoiceState = {\n\t\tisChangeIdModalVisible: false\n\t};\n\n\tcomponentWillMount() {\n\t\tthis.props.fetchForm(this.props.invoiceId);\n\t}\n\n\tcomponentWillReceiveProps(nextProps: EditInvoiceProps) {\n\t\tif (nextProps.invoiceId !== this.props.invoiceId) {\n\t\t\tthis.props.fetchForm(nextProps.invoiceId);\n\t\t}\n\t}\n\n\thandleSubmit = (e: React.FormEvent, form: WrappedFormUtils) => {\n\t\te.preventDefault();\n\t\tconst values = form.getFieldsValue();\n\t\tconst hide = message.loading('Ukladám faktúru...', 0);\n\t\tthis.props\n\t\t\t.onSave(values, this.props.itemKeys)\n\t\t\t.then(hide)\n\t\t\t.catch(error => {\n\t\t\t\thide();\n\t\t\t\tmessage.error(error.message);\n\t\t\t});\n\t};\n\n\thandleItemAdd = () => {\n\t\tthis.props.onItemAdd(this.props.invoiceId);\n\t};\n\n\thandleItemRemove = (k: number) => {\n\t\tthis.props.onItemRemove(this.props.invoiceId, k);\n\t};\n\n\thandleFieldsChange = (changedFields: any, allFields: any) => {\n\t\tthis.props.onFieldsChange(changedFields, allFields);\n\t};\n\n\thandleEntityCreate = (isOwn: boolean) => {\n\t\tconst values = this.formRef.props.form.getFieldsValue();\n\t\tthis.props.onEntityCreate(\n\t\t\tvalues,\n\t\t\tthis.props.itemKeys,\n\t\t\tisOwn,\n\t\t\tthis.props.history\n\t\t);\n\t};\n\n\tshowChangeIdModal = () => {\n\t\tthis.setState({\n\t\t\tisChangeIdModalVisible: true\n\t\t});\n\t};\n\n\thandleChangeId = () => {\n\t\tconst { props } = this.changeIdFormRef;\n\t\tprops.form.validateFields((err: Error, values: any) => {\n\t\t\tif (!err) {\n\t\t\t\tconst { itemKeys, history } = this.props;\n\t\t\t\tconst invoiceValues = this.formRef.props.form.getFieldsValue();\n\t\t\t\tthis.props.onInvoiceChangeId(\n\t\t\t\t\tvalues.invoiceId,\n\t\t\t\t\tinvoiceValues,\n\t\t\t\t\titemKeys,\n\t\t\t\t\thistory\n\t\t\t\t);\n\t\t\t\tthis.setState({\n\t\t\t\t\tisChangeIdModalVisible: false\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\thandleCancelChangeId = () => {\n\t\tconst { props } = this.changeIdFormRef;\n\t\tprops.form.setFieldsValue({ invoiceId: this.props.invoiceId });\n\t\tthis.setState({\n\t\t\tisChangeIdModalVisible: false\n\t\t});\n\t};\n\n\thandleCheckInvoiceExists = (value: any) => {\n\t\treturn this.props.onInvoiceCheckExists(value);\n\t};\n\n\thandleBackButton = () => {\n\t\tthis.props.history.goBack();\n\t};\n\n\tmakePdf = () => {\n\t\tconst { props } = this.formRef;\n\t\tprops.form.validateFieldsAndScroll((err: Error, values: any) => {\n\t\t\tif (!err) {\n\t\t\t\tconst hideSaveMsg = message.loading('Ukladám faktúru...', 0);\n\t\t\t\tconst { itemKeys } = this.props;\n\t\t\t\tthis.props.onSave(values, itemKeys).then(\n\t\t\t\t\tinvoice => {\n\t\t\t\t\t\thideSaveMsg();\n\t\t\t\t\t\tconst hideLoadMsg = message.loading('Generujem pdf...', 0);\n\t\t\t\t\t\tconst mapper = new InvoiceMapper();\n\t\t\t\t\t\tconst invoiceData = mapper.toPlainObject(invoice);\n\n\t\t\t\t\t\t// Check for IE 9-11 only\n\t\t\t\t\t\t// documentMode is an IE-only property\n\t\t\t\t\t\tconst msie = (document as any).documentMode;\n\t\t\t\t\t\tif (msie) {\n\t\t\t\t\t\t\t// Workaround: for IEs we have to generate pdf in iframe,\n\t\t\t\t\t\t\t// because pdfmaker doesn't work with polyfills\n\t\t\t\t\t\t\tif (document.getElementById('pdfmaker')) {\n\t\t\t\t\t\t\t\tmessageBroadcast({\n\t\t\t\t\t\t\t\t\tcommand: 'makeInvoicePdf',\n\t\t\t\t\t\t\t\t\tdata: invoiceData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\thideLoadMsg();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst ifrm = document.createElement('iframe');\n\t\t\t\t\t\t\t\tifrm.setAttribute('id', 'pdfmaker');\n\t\t\t\t\t\t\t\tifrm.src = `${window.location.origin}/pdf.html`;\n\t\t\t\t\t\t\t\t// ifrm.src = 'http://localhost:5000/pdf.html';\n\t\t\t\t\t\t\t\tifrm.onload = function() {\n\t\t\t\t\t\t\t\t\tmessageBroadcast({\n\t\t\t\t\t\t\t\t\t\tcommand: 'makeInvoicePdf',\n\t\t\t\t\t\t\t\t\t\tdata: invoiceData\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\thideLoadMsg();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tdocument.body.appendChild(ifrm);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timport('../../utils/PdfMaker')\n\t\t\t\t\t\t\t\t.then(({ PdfMaker }) => {\n\t\t\t\t\t\t\t\t\thideLoadMsg();\n\t\t\t\t\t\t\t\t\tconst pdfMaker = new PdfMaker();\n\t\t\t\t\t\t\t\t\treturn pdfMaker.makeInvoicePdf(invoiceData);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\t\thideLoadMsg();\n\t\t\t\t\t\t\t\t\tmessage.error(`Načítanie knižnice zlyhalo: ${error.message}`);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\thideSaveMsg();\n\t\t\t\t\t\tmessage.error(error.message);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tinvoiceId,\n\t\t\tfields,\n\t\t\titems,\n\t\t\tnetPrice,\n\t\t\tgrossPrice,\n\t\t\tdiscountPrice,\n\t\t\tcontacts,\n\t\t\tisFetching,\n\t\t\tisSaving\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Zmena identifikátora faktúry\"\n\t\t\t\t\tvisible={this.state.isChangeIdModalVisible}\n\t\t\t\t\tonOk={this.handleChangeId}\n\t\t\t\t\tonCancel={this.handleCancelChangeId}\n\t\t\t\t>\n\t\t\t\t\t<EnhancedInvoiceIdForm\n\t\t\t\t\t\twrappedComponentRef={(inst: any) => {\n\t\t\t\t\t\t\tthis.changeIdFormRef = inst;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tinvoiceId={invoiceId}\n\t\t\t\t\t\tonInvoiceCheckExists={this.handleCheckInvoiceExists}\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t\t<LoadingOverlay\n\t\t\t\t\tclassNamePrefix=\"fz-loading-overlay_\"\n\t\t\t\t\tactive={isFetching}\n\t\t\t\t\tspinner={<Spinner />}\n\t\t\t\t\ttext=\"Nahrávam faktúru...\"\n\t\t\t\t\tstyles={{\n\t\t\t\t\t\t// wrapper: {},\n\t\t\t\t\t\toverlay: {},\n\t\t\t\t\t\tcontent: {},\n\t\t\t\t\t\tspinner: {}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\tonBack={this.handleBackButton}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<span>Faktúra&nbsp;{invoiceId}&nbsp;&nbsp;</span>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype=\"edit\"\n\t\t\t\t\t\t\t\t\tstyle={{ color: '#40a9ff' }}\n\t\t\t\t\t\t\t\t\tonClick={this.showChangeIdModal}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsubTitle=\"\"\n\t\t\t\t\t/>\n\t\t\t\t\t<InvoiceForm\n\t\t\t\t\t\twrappedComponentRef={(inst: any) => {\n\t\t\t\t\t\t\tthis.formRef = inst;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tnetPrice={netPrice}\n\t\t\t\t\t\tgrossPrice={grossPrice}\n\t\t\t\t\t\tdiscountPrice={discountPrice}\n\t\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\t\tconstantSymbols={constantSymbols}\n\t\t\t\t\t\tisSaving={isSaving}\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\tonPdfClick={this.makePdf}\n\t\t\t\t\t\tonItemAdd={this.handleItemAdd}\n\t\t\t\t\t\tonItemRemove={this.handleItemRemove}\n\t\t\t\t\t\tonEntityCreate={this.handleEntityCreate}\n\t\t\t\t\t\tonFieldsChange={this.handleFieldsChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<BackTop className=\"fz-back-top\">\n\t\t\t\t\t\t<div className=\"fz-back-top-inner\">\n\t\t\t\t\t\t\t<Icon type=\"up\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</BackTop>\n\t\t\t\t\t{/* <pre className=\"language-bash\">{JSON.stringify(fields, null, 2)}</pre> */}\n\t\t\t\t</LoadingOverlay>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { History } from 'history';\nimport { withRouter } from 'react-router-dom';\nimport { AnyAction } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { connect } from 'react-redux';\nimport {\n\taddItem,\n\tremoveItem,\n\tfetchInvoiceForm,\n\tsaveInvoice,\n\tcreateEntity,\n\tchangeInvoiceId,\n\tupdateInvoiceForm,\n\tcheckInvoiceExists\n} from '../actions';\nimport { EditInvoice as EditInvoiceComp } from '../components/EditInvoice';\nimport { AppState } from '../reducers';\nimport { InvoiceMapper } from '../classes/InvoiceMapper';\n\nexport const selectInvoice = (state: AppState, ownProps: any) => {\n\tconst { params } = ownProps.match;\n\tconst { invoices } = state;\n\treturn invoices.find(invoice => invoice.id === params.id);\n};\n\nexport const selectInvoiceForm = (state: AppState, ownProps: any) => {\n\tconst { invoiceUI } = state;\n\tconst { fields, itemKeys } = invoiceUI;\n\tconst { id } = ownProps.match.params;\n\n\tif (fields.id && fields.id.value === id) {\n\t\treturn { fields, itemKeys };\n\t}\n\treturn { fields: {}, itemKeys: [] };\n};\n\nconst mapStateToProps = (state: AppState, ownProps: any) => {\n\tconst { match } = ownProps;\n\tconst { id } = match.params;\n\tconst form: any = selectInvoiceForm(state, ownProps);\n\tconst invoice = new InvoiceMapper().fromFields(form.fields, form.itemKeys);\n\n\treturn {\n\t\t...state.invoiceUI,\n\t\t...form,\n\t\tinvoiceId: id,\n\t\titems: invoice.items,\n\t\tnetPrice: invoice.netPrice,\n\t\tgrossPrice: invoice.grossPrice,\n\t\tdiscountPrice: invoice.discountPrice,\n\t\tcontacts: state.contacts\n\t};\n};\n\nconst mapDispatchToProps = (\n\tdispatch: ThunkDispatch<AppState, null, AnyAction>\n) => ({\n\tfetchForm: (id: string) => dispatch(fetchInvoiceForm(id)),\n\tonFieldsChange: (changedFields: any, allFields: any) =>\n\t\tdispatch(updateInvoiceForm(changedFields, allFields)),\n\tonItemAdd: (invoiceId: string) => dispatch(addItem(invoiceId)),\n\tonItemRemove: (invoiceId: string, k: number) =>\n\t\tdispatch(removeItem(invoiceId, k)),\n\tonSave: (values: any, itemKeys: number[]) =>\n\t\tdispatch(saveInvoice(values, itemKeys)),\n\tonInvoiceChangeId: (\n\t\tnewId: string,\n\t\tvalues: any,\n\t\titemKeys: number[],\n\t\trouterHistory: History\n\t) => dispatch(changeInvoiceId(newId, values, itemKeys, routerHistory)),\n\tonInvoiceCheckExists: (id: string) => dispatch(checkInvoiceExists(id)),\n\tonEntityCreate: (\n\t\tvalues: any,\n\t\titemKeys: number[],\n\t\tisOwn: boolean,\n\t\trouterHistory: History\n\t) => dispatch(createEntity(values, itemKeys, isOwn, routerHistory))\n});\n\n// export type EditInvoiceProps = ReturnType<typeof mapStateToProps> &\n// \tReturnType<typeof mapDispatchToProps> & {};\n\nexport const EditInvoice = withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(EditInvoiceComp)\n);\n","import React, { Component } from 'react';\nimport { Form, Row, Col, Input, Checkbox, Icon } from 'antd';\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\n\nconst columnLayout = {\n\txs: 24,\n\tsm: 16,\n\tlg: 12\n};\n\nexport interface CompanyProps extends WrappedFormUtils {\n\tfieldPrefix?: string;\n\tisOwn: boolean;\n}\n\nexport class Company extends Component<CompanyProps> {\n\trender() {\n\t\tconst { getFieldDecorator, fieldPrefix = '', isOwn } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Row className=\"fz-contact-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item label=\"Firma\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}entity`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte názov firmy!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Ulica\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}street`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte ulicu!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"PSČ\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}zipCode`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte PSČ!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Mesto\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}city`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte mesto!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"Krajina\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}country`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte krajinu!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item label=\"IČO\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}legalId`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte IČO!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"DIČ\">\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}taxId`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte DIČ!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tlabel=\"IČ DPH\"\n\t\t\t\t\t\t\textra={\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Icon type=\"info-circle\" style={{ color: '#40a9ff' }} />\n\t\t\t\t\t\t\t\t\t&nbsp;Ak vyplníte IČ DPH formulár faktúry sa automaticky\n\t\t\t\t\t\t\t\t\tprepne do režimu DPH.\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}taxLegalId`, {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte IČ DPH!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"fz-contact-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tlabel=\"Moja firma\"\n\t\t\t\t\t\t\textra={\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Icon type=\"info-circle\" style={{ color: '#40a9ff' }} />\n\t\t\t\t\t\t\t\t\t&nbsp;Zaškrtnite, ak chcete vystavovať faktúry na túto firmu.\n\t\t\t\t\t\t\t\t\t&nbsp;Bankové spojenie je povinné.\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{getFieldDecorator('isOwn', {\n\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\tmessage: 'Chýbajúci údaj!'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tvaluePropName: 'checked'\n\t\t\t\t\t\t\t})(<Checkbox disabled={isOwn} />)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { Form, Row, Col, Input, Select } from 'antd';\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\nimport { isValidIBANNumber } from '../../utils/iban';\n\nconst columnLayout = {\n\txs: 24,\n\tsm: 16,\n\tlg: 12\n};\n\nexport interface BankProps extends WrappedFormUtils {\n\tisRequired: boolean;\n\tbankList: [string, string, string][];\n\tfieldPrefix?: string;\n}\n\nexport class Bank extends Component<BankProps> {\n\t// componentDidMount() {\n\t// \tthis.props.validateFields();\n\t// }\n\n\tvalidateIBAN = () => {\n\t\tconst { getFieldsValue, fieldPrefix = '' } = this.props;\n\t\tconst values = getFieldsValue();\n\t\tconst iban = values[`${fieldPrefix}iban`];\n\n\t\tif (!iban) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst result = isValidIBANNumber(iban);\n\t\tif (result === false) {\n\t\t\treturn 'Pravdepodobne nesprávny IBAN.';\n\t\t}\n\t\tif (result !== 1) {\n\t\t\treturn 'Chyba kontrolného súčtu. Pravdepodobne nesprávny IBAN.';\n\t\t}\n\n\t\tconst swift = values[`${fieldPrefix}swift`];\n\t\tconst bankCode = values[`${fieldPrefix}bankCode`];\n\t\tconst bankAccount = values[`${fieldPrefix}bankAccount`];\n\n\t\tif (swift) {\n\t\t\tif (iban.substring(0, 2) != swift.substring(4, 6)) {\n\t\t\t\treturn 'Kód krajiny (SWIFT) sa nezhoduje.';\n\t\t\t}\n\t\t}\n\t\tif (bankCode) {\n\t\t\tif (iban.substring(4, 4 + bankCode.length) != bankCode) {\n\t\t\t\treturn 'Kód banky sa nezhoduje.';\n\t\t\t}\n\t\t}\n\t\tif (bankAccount) {\n\t\t\tif (!iban.endsWith(bankAccount.toUpperCase().replace(/[^A-Z0-9]/g, ''))) {\n\t\t\t\treturn 'Číslo účtu sa nezhoduje.';\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tisRequired,\n\t\t\tbankList,\n\t\t\tfieldPrefix = '',\n\t\t\tgetFieldDecorator\n\t\t} = this.props;\n\n\t\tlet ibanHelp = this.validateIBAN();\n\n\t\treturn (\n\t\t\t<Row className=\"fz-contact-row\">\n\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t<Form.Item label=\"Zoznam bánk\">\n\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}bankIndex`, {\n\t\t\t\t\t\t\tpreserve: true\n\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t<Select>\n\t\t\t\t\t\t\t\t{bankList.map(([name, code], index) => (\n\t\t\t\t\t\t\t\t\t<Select.Option key={code} value={index}>\n\t\t\t\t\t\t\t\t\t\t{code} - {name}\n\t\t\t\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item label=\"Názov banky\">\n\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}bankName`, {\n\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: isRequired,\n\t\t\t\t\t\t\t\t\tmessage: 'Uveďte názov banky!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item label=\"Kód banky\">\n\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}bankCode`, {\n\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: isRequired,\n\t\t\t\t\t\t\t\t\tmessage: 'Uveďte kód banky!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item label=\"SWIFT\">\n\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}swift`, {\n\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: isRequired,\n\t\t\t\t\t\t\t\t\tmessage: 'Uveďte SWIFT!'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmin: 8,\n\t\t\t\t\t\t\t\t\tmessage: 'Minimálne 8 znakov!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\tlabel=\"IBAN\"\n\t\t\t\t\t\thelp={ibanHelp}\n\t\t\t\t\t\tvalidateStatus={ibanHelp ? 'warning' : ''}\n\t\t\t\t\t>\n\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}iban`, {\n\t\t\t\t\t\t\tvalidateTrigger: 'onBlur',\n\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: isRequired,\n\t\t\t\t\t\t\t\t\tmessage: 'Uveďte IBAN!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item label=\"Číslo účtu\">\n\t\t\t\t\t\t{getFieldDecorator(`${fieldPrefix}bankAccount`, {\n\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: isRequired,\n\t\t\t\t\t\t\t\t\tmessage: 'Uveďte číslo účtu!'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { Form, Row, Col, Button, Input, Icon } from 'antd';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\nimport { Company } from './Company';\nimport { Bank } from './Bank';\n\nexport interface ContactFormProps extends FormComponentProps {\n\tfields: any;\n\tbankList: [string, string, string][];\n\tisOwn: boolean;\n\tisBankRequired: boolean;\n\tisBankExpanded: boolean;\n\tisContactExpanded: boolean;\n\tisSaving: boolean;\n\tonFieldsChange: (changedFields: any, props: ContactFormProps) => void;\n\tonValuesChange?: (values: any) => void;\n\tonSubmit: (e: React.FormEvent, form: WrappedFormUtils) => void;\n\tonToggleBankSection: () => void;\n\tonToggleContactSection: () => void;\n}\n\nconst formLayout = {\n\tlabelCol: {\n\t\txs: { span: 24 },\n\t\tsm: { span: 8 },\n\t\tlg: { span: 8 }\n\t},\n\twrapperCol: {\n\t\txs: { span: 24 },\n\t\tsm: { span: 16 },\n\t\tlg: { span: 16 }\n\t}\n};\n\nconst columnLayout = {\n\txs: 24,\n\tsm: 16,\n\tlg: 12\n};\n\nclass ContactForm extends Component<ContactFormProps> {\n\thandleSubmit = (e: React.FormEvent) => {\n\t\tthis.props.onSubmit(e, this.props.form);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tform,\n\t\t\tisOwn,\n\t\t\tisBankRequired,\n\t\t\tisBankExpanded,\n\t\t\tisContactExpanded,\n\t\t\tisSaving,\n\t\t\tbankList,\n\t\t\tonToggleBankSection,\n\t\t\tonToggleContactSection\n\t\t} = this.props;\n\t\tconst { getFieldDecorator } = form;\n\n\t\treturn (\n\t\t\t<Form\n\t\t\t\t{...formLayout}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tclassName=\"fz-contact-form\"\n\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t>\n\t\t\t\t{getFieldDecorator('id', {})(<Input type=\"hidden\" />)}\n\n\t\t\t\t<Company {...form} isOwn={isOwn} />\n\n\t\t\t\t<Row className=\"fz-contact-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"fz-contact-row-expander\"\n\t\t\t\t\t\t\tonClick={onToggleBankSection}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBankové spojenie <Icon type={isBankExpanded ? 'up' : 'down'} />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={`fz-contact-row-collapsible fz-contact-row--${\n\t\t\t\t\t\tisOwn || isBankExpanded ? 'expanded' : 'collapsed'\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<h4 className=\"fz-contact-header fz-contact-header--expanded\">\n\t\t\t\t\t\tBankové spojenie\n\t\t\t\t\t</h4>\n\t\t\t\t\t<Bank {...form} isRequired={isBankRequired} bankList={bankList} />\n\t\t\t\t</div>\n\n\t\t\t\t<Row className=\"fz-contact-row\">\n\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"fz-contact-row-expander\"\n\t\t\t\t\t\t\tonClick={onToggleContactSection}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tKontaktná osoba <Icon type={isContactExpanded ? 'up' : 'down'} />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={`fz-contact-row-collapsible fz-contact-row--${\n\t\t\t\t\t\tisContactExpanded ? 'expanded' : 'collapsed'\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<h4 className=\"fz-contact-header fz-contact-header--expanded\">\n\t\t\t\t\t\tKontaktná osoba\n\t\t\t\t\t</h4>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<div className=\"fz-contact-row fz-contact-row\">\n\t\t\t\t\t\t\t<Col {...columnLayout}>\n\t\t\t\t\t\t\t\t<Form.Item label=\"Meno\">\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('name', {\n\t\t\t\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte meno!'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item label=\"Email\">\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('email', {\n\t\t\t\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'email',\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Zadaný text nie je platný email!'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t<Form.Item label=\"Tel. číslo\">\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('phoneNr', {\n\t\t\t\t\t\t\t\t\t\tpreserve: true,\n\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trequired: false,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Uveďte tel. číslo!'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t})(<Input />)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\n\t\t\t\t<Row className=\"fz-contact-row\">\n\t\t\t\t\t<Col span={24} style={{ textAlign: 'right', margin: 15 }}>\n\t\t\t\t\t\t<div className=\"fz-btn-group\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\ticon=\"save\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\tloading={isSaving}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUložiť\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Form>\n\t\t);\n\t}\n}\n\nexport const EnhancedContactForm = Form.create({\n\tname: 'contact',\n\tonFieldsChange(props: ContactFormProps, changedFields, allFields: any) {\n\t\tprops.onFieldsChange(changedFields, allFields);\n\t},\n\tmapPropsToFields(props: ContactFormProps) {\n\t\tconst { fields, bankList, isOwn } = props;\n\n\t\tif (Object.keys(fields).length === 0) {\n\t\t\treturn {\n\t\t\t\tisOwn: Form.createFormField({ value: isOwn })\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tid: Form.createFormField(fields.id),\n\t\t\tentity: Form.createFormField(fields.entity),\n\t\t\tstreet: Form.createFormField(fields.street),\n\t\t\tzipCode: Form.createFormField(fields.zipCode),\n\t\t\tcity: Form.createFormField(fields.city),\n\t\t\tcountry: Form.createFormField(fields.country),\n\t\t\tlegalId: Form.createFormField(fields.legalId),\n\t\t\ttaxId: Form.createFormField(fields.taxId),\n\t\t\ttaxLegalId: Form.createFormField(fields.taxLegalId),\n\t\t\tbankIndex: Form.createFormField({\n\t\t\t\tvalue: bankList.find(\n\t\t\t\t\t([bankName, bankCode, swift]: any) =>\n\t\t\t\t\t\tbankCode === fields.bankCode.value\n\t\t\t\t)\n\t\t\t}),\n\t\t\tbankName: Form.createFormField(fields.bankName),\n\t\t\tbankCode: Form.createFormField(fields.bankCode),\n\t\t\tswift: Form.createFormField(fields.swift),\n\t\t\tiban: Form.createFormField(fields.iban),\n\t\t\tbankAccount: Form.createFormField(fields.bankAccount),\n\t\t\tname: Form.createFormField(fields.name),\n\t\t\temail: Form.createFormField(fields.email),\n\t\t\tphoneNr: Form.createFormField(fields.phoneNr),\n\t\t\tisOwn: Form.createFormField(isOwn ? { value: isOwn } : fields.isOwn)\n\t\t};\n\t},\n\tonValuesChange(props: ContactFormProps, values) {\n\t\tprops.onValuesChange && props.onValuesChange(values);\n\t}\n})(ContactForm);\n","import React, { Component } from 'react';\nimport { History, Location } from 'history';\nimport { PageHeader, message } from 'antd';\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\nimport LoadingOverlay from 'react-loading-overlay';\nimport { Spinner } from '../Spinner';\nimport { EnhancedContactForm as ContactForm } from './ContactForm';\nimport { Contact } from '../../classes/Contact';\nimport { ContactUIState } from '../../reducers/contactUI';\nimport './style.css';\n\nexport interface EditContactProps extends ContactUIState {\n\tcontactId: string;\n\tforceOwn: boolean;\n\tisBankRequired: boolean;\n\thistory: History;\n\tlocation: Location;\n\tbankList: [string, string, string][];\n\tfetchForm: (id: string) => void;\n\tonSave: (values: any, routerHistory: History) => Promise<Contact>;\n\tonFieldsChange: (changedFields: any, allFields: any) => void;\n\tonToggleBankSection: () => void;\n\tonToggleContactSection: () => void;\n}\n\nexport class EditContact extends Component<EditContactProps> {\n\tcomponentWillMount() {\n\t\tthis.props.fetchForm(this.props.contactId);\n\t}\n\n\tcomponentWillReceiveProps(nextProps: EditContactProps) {\n\t\tif (nextProps.contactId !== this.props.contactId) {\n\t\t\tthis.props.fetchForm(nextProps.contactId);\n\t\t}\n\t}\n\n\thandleSubmit = (e: React.FormEvent, form: WrappedFormUtils) => {\n\t\te.preventDefault();\n\t\tform.validateFieldsAndScroll((err: Error, values: any) => {\n\t\t\tif (err) {\n\t\t\t\tmessage.error('Formulár obsahuje chyby!');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconsole.log('submit', JSON.stringify(values));\n\t\t\tthis.props.onSave(values, this.props.history).catch(error => {\n\t\t\t\tmessage.error(error.message);\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tcontactId,\n\t\t\tforceOwn,\n\t\t\tisSaving,\n\t\t\tisFetching,\n\t\t\tisBankRequired,\n\t\t\tisBankExpanded,\n\t\t\tisContactExpanded,\n\t\t\tfields,\n\t\t\tbankList,\n\t\t\tonFieldsChange,\n\t\t\tonToggleBankSection,\n\t\t\tonToggleContactSection\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<LoadingOverlay\n\t\t\t\t\tclassNamePrefix=\"fz-loading-overlay_\"\n\t\t\t\t\tactive={isFetching}\n\t\t\t\t\tspinner={<Spinner />}\n\t\t\t\t\ttext=\"Nahrávam kontakt...\"\n\t\t\t\t\tstyles={{\n\t\t\t\t\t\toverlay: {},\n\t\t\t\t\t\tcontent: {}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<PageHeader\n\t\t\t\t\t\tonBack={() => this.props.history.goBack()}\n\t\t\t\t\t\ttitle={`Kontakt #${contactId}`}\n\t\t\t\t\t\tsubTitle=\"\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ContactForm\n\t\t\t\t\t\tfields={fields}\n\t\t\t\t\t\tbankList={bankList}\n\t\t\t\t\t\tisOwn={forceOwn}\n\t\t\t\t\t\tisBankRequired={isBankRequired}\n\t\t\t\t\t\tisSaving={isSaving}\n\t\t\t\t\t\tisBankExpanded={isBankExpanded}\n\t\t\t\t\t\tisContactExpanded={isContactExpanded}\n\t\t\t\t\t\tonFieldsChange={onFieldsChange}\n\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\tonToggleBankSection={onToggleBankSection}\n\t\t\t\t\t\tonToggleContactSection={onToggleContactSection}\n\t\t\t\t\t/>\n\t\t\t\t</LoadingOverlay>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { History } from 'history';\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom';\nimport { AnyAction } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { connect } from 'react-redux';\nimport { EditContact as EditContactComp } from '../components/EditContact';\nimport {\n\tsaveContact,\n\tfetchContactForm,\n\tupdateContactForm,\n\ttypes as t\n} from '../actions';\nimport { AppState } from '../reducers';\n\nconst selectFields = (state: AppState, ownProps: any) => {\n\tconst { contactUI } = state;\n\tconst { match } = ownProps;\n\tconst { id } = match.params;\n\n\tif (contactUI.fields.id && contactUI.fields.id.value === id) {\n\t\treturn contactUI.fields;\n\t}\n\n\treturn {};\n};\n\nconst mapStateToProps = (state: AppState, ownProps: any) => {\n\tconst { contactUI, bankList } = state;\n\tconst { location, match } = ownProps;\n\tconst { id } = match.params;\n\tconst qs = queryString.parse(location.search);\n\tconst forceOwn = qs.isOwn === 'true';\n\tconst fields = selectFields(state, ownProps);\n\n\treturn {\n\t\t...contactUI,\n\t\tcontactId: id,\n\t\tfields,\n\t\tbankList,\n\t\tforceOwn,\n\t\tisBankExpanded:\n\t\t\tforceOwn ||\n\t\t\t(fields.isOwn && (fields.isOwn.value || contactUI.isBankExpanded)),\n\t\tisBankRequired: forceOwn || (fields.isOwn && fields.isOwn.value)\n\t};\n};\n\nconst mapDispatchToProps = (\n\tdispatch: ThunkDispatch<AppState, null, AnyAction>\n) => ({\n\tfetchForm: (id: string) => dispatch(fetchContactForm(id)),\n\tonSave: (values: any, routerHistory: History) =>\n\t\tdispatch(saveContact(values, routerHistory)),\n\tonFieldsChange: (changedFields: any, allFields: any) =>\n\t\tdispatch(updateContactForm(changedFields, allFields)),\n\tonToggleBankSection: () =>\n\t\tdispatch({ type: t.CONTACT_FORM_TOGGLE, payload: 'bank' }),\n\tonToggleContactSection: () =>\n\t\tdispatch({ type: t.CONTACT_FORM_TOGGLE, payload: 'contact' })\n});\n\nexport const EditContact = withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(EditContactComp)\n);\n","import React, { Component } from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { Modal, Card, Button, Upload, Icon, message } from 'antd';\nimport { MergeResult } from '../../api';\nimport { UIState } from '../../reducers/ui';\nimport { Invoice } from '../../classes/Invoice';\nimport { Contact } from '../../classes/Contact';\nimport './style.css';\n\ntype MergeResults = [MergeResult<Contact>, MergeResult<Invoice>];\n\nexport interface ArchiveProps extends RouteComponentProps {\n\tui: UIState;\n\tonArchiveExport: () => Promise<void>;\n\tonArchiveImport: (archive: string) => Promise<MergeResults>;\n}\n\nexport class Archive extends Component<ArchiveProps> {\n\tshowConflicts = (mergeResults: MergeResults) => {\n\t\tconst groups = ['Kontakt', 'Faktúra'];\n\t\tconst rows = mergeResults.reduce(\n\t\t\t(memo, result, i) => {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tconst { items, conflicts } = result as any;\n\t\t\t\tconst rows = conflicts.map((conflict: any) => {\n\t\t\t\t\tconst item = items.find((doc: any) => doc.id === conflict.id);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<tr key={item.id} className=\"fz-overview-table__row\">\n\t\t\t\t\t\t\t<td className=\"fz-overview-table__row__cell fz-overview-table__row__cell--center fz-overview-table__row__cell--nowrap\">\n\t\t\t\t\t\t\t\t{group === 'Kontakt' ? conflict.entity : item.id}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"fz-overview-table__row__cell fz-overview-table__row__cell--center\">\n\t\t\t\t\t\t\t\t{item.revision || '0'}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"fz-overview-table__row__cell fz-overview-table__row__cell--center\">\n\t\t\t\t\t\t\t\t{conflict.revision || '0'}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"fz-overview-table__row__cell fz-overview-table__row__cell--right\">\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ttype=\"stop\"\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '16px', color: 'red' }}\n\t\t\t\t\t\t\t\t\ttheme=\"outlined\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tif (rows.length > 0) {\n\t\t\t\t\trows.unshift(\n\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\tkey={group}\n\t\t\t\t\t\t\tclassName=\"fz-overview-table__row fz-overview-table__row--group\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<td className=\"fz-overview-table__row__cell\" colSpan={4}>\n\t\t\t\t\t\t\t\t<strong>{group}</strong>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn memo.concat(rows);\n\t\t\t},\n\t\t\t[] as any\n\t\t);\n\t\tconst content = (\n\t\t\t<div>\n\t\t\t\t<div className=\"fz-overview-table-wrapper\">\n\t\t\t\t\t<table className=\"fz-overview-table\">\n\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t<col width=\"100\" />\n\t\t\t\t\t\t\t<col width=\"20\" />\n\t\t\t\t\t\t\t<col width=\"20\" />\n\t\t\t\t\t\t\t<col width=\"20\" />\n\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr className=\"fz-overview-table__row fz-overview-table__row--header\">\n\t\t\t\t\t\t\t\t<th className=\"fz-overview-table__row__cell\">Id.</th>\n\t\t\t\t\t\t\t\t<th className=\"fz-overview-table__row__cell\">AV*</th>\n\t\t\t\t\t\t\t\t<th className=\"fz-overview-table__row__cell\">IV**</th>\n\t\t\t\t\t\t\t\t<th className=\"fz-overview-table__row__cell\" />\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>{rows}</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<ul className=\"fz-explanatory-notes\">\n\t\t\t\t\t<li>* AV - aktuálna verzia</li>\n\t\t\t\t\t<li>** IV - verzia importovaného dokumentu</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\n\t\tModal.warning({\n\t\t\twidth: 540,\n\t\t\ttitle: 'Nasledovné položky boli vynechané z importu.',\n\t\t\tcontent\n\t\t});\n\t};\n\n\thandleExport = () => {\n\t\tconst hideMsg = message.loading('Vykonávam zálohu...', 0);\n\t\tthis.props\n\t\t\t.onArchiveExport()\n\t\t\t.then(() => {\n\t\t\t\thideMsg();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thideMsg();\n\t\t\t\tmessage.error(error.message);\n\t\t\t});\n\t};\n\n\thandleImport = (file: any) => {\n\t\tconst hideMsg = message.loading('Obnovujem zo zálohy...', 0);\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onerror = (e: Event) => {\n\t\t\t\treject(e);\n\t\t\t};\n\t\t\treader.onload = (e: Event) => {\n\t\t\t\tresolve(reader.result as any);\n\t\t\t};\n\t\t\treader.readAsText(file);\n\t\t})\n\t\t\t.then((archive: any) => {\n\t\t\t\tthis.props.onArchiveImport(archive as string).then(result => {\n\t\t\t\t\thideMsg();\n\t\t\t\t\tconst [contacts, invoices] = result;\n\t\t\t\t\tconst conflicts =\n\t\t\t\t\t\tcontacts.conflicts.length + invoices.conflicts.length;\n\t\t\t\t\tif (conflicts) {\n\t\t\t\t\t\tthis.showConflicts(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmessage.success('Archív bol naimportovaný');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thideMsg();\n\t\t\t\tmessage.error('Import zlyhal');\n\t\t\t});\n\n\t\treturn false;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Card style={{ marginBottom: 20 }}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tArchivácia databázy do súboru. Odporúča sa vykonávať túto činnosť\n\t\t\t\t\t\tpravidelne.\n\t\t\t\t\t</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button onClick={this.handleExport}>\n\t\t\t\t\t\t\t<Icon type=\"download\" /> Archivuj do súboru\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t\t<Card>\n\t\t\t\t\t<p>Import databázy z archívu.</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tExistujúce kontakty a faktúry budú zmenené len v prípade ak archív\n\t\t\t\t\t\tobsahuje ich novšiu verziu.\n\t\t\t\t\t</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\taccept=\".json\"\n\t\t\t\t\t\t\tbeforeUpload={this.handleImport}\n\t\t\t\t\t\t\tshowUploadList={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t<Icon type=\"upload\" /> Načítaj z archívu\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Upload>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { AnyAction } from 'redux';\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { withRouter } from 'react-router-dom';\nimport { importArchive, exportArchive } from '../actions';\nimport { Archive as ArchiveComp } from '../components/Archive';\nimport { AppState } from '../reducers';\n\nconst mapStateToProps = (state: AppState) => {\n\treturn {\n\t\tui: state.ui\n\t};\n};\n\nconst mapDispatchToProps = (\n\tdispatch: ThunkDispatch<AppState, null, AnyAction>\n) => {\n\treturn {\n\t\tonArchiveExport: () => dispatch(exportArchive()),\n\t\tonArchiveImport: (archive: string) => dispatch(importArchive(archive))\n\t};\n};\n\nexport const Archive = withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ArchiveComp)\n);\n","import React, { Component } from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { VisibleInvoiceList } from './containers/VisibleInvoiceList';\nimport { VisibleContactList } from './containers/VisibleContactList';\nimport { EditInvoice } from './containers/EditInvoice';\nimport { EditContact } from './containers/EditContact';\nimport { Archive } from './containers/Archive';\nimport { ClickParam } from 'antd/lib/menu';\nimport './App.css';\n\nconst { Header, Content, Footer } = Layout;\n\nexport const routes = [\n\t{\n\t\texact: true,\n\t\tpath: '/invoices/:id',\n\t\tcomponent: EditInvoice\n\t},\n\t{\n\t\texact: true,\n\t\tpath: '/invoices',\n\t\tcomponent: VisibleInvoiceList\n\t},\n\t{\n\t\texact: true,\n\t\tpath: '/contacts/:id',\n\t\tcomponent: EditContact\n\t},\n\t{\n\t\texact: true,\n\t\tpath: '/contacts',\n\t\tcomponent: VisibleContactList\n\t},\n\t{\n\t\texact: true,\n\t\tpath: '/archive',\n\t\tcomponent: Archive\n\t}\n];\n\nconst menuItems = [\n\t{\n\t\tkey: 'invoices',\n\t\tname: 'Faktúry'\n\t},\n\t{\n\t\tkey: 'contacts',\n\t\tname: 'Kontakty'\n\t},\n\t{\n\t\tkey: 'archive',\n\t\tname: 'Archív'\n\t}\n];\n\nclass App extends Component<any, any> {\n\tonMenuClicked = ({ key }: ClickParam) => {\n\t\tconst { history } = this.props;\n\t\thistory.push(`/${key}`);\n\t};\n\n\trender() {\n\t\tconst { pathname } = this.props.location;\n\t\tconst selectedMenu = menuItems.find(item => pathname.includes(item.key));\n\t\tconst selectedMenuKey = (selectedMenu && selectedMenu.key) || '';\n\n\t\treturn (\n\t\t\t<Layout className=\"fz-layout\">\n\t\t\t\t<Header className=\"fz-layout-header\">\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tclassName=\"fz-layout-header-menu\"\n\t\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\t\tmode=\"horizontal\"\n\t\t\t\t\t\tselectedKeys={[selectedMenuKey]}\n\t\t\t\t\t\tonClick={this.onMenuClicked}\n\t\t\t\t\t>\n\t\t\t\t\t\t{menuItems.map(({ key, name }) => (\n\t\t\t\t\t\t\t<Menu.Item key={key}>{name}</Menu.Item>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Menu>\n\t\t\t\t\t<div className=\"fz-logo\" />\n\t\t\t\t</Header>\n\t\t\t\t<Content className=\"fz-layout-content\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{routes.map((route, i) => (\n\t\t\t\t\t\t\t<Route key={i} {...route} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Switch>\n\t\t\t\t</Content>\n\t\t\t\t<Footer className=\"fz-layout-footer\">\n\t\t\t\t\t<div className=\"fz-footer-brand\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t©2019 <a href=\"https://fakturazdarma.sk/\">FakturaZdarma.sk</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a href=\"https://www.facebook.com/FakturaZdarma/\">\n\t\t\t\t\t\t\t<div className=\"fcb-find-us\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</Footer>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button } from 'antd';\nimport './style.css';\n\nconst { Content } = Layout;\n\nexport const NoMatch = () => (\n\t<Layout className=\"fz-layout\">\n\t\t<Content className=\"fz-layout-content\">\n\t\t\t<div className=\"antd-pro-components-exception-index-exception\">\n\t\t\t\t<div className=\"antd-pro-components-exception-index-imgBlock\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"antd-pro-components-exception-index-imgEle\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t'url(\"/static/img/undraw_page_not_found_su7k.svg\")'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"antd-pro-components-exception-index-content\">\n\t\t\t\t\t<div className=\"antd-pro-components-exception-index-desc\">\n\t\t\t\t\t\tPrepáčte nám, ale táto stránka neexistuje.\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"antd-pro-components-exception-index-actions\">\n\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t<Button className=\"ant-btn ant-btn-primary\">\n\t\t\t\t\t\t\t\tSpäť na úvodnú\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Content>\n\t</Layout>\n);\n","import React, { Component } from 'react';\nimport { Form, Icon, Input, Button, Checkbox } from 'antd';\nimport './style.css';\n\nclass NormalLoginForm extends Component<any, any> {\n\thandleSubmit = (e: React.FormEvent) => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((err: Error, values: any) => {\n\t\t\tif (!err) {\n\t\t\t\tthis.props.onLogIn(values.email, values.password, this.props.history);\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\treturn (\n\t\t\t<Form onSubmit={this.handleSubmit} className=\"fz-login-form\">\n\t\t\t\t<Form.Item>\n\t\t\t\t\t{getFieldDecorator('email', {\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your email!' }]\n\t\t\t\t\t})(\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tprefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t{getFieldDecorator('password', {\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your Password!' }]\n\t\t\t\t\t})(\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tprefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t{getFieldDecorator('remember', {\n\t\t\t\t\t\tvaluePropName: 'checked',\n\t\t\t\t\t\tinitialValue: true\n\t\t\t\t\t})(<Checkbox>Remember me</Checkbox>)}\n\t\t\t\t\t<a className=\"fz-login-form-forgot\" href=\"#/forgot-passwd\">\n\t\t\t\t\t\tForgot password\n\t\t\t\t\t</a>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\tclassName=\"fz-login-form-button\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</Button>\n\t\t\t\t\tOr <a href=\"#/register\">register now!</a>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t);\n\t}\n}\n\nconst WrappedNormalLoginForm = Form.create<any>({ name: 'normal_login' })(\n\tNormalLoginForm\n);\n\nexport { WrappedNormalLoginForm as LoginForm };\n","import React, { Component } from 'react';\nimport { LoginForm } from '../LoginForm';\nimport './style.css';\n\nexport class LoginPage extends Component<any, any> {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"fz-login-page\">\n\t\t\t\t<LoginForm {...this.props} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { History } from 'history';\nimport { logIn } from '../actions';\nimport { LoginPage } from '../components/LoginPage';\n\nconst mapStateToProps = (state: any) => {\n\treturn {\n\t\t...state.login\n\t};\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n\treturn {\n\t\tonLogIn: (email: string, password: string, routerHistory: History) => {\n\t\t\tdispatch(logIn(email, password, routerHistory));\n\t\t}\n\t};\n};\n\nexport const Login = withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(LoginPage) as any // TODO: fix type\n);\n","import { types as t, Action } from '../actions';\n\nexport const LoginState = {\n\tLOGGED_OUT: -1,\n\tLOGIN_IN_PROGRESS: 1,\n\tLOGGED_IN: 2\n};\n\nconst initialState = {\n\tloginState: LoginState.LOGGED_IN\n};\n\nexport const login = (state: any = initialState, action: Action) => {\n\tswitch (action.type) {\n\t\tcase t.LOG_IN:\n\t\t\treturn {\n\t\t\t\tloginState: LoginState.LOGIN_IN_PROGRESS\n\t\t\t};\n\t\tcase t.LOG_IN_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloginState: LoginState.LOGGED_IN\n\t\t\t};\n\t\tcase t.LOG_IN_FAILURE:\n\t\t\treturn {\n\t\t\t\tloginState: LoginState.LOGGED_OUT\n\t\t\t};\n\t\tcase t.LOG_OUT:\n\t\t\treturn {\n\t\t\t\tloginState: LoginState.LOGGED_OUT\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { LoginState } from '../../reducers/login';\n\nexport class PrivateRoute extends Component<any, any> {\n\trender() {\n\t\tconst { component: Component, loginState, ...rest } = this.props;\n\t\treturn (\n\t\t\t<Route\n\t\t\t\t{...rest}\n\t\t\t\trender={props => {\n\t\t\t\t\treturn loginState === LoginState.LOGGED_IN ? (\n\t\t\t\t\t\t<Component {...props} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: '/login',\n\t\t\t\t\t\t\t\tstate: { from: props.location }\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { connect } from 'react-redux';\nimport { PrivateRoute as PrivateRouteComp } from '../components/PrivateRoute';\n\nconst mapStateToProps = (state: any) => {\n\treturn {\n\t\t...state.login\n\t};\n};\n\nexport const PrivateRoute = connect(\n\tmapStateToProps,\n\t{}\n)(PrivateRouteComp) as any; // TODO: fix type\n","import { types as t, Action } from '../actions';\n\nexport type UIState = {\n\tlastError: Error | null;\n\tisFetching: boolean;\n\tisSaving: boolean;\n};\n\nconst initialState: UIState = {\n\tlastError: null,\n\tisFetching: false,\n\tisSaving: false\n};\n\nexport const ui = (state: UIState = initialState, action: Action): UIState => {\n\tconst { type } = action;\n\tswitch (type) {\n\t\tcase t.ARCHIVE_IMPORT:\n\t\t\treturn { ...state, isSaving: true, lastError: null };\n\t\tcase t.ARCHIVE_IMPORT_SUCCESS:\n\t\t\treturn { ...state, isSaving: false };\n\t\tcase t.ARCHIVE_IMPORT_FAILURE:\n\t\t\treturn { ...state, isSaving: false, lastError: action.payload };\n\t\tcase t.ARCHIVE_EXPORT:\n\t\t\treturn { ...state, isFetching: true, lastError: null };\n\t\tcase t.ARCHIVE_EXPORT_SUCCESS:\n\t\t\treturn { ...state, isFetching: false };\n\t\tcase t.ARCHIVE_EXPORT_FAILURE:\n\t\t\treturn { ...state, isFetching: false, lastError: action.payload };\n\t\tdefault:\n\t\t/* noop */\n\t}\n\n\tswitch (true) {\n\t\tcase /DELETE$/.test(type):\n\t\t\treturn { ...state, isSaving: true, lastError: null };\n\t\tcase /DELETE_SUCCESS$/.test(type):\n\t\t\treturn { ...state, isSaving: false };\n\t\tcase /DELETE_FAILURE$/.test(type):\n\t\t\treturn { ...state, isSaving: false, lastError: action.payload };\n\t\tcase /FETCH$/.test(type):\n\t\t\treturn { ...state, isFetching: true, lastError: null };\n\t\tcase /FETCH_SUCCESS$/.test(type):\n\t\t\treturn { ...state, isFetching: false };\n\t\tcase /FETCH_FAILURE$/.test(type):\n\t\t\treturn { ...state, isFetching: false, lastError: action.payload };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types as t, Action } from '../actions';\nimport { Contact } from '../classes/Contact';\nimport { InvoiceType } from '../classes/Invoice';\n\nexport type InvoiceUIState = {\n\tfields: any;\n\titemKeys: number[];\n\tisDraft: boolean;\n\tisFetching: boolean;\n\tisSaving: boolean;\n};\n\nconst initialState = {\n\tfields: {} as any,\n\titemKeys: [] as number[],\n\tisDraft: false,\n\tisFetching: false,\n\tisSaving: false\n};\n\nconst ui = (\n\tstate: InvoiceUIState = initialState,\n\taction: Action\n): InvoiceUIState => {\n\tswitch (action.type) {\n\t\tcase t.INVOICE_FETCH:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase t.INVOICE_FETCH_SUCCESS:\n\t\t\treturn { ...state, isFetching: false };\n\t\tcase t.INVOICE_FETCH_FAILURE:\n\t\t\treturn { ...state, isFetching: false };\n\t\tcase t.INVOICE_SAVE:\n\t\t\treturn { ...state, isSaving: true, isDraft: action.payload.isDraft };\n\t\tcase t.INVOICE_SAVE_SUCCESS:\n\t\t\treturn { ...state, isSaving: false };\n\t\tcase t.INVOICE_SAVE_FAILURE:\n\t\t\treturn { ...state, isSaving: false };\n\t\tcase t.INVOICE_FORM_REPLACE: {\n\t\t\treturn { ...state, ...action.payload };\n\t\t}\n\t\tcase t.CONTACT_SAVE_SUCCESS: {\n\t\t\tconst { fields } = state;\n\t\t\tconst contact: Contact = action.payload;\n\t\t\tif (contact.isOwn) {\n\t\t\t\tconst type = contact.isTaxable\n\t\t\t\t\t? InvoiceType.Taxable\n\t\t\t\t\t: InvoiceType.NonTax;\n\t\t\t\tfields.type = { value: type };\n\t\t\t\tfields.emitent = { value: contact.id };\n\t\t\t} else {\n\t\t\t\tfields.recipient = { value: contact.id };\n\t\t\t}\n\t\t\treturn { ...state, fields };\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const invoiceUI = (\n\tstate: InvoiceUIState = initialState,\n\taction: Action\n): InvoiceUIState => ui(state, action);\n","import { types as t, Action } from '../actions';\n\nexport type ContactUIState = {\n\tcontactId: string | null;\n\tisFetching: boolean;\n\tisSaving: boolean;\n\tisBankExpanded: boolean;\n\tisContactExpanded: boolean;\n\tfields: any;\n};\n\nconst initialState = {\n\tcontactId: null,\n\tisFetching: false,\n\tisSaving: false,\n\tisBankExpanded: false,\n\tisContactExpanded: false,\n\tfields: {}\n};\n\nconst fields = (state: any, action: Action) => {\n\tswitch (action.type) {\n\t\tcase t.CONTACT_SAVE_SUCCESS: {\n\t\t\treturn {};\n\t\t}\n\t\tcase t.CONTACT_FORM_REPLACE: {\n\t\t\treturn action.payload;\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nconst ui = (\n\tstate: ContactUIState = initialState,\n\taction: Action\n): ContactUIState => {\n\tswitch (action.type) {\n\t\tcase t.CONTACT_FETCH:\n\t\t\treturn { ...state, isFetching: true };\n\t\tcase t.CONTACT_FETCH_SUCCESS:\n\t\t\treturn { ...state, isFetching: false };\n\t\tcase t.CONTACT_FETCH_FAILURE:\n\t\t\treturn { ...state, isFetching: false };\n\t\tcase t.CONTACT_SAVE:\n\t\t\treturn { ...state, isSaving: true };\n\t\tcase t.CONTACT_SAVE_SUCCESS:\n\t\t\treturn { ...state, isSaving: false };\n\t\tcase t.CONTACT_SAVE_FAILURE:\n\t\t\treturn { ...state, isSaving: false };\n\t\tcase t.CONTACT_FORM_TOGGLE: {\n\t\t\tconst section = action.payload;\n\t\t\tconst newState = { ...state };\n\t\t\tswitch (section) {\n\t\t\t\tcase 'bank':\n\t\t\t\t\tnewState.isBankExpanded = !state.isBankExpanded;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'contact':\n\t\t\t\t\tnewState.isContactExpanded = !state.isContactExpanded;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}\n\t\t\treturn newState;\n\t\t}\n\t\tcase t.CONTACT_FORM_REPLACE:\n\t\t\treturn { ...state };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const contactUI = (\n\tstate: ContactUIState = initialState,\n\taction: Action\n): ContactUIState => ({\n\t...ui(state, action),\n\tfields: fields(state.fields, action)\n});\n","import { combineReducers } from 'redux';\nimport { login } from './login';\nimport { invoices } from './invoices';\nimport { contacts } from './contacts';\nimport { ui } from './ui';\nimport { invoiceUI } from './invoiceUI';\nimport { contactUI } from './contactUI';\nimport { visibilityFilter } from './visibilityFilter';\n\nconst rootReducer = combineReducers({\n\tlogin,\n\tinvoices,\n\tcontacts,\n\tbankList: (state: [string, string, string][] = []) => state,\n\tui,\n\tinvoiceUI,\n\tcontactUI,\n\tvisibilityFilter\n});\n\nexport type AppState = ReturnType<typeof rootReducer>;\nexport default rootReducer;\n","import { types as t, Action } from '../actions';\nimport { Invoice } from '../classes/Invoice';\n\nexport const invoices = (state: Invoice[] = [], action: Action): Invoice[] => {\n\tswitch (action.type) {\n\t\tcase t.ARCHIVE_IMPORT_SUCCESS:\n\t\t\treturn action.payload.invoices;\n\t\tcase t.INVOICES_DELETE_SUCCESS:\n\t\tcase t.INVOICES_FETCH_SUCCESS:\n\t\t\treturn action.payload;\n\t\tcase t.INVOICE_SAVE_SUCCESS: {\n\t\t\tconst newState = [...state];\n\t\t\tconst invoice = action.payload;\n\t\t\tconst invoiceIndex = newState.findIndex(c => c.id === invoice.id);\n\t\t\tif (invoiceIndex > -1) {\n\t\t\t\tnewState[invoiceIndex] = invoice;\n\t\t\t} else {\n\t\t\t\tnewState.push(invoice);\n\t\t\t}\n\t\t\treturn newState;\n\t\t}\n\t\tcase t.INVOICE_SAVE_FAILURE:\n\t\t\treturn state;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types as t, Action } from '../actions';\nimport { Contact } from '../classes/Contact';\n\nexport const contacts = (state: Contact[] = [], action: Action): Contact[] => {\n\tswitch (action.type) {\n\t\tcase t.ARCHIVE_IMPORT_SUCCESS:\n\t\t\treturn action.payload.contacts;\n\t\tcase t.CONTACTS_DELETE_SUCCESS:\n\t\tcase t.CONTACTS_FETCH_SUCCESS:\n\t\t\treturn action.payload;\n\t\tcase t.CONTACT_SAVE_SUCCESS: {\n\t\t\tconst newState = [...state];\n\t\t\tconst contact = action.payload;\n\t\t\tconst contactIndex = newState.findIndex(c => c.id === contact.id);\n\t\t\tif (contactIndex > -1) {\n\t\t\t\tnewState[contactIndex] = contact;\n\t\t\t} else {\n\t\t\t\tnewState.push(contact);\n\t\t\t}\n\t\t\treturn newState;\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types as t } from '../actions';\nimport { VisibilityFilters } from '../actions';\n\nexport const visibilityFilter = (\n\tstate = VisibilityFilters.SHOW_ALL,\n\taction: any\n) => {\n\tswitch (action.type) {\n\t\tcase t.SET_VISIBILITY_FILTER:\n\t\t\treturn action.filter;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","/**\n * @type [string, string, string][]\n */\nconst bankList = [\n\t['365.bank (Poštová banka, a.s. odštepný závod)', '6500', 'POBNSKBA'],\n\t['BANCO COFIDIS, S.A., pobočka zahr. banky', '8400', ''],\n\t['BKS BANK AG, pobočka zahr. banky', '8420', 'BFKKSKBB'],\n\t['Československá obchodná banka, a.s.', '7500', 'CEKOSKBX'],\n\t['Citibank Europe plc, pobočka zahr. banky', '8130', 'CITISKBA'],\n\t['COMMERZBANK Aktiengesellschaft, pobočka zahr. banky', '8050', 'COBASKBX'],\n\t['ČSOB stavebná sporiteľňa, a.s.', '8170', 'KBSPSKBX'],\n\t['EXIMBANKA SR', '8160', 'EXSKSKBX'],\n\t['Fio banka, a.s., pobočka zahr. banky', '8330', 'FIOZSKBA'],\n\t['ING Bank N.V., pobočka zahr. banky', '7300', 'INGBSKBX'],\n\t['J&T BANKA, a.s., pobočka zahr. banky', '8320', 'JTBPSKBA'],\n\t['KDB Bank Europe Ltd, pobočka zahran. banky', '8430', 'KODBSKBX'],\n\t['Komerční banka, a.s., pobočka zahr. banky', '8100', 'KOMBSKBA'],\n\t['mBank S.A., pobočka zahr. banky', '8360', 'BREXSKBX'],\n\t['Národná banka Slovenska', '0720', 'NBSBSKBX'],\n\t['Oberbank AG, pobočka zahr. banky v SR', '8370', 'OBKLSKBA'],\n\t['OTP banka Slovensko, a.s.', '5200', 'OTPVSKBX'],\n\t['Poštová banka, a.s.', '6500', 'POBNSKBA'],\n\t['Prima banka Slovensko, a.s. (DEXIA)', '5600', 'KOMASK2X'],\n\t['Privatbanka, a.s.', '8120', 'BSLOSK22'],\n\t['Prvá stavebná sporiteľňa, a.s.', '5900', 'PRVASKBA'],\n\t['Raiffeisen BANK (Tatra banka a.s., odštepný závod)', '1100', 'TATRSKBX'],\n\t['Slovenská sporiteľňa, a.s.', '0900', 'GIBASKBX'],\n\t['Slovenská záručná a rozvojová banka, a.s.', '3000', 'SLZBSKBA'],\n\t['Štátna pokladnica', '8180', 'SPSRSKBA'],\n\t['Tatra banka, a.s.', '1100', 'TATRSKBX'],\n\t['UniCredit Bank Slovakia, a.s.', '1111', 'UNCRSKBX'],\n\t['VÚB banka, a.s.', '0200', 'SUBASKBX'],\n\t['Wűstenrot stavebná sporiteľňa, a.s.', '7930', 'WUSTSKBA']\n];\n\n/*\nbankList.sort((a, b) => {\n\tconst aname = a[0].toLowerCase();\n\tconst bname = b[0].toLowerCase();\n\treturn aname.localeCompare(bname);\n});\n*/\n\nexport default bankList;\n","/* eslint-disable @typescript-eslint/no-use-before-define */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(\n\t\t\t(process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n\t\t\twindow.location.href\n\t\t);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n\tHashRouter as Router,\n\tSwitch,\n\tRedirect,\n\tRoute\n} from 'react-router-dom';\nimport { createStore, applyMiddleware, compose, AnyAction } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { LocaleProvider, notification } from 'antd';\nimport skSK from 'antd/lib/locale-provider/sk_SK';\nimport App, { routes } from './App';\nimport { NoMatch } from './components/NoMatch';\nimport { Login } from './containers/Login';\nimport { PrivateRoute } from './containers/PrivateRoute';\nimport { fetchContacts, fetchInvoices } from './actions';\nimport invoiceApp from './reducers';\nimport bankList from './api/bankList';\nimport * as serviceWorker from './serviceWorker';\nimport 'moment/locale/sk';\nimport './index.css';\n\nconst composeEnhancers =\n\t(window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n\tinvoiceApp,\n\t{ bankList },\n\tcomposeEnhancers(applyMiddleware(thunk))\n);\n\nstore.dispatch((fetchContacts() as unknown) as AnyAction);\nstore.dispatch((fetchInvoices() as unknown) as AnyAction);\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<LocaleProvider locale={skSK}>\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Redirect exact from=\"/\" to=\"/invoices\" />\n\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t{routes.map(({ path }, i) => (\n\t\t\t\t\t\t<PrivateRoute key={i} path={path} component={App} />\n\t\t\t\t\t))}\n\t\t\t\t\t<Route component={NoMatch} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</LocaleProvider>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n// serviceWorker.register({ onSuccess: () => {\n// \tstore.dispatch({ type: 'OFFLINE_READY' });\n// \tnotification.open({\n// \t\tmessage: 'Offline režim',\n// \t\tdescription:\n// \t\t  'Od teraz bude možné používať aplikáciu aj bez pripojenia k internetu na adrese moja.fakturazdarma.sk',\n// \t\tduration: 0,\n// \t\tonClick: () => {\n// \t\t\t// noop\n// \t\t},\n// \t  });\n// }});\n","export class Contact {\n\tid?: string;\n\tentity: string = '';\n\tname?: string;\n\tstreet?: string;\n\tcity?: string;\n\tzipCode?: string;\n\tcountry?: string;\n\tlegalId?: string;\n\ttaxId?: string;\n\ttaxLegalId?: string;\n\tiban?: string;\n\tbankAccount?: string;\n\tbankName?: string;\n\tbankCode?: string;\n\tswift?: string;\n\temail?: string;\n\tphoneNr?: string;\n\tisOwn?: boolean = false;\n\trevision?: number;\n\tupdatedAt?: Date;\n\n\tconstructor(contact?: Partial<Contact>) {\n\t\tObject.assign(this, contact);\n\t}\n\n\tget isTaxable() {\n\t\treturn !!this.taxLegalId;\n\t}\n}\n","import { Contact } from './Contact';\n\nexport class ContactMapper {\n\ttoFields(contact: Contact) {\n\t\treturn {\n\t\t\tid: { value: contact.id },\n\t\t\tentity: { value: contact.entity },\n\t\t\tstreet: { value: contact.street },\n\t\t\tzipCode: { value: contact.zipCode },\n\t\t\tcity: { value: contact.city },\n\t\t\tcountry: { value: contact.country },\n\t\t\tlegalId: { value: contact.legalId },\n\t\t\ttaxId: { value: contact.taxId },\n\t\t\ttaxLegalId: { value: contact.taxLegalId },\n\t\t\tbankName: { value: contact.bankName },\n\t\t\tbankCode: { value: contact.bankCode },\n\t\t\tswift: { value: contact.swift },\n\t\t\tiban: { value: contact.iban },\n\t\t\tbankAccount: { value: contact.bankAccount },\n\t\t\tname: { value: contact.name },\n\t\t\temail: { value: contact.email },\n\t\t\tphoneNr: { value: contact.phoneNr },\n\t\t\tisOwn: { value: !!contact.isOwn }\n\t\t};\n\t}\n\n\tfromFields(fields: any) {\n\t\tconst contact = Object.entries(fields).reduce(\n\t\t\t(memo, [key, val]: [string, any]) => {\n\t\t\t\tif (val && val.value) {\n\t\t\t\t\tmemo[key] = val.value;\n\t\t\t\t}\n\t\t\t\treturn memo;\n\t\t\t},\n\t\t\t{} as any\n\t\t);\n\t\treturn new Contact(contact);\n\t}\n}\n","import { History } from 'history';\nimport { Action } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\nimport client from '../api';\nimport { AppState } from '../reducers';\nimport * as t from './actionTypes';\nimport { Contact } from '../classes/Contact';\nimport { NotFoundException } from '../classes/NotFoundException';\nimport { ContactMapper } from '../classes/ContactMapper';\nimport { dynamicSort } from '../utils/sort';\n\nexport type ContactAction<R> = ThunkAction<R, AppState, null, Action<string>>;\n\nexport const createContact = (\n\trouterHistory: History,\n\tisOwn: boolean = false\n): ContactAction<Promise<number>> => (dispatch, getState) => {\n\tconst { contacts } = getState();\n\tlet newContactId = 1;\n\tconst contactsSortedByKeyDesc = [...contacts].sort(dynamicSort('-id'));\n\tif (contactsSortedByKeyDesc[0]) {\n\t\tnewContactId = Number(contactsSortedByKeyDesc[0].id) + 1;\n\t}\n\trouterHistory.push(\n\t\t`/contacts/${newContactId}${isOwn ? `?isOwn=${isOwn}` : ''}`\n\t);\n\treturn Promise.resolve(newContactId);\n};\n\nexport const fetchContacts = (): ContactAction<\n\tPromise<Contact[]>\n> => dispatch => {\n\tdispatch({ type: t.CONTACTS_FETCH, payload: {} });\n\treturn client.fetchContacts().then(\n\t\tcontacts => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACTS_FETCH_SUCCESS,\n\t\t\t\tpayload: contacts\n\t\t\t});\n\t\t\treturn contacts;\n\t\t},\n\t\terror => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACTS_FETCH_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t}\n\t);\n};\n\nexport const fetchContact = (\n\tid: string\n): ContactAction<Promise<Contact>> => dispatch => {\n\tdispatch({ type: t.CONTACT_FETCH, payload: {} });\n\treturn client\n\t\t.fetchContact(id)\n\t\t.then(contact => {\n\t\t\tif (!contact) {\n\t\t\t\tthrow new NotFoundException(`Kontakt \\`${id}\\` sa nenašiel!`);\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACT_FETCH_SUCCESS,\n\t\t\t\tpayload: contact\n\t\t\t});\n\t\t\treturn contact;\n\t\t})\n\t\t.catch(error => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACT_FETCH_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t});\n};\n\nexport const updateContactForm = (\n\tchangedFields: any,\n\tallFields: any\n): ContactAction<void> => (dispatch, getState) => {\n\tconst { bankList } = getState();\n\n\tif (changedFields.bankIndex) {\n\t\tconst [bankName, bankCode, swift] = bankList[changedFields.bankIndex.value];\n\t\tallFields = {\n\t\t\t...allFields,\n\t\t\tbankName: { value: bankName },\n\t\t\tbankCode: { value: bankCode },\n\t\t\tswift: { value: swift }\n\t\t};\n\t}\n\tdispatch({ type: t.CONTACT_FORM_REPLACE, payload: allFields });\n};\n\nexport const fetchContactForm = (id: string): ContactAction<void> => (\n\tdispatch,\n\tgetState\n) => {\n\tconst { contacts } = getState();\n\tconst contact = contacts.find((contact: Contact) => contact.id === id);\n\n\tif (!contact) {\n\t\treturn dispatch(fetchContact(id)).then(\n\t\t\tcontact => {\n\t\t\t\tconst fields = new ContactMapper().toFields(contact);\n\t\t\t\tdispatch(updateContactForm({}, fields));\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error instanceof NotFoundException) {\n\t\t\t\t\tconst contact = new Contact({ id, country: 'Slovensko' });\n\t\t\t\t\tconst fields = new ContactMapper().toFields(contact);\n\t\t\t\t\treturn dispatch(updateContactForm({}, fields));\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t);\n\t}\n\n\tconst fields = new ContactMapper().toFields(contact);\n\treturn dispatch(updateContactForm({}, fields));\n};\n\nexport const saveContact = (\n\tvalues: any,\n\trouterHistory: History\n): ContactAction<Promise<Contact>> => dispatch => {\n\tdispatch({ type: t.CONTACT_SAVE, payload: {} });\n\treturn client.saveContact(new Contact(values)).then(\n\t\tcontact => {\n\t\t\tcontact = new Contact(contact);\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACT_SAVE_SUCCESS,\n\t\t\t\tpayload: contact\n\t\t\t});\n\t\t\tif (routerHistory.length) {\n\t\t\t\trouterHistory.goBack();\n\t\t\t} else {\n\t\t\t\trouterHistory.replace('/contacts');\n\t\t\t}\n\n\t\t\treturn contact;\n\t\t},\n\t\terror => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACT_SAVE_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t}\n\t);\n};\n\nexport const deleteContacts = (\n\tkeys: string[]\n): ContactAction<void> => dispatch => {\n\tdispatch({ type: t.CONTACTS_DELETE, payload: keys });\n\treturn client.deleteContacts(keys).then(\n\t\tcontacts => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACTS_DELETE_SUCCESS,\n\t\t\t\tpayload: contacts\n\t\t\t});\n\t\t\t// routerHistory.replace('/');\n\t\t},\n\t\terror => {\n\t\t\tdispatch({\n\t\t\t\ttype: t.CONTACTS_DELETE_FAILURE,\n\t\t\t\tpayload: error\n\t\t\t});\n\t\t\t// Rethrow so returned Promise is rejected\n\t\t\tthrow error;\n\t\t}\n\t);\n};\n","/**\n * Function to sort alphabetically an array of objects by some specific key.\n *\n * @param {String} property Key of the object to sort.\n */\nexport const dynamicSort = (property: any) => {\n\tlet sortOrder = 1;\n\n\tif (property[0] === '-') {\n\t\tsortOrder = -1;\n\t\tproperty = property.substr(1);\n\t}\n\n\treturn (a: any, b: any) => {\n\t\tif (sortOrder === -1) {\n\t\t\treturn b[property].localeCompare(a[property], 'en', { numeric: true });\n\t\t} else {\n\t\t\treturn a[property].localeCompare(b[property], 'en', { numeric: true });\n\t\t}\n\t};\n};\n","import moment from 'moment';\nimport { Invoice, PaymentTypeEnum } from './Invoice';\nimport { InvoiceItem } from './InvoiceItem';\nimport {\n\tdateFormat,\n\tcurrencyFormat,\n\tformatIBAN,\n\tformatZipCode\n} from '../utils/formatters';\nimport { Contact } from './Contact';\n\nconst DEFAULT_INVOICE_DESCRIPTION =\n\t'Fakturujeme Vám za dodaný tovar alebo služby:';\nconst DEFAULT_INVOICE_LAST_TEXT =\n\t'Tovar zostáva až do úplného uhradenia majetkom dodávateľa. Pri oneskorenej úhrade Vám budeme účtovať penále vo výške 0,05% za každý začatý deň omeškania.';\n\nconst formatDate = (date?: Date) => {\n\tif (date) {\n\t\tconst dateAsString = dateFormat.format(date);\n\t\treturn dateAsString.toUpperCase().replace(/[^A-Z0-9\\\\.]/g, '');\n\t}\n};\n\nexport class InvoiceMapper {\n\ttoItemFields(items: InvoiceItem[]) {\n\t\treturn items.reduce(\n\t\t\t(fields, item, i) => {\n\t\t\t\tfields.itemsNames[i] = { value: item.name };\n\t\t\t\tfields.pricesPU[i] = { value: item.pricePerUnit };\n\t\t\t\tfields.units[i] = { value: item.unit };\n\t\t\t\tfields.amounts[i] = { value: item.amount };\n\t\t\t\tfields.taxRates[i] = { value: item.taxRate };\n\t\t\t\treturn fields;\n\t\t\t},\n\t\t\t{\n\t\t\t\titemsNames: [],\n\t\t\t\tpricesPU: [],\n\t\t\t\tunits: [],\n\t\t\t\tamounts: [],\n\t\t\t\ttaxRates: []\n\t\t\t} as any\n\t\t);\n\t}\n\n\ttoFields(invoice: Invoice) {\n\t\tconst { recipient, emitent, items } = invoice;\n\n\t\treturn {\n\t\t\tid: {\n\t\t\t\tvalue: invoice.id\n\t\t\t},\n\t\t\ttype: {\n\t\t\t\tvalue: invoice.type\n\t\t\t},\n\t\t\trecipient: {\n\t\t\t\tvalue: (recipient && recipient.entity) || null\n\t\t\t},\n\t\t\temitent: {\n\t\t\t\tvalue: (emitent && emitent.entity) || null\n\t\t\t},\n\t\t\tpaymentType: {\n\t\t\t\tvalue: invoice.paymentType\n\t\t\t},\n\t\t\tdueDate: {\n\t\t\t\tvalue: invoice.dueDate && moment(invoice.dueDate)\n\t\t\t},\n\t\t\tissueDate: {\n\t\t\t\tvalue: invoice.issueDate && moment(invoice.issueDate)\n\t\t\t},\n\t\t\tdeliveryDate: {\n\t\t\t\tvalue: invoice.deliveryDate && moment(invoice.deliveryDate)\n\t\t\t},\n\t\t\tpaymentDate: {\n\t\t\t\tvalue: invoice.paymentDate && moment(invoice.paymentDate)\n\t\t\t},\n\t\t\tvariableSymbol: {\n\t\t\t\tvalue: invoice.variableSymbol || invoice.id\n\t\t\t},\n\t\t\tconstantSymbol: {\n\t\t\t\tvalue: invoice.constantSymbol\n\t\t\t},\n\t\t\torderNr: {\n\t\t\t\tvalue: invoice.orderNr\n\t\t\t},\n\t\t\tdescription: {\n\t\t\t\tvalue: invoice.description || DEFAULT_INVOICE_DESCRIPTION\n\t\t\t},\n\t\t\tfinalText: {\n\t\t\t\tvalue: invoice.finalText || DEFAULT_INVOICE_LAST_TEXT\n\t\t\t},\n\t\t\tdiscount: {\n\t\t\t\tvalue: invoice.discount\n\t\t\t},\n\t\t\t...this.toItemFields(items)\n\t\t};\n\t}\n\n\ttoInvoiceItems(fields: any, itemKeys: number[]) {\n\t\tconst {\n\t\t\titemsNames = [],\n\t\t\tpricesPU = [],\n\t\t\tunits = [],\n\t\t\tamounts = [],\n\t\t\ttaxRates = []\n\t\t} = fields;\n\t\tconst items: InvoiceItem[] = [];\n\t\titemKeys.forEach(key => {\n\t\t\titems[key] = new InvoiceItem({\n\t\t\t\tname: itemsNames[key] && itemsNames[key].value,\n\t\t\t\tunit: units[key] && units[key].value,\n\t\t\t\tpricePerUnit: pricesPU[key] && pricesPU[key].value,\n\t\t\t\tamount: amounts[key] && amounts[key].value,\n\t\t\t\ttaxRate: taxRates[key] && taxRates[key].value\n\t\t\t});\n\t\t});\n\t\treturn items;\n\t}\n\n\tfromFields(fields: any, itemKeys: number[]) {\n\t\tconst {\n\t\t\tid = {},\n\t\t\ttype = {},\n\t\t\tpaymentType = {},\n\t\t\tdueDate = {},\n\t\t\tissueDate = {},\n\t\t\tdeliveryDate = {},\n\t\t\tpaymentDate = {},\n\t\t\tvariableSymbol = {},\n\t\t\tconstantSymbol = {},\n\t\t\torderNr = {},\n\t\t\tdescription = {},\n\t\t\tfinalText = {},\n\t\t\tdiscount = {}\n\t\t} = fields;\n\t\tconst invoice = new Invoice({\n\t\t\tid: id.value,\n\t\t\ttype: Number(type.value),\n\t\t\tpaymentType: paymentType.value,\n\t\t\tdueDate: dueDate.value && dueDate.value.toDate(),\n\t\t\tissueDate: issueDate.value && issueDate.value.toDate(),\n\t\t\tdeliveryDate: deliveryDate.value && deliveryDate.value.toDate(),\n\t\t\tpaymentDate: paymentDate.value && paymentDate.value.toDate(),\n\t\t\tvariableSymbol: variableSymbol.value,\n\t\t\tconstantSymbol: constantSymbol.value,\n\t\t\torderNr: orderNr.value,\n\t\t\tdescription: description.value,\n\t\t\tfinalText: finalText.value,\n\t\t\tdiscount: discount.value,\n\t\t\titems: this.toInvoiceItems(fields, itemKeys)\n\t\t});\n\t\treturn invoice;\n\t}\n\n\tfromValues(values: any, itemKeys: number[]) {\n\t\tconst { itemsNames, pricesPU, units, amounts, taxRates } = values;\n\t\tconst items: InvoiceItem[] = itemKeys.map(key => {\n\t\t\treturn new InvoiceItem({\n\t\t\t\tname: itemsNames[key],\n\t\t\t\tunit: units[key],\n\t\t\t\tpricePerUnit: pricesPU[key],\n\t\t\t\tamount: amounts[key],\n\t\t\t\ttaxRate: (taxRates && taxRates[key]) || 0\n\t\t\t});\n\t\t});\n\n\t\tconst invoice = new Invoice({\n\t\t\tid: values.id,\n\t\t\ttype: Number(values.type),\n\t\t\tpaymentType: values.paymentType,\n\t\t\tdueDate: values.dueDate && values.dueDate.toDate(),\n\t\t\tissueDate: values.issueDate && values.issueDate.toDate(),\n\t\t\tdeliveryDate: values.deliveryDate && values.deliveryDate.toDate(),\n\t\t\tpaymentDate: values.paymentDate && values.paymentDate.toDate(),\n\t\t\tvariableSymbol: values.variableSymbol,\n\t\t\tconstantSymbol: values.constantSymbol,\n\t\t\torderNr: values.orderNr,\n\t\t\tdescription: values.description,\n\t\t\tfinalText: values.finalText,\n\t\t\tdiscount: values.discount,\n\t\t\titems: items\n\t\t});\n\t\treturn invoice;\n\t}\n\n\ttoPlainObject(invoice: Invoice) {\n\t\tconst formatCurrency = currencyFormat.format;\n\t\tconst { emitent = new Contact(), recipient = new Contact() } = invoice;\n\n\t\tlet paymentType = '';\n\t\tswitch (invoice.paymentType) {\n\t\t\tcase PaymentTypeEnum.WireTransfer:\n\t\t\t\tpaymentType = 'Prevodom';\n\t\t\t\tbreak;\n\t\t\tcase PaymentTypeEnum.Card:\n\t\t\t\tpaymentType = 'Kartou';\n\t\t\t\tbreak;\n\t\t\tcase PaymentTypeEnum.Cash:\n\t\t\t\tpaymentType = 'V hotovosti';\n\t\t\t\tbreak;\n\t\t\tcase PaymentTypeEnum.CashOnDelivery:\n\t\t\t\tpaymentType = 'Dobierka';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t/* noop */\n\t\t}\n\n\t\treturn {\n\t\t\tid: invoice.id,\n\t\t\ttype: invoice.type,\n\t\t\tpaymentType: paymentType,\n\t\t\tdueDate: invoice.dueDate && formatDate(invoice.dueDate),\n\t\t\tissueDate: invoice.issueDate && formatDate(invoice.issueDate),\n\t\t\tdeliveryDate: invoice.deliveryDate && formatDate(invoice.deliveryDate),\n\t\t\tpaymentDate: invoice.paymentDate && formatDate(invoice.paymentDate),\n\t\t\tvariableSymbol: invoice.variableSymbol,\n\t\t\tconstantSymbol: invoice.constantSymbol,\n\t\t\torderNr: invoice.orderNr,\n\t\t\tdescription: invoice.description,\n\t\t\tfinalText: invoice.finalText,\n\t\t\tdiscount: invoice.discount,\n\t\t\titems: invoice.items.map(item => ({\n\t\t\t\t...item,\n\t\t\t\tpricePerUnit: formatCurrency(item.pricePerUnit),\n\t\t\t\tgrossPrice: formatCurrency(item.grossPrice),\n\t\t\t\tnetPrice: formatCurrency(item.netPrice),\n\t\t\t\ttaxPrice: formatCurrency(item.taxPrice)\n\t\t\t})),\n\t\t\temitent: {\n\t\t\t\t...invoice.emitent,\n\t\t\t\tiban: formatIBAN(emitent.iban as string),\n\t\t\t\tzipCode: formatZipCode(emitent.zipCode as string)\n\t\t\t},\n\t\t\trecipient: {\n\t\t\t\t...invoice.recipient,\n\t\t\t\tzipCode: formatZipCode(recipient.zipCode as string)\n\t\t\t},\n\t\t\tgrossPrice: formatCurrency(invoice.grossPrice),\n\t\t\tnetPrice: formatCurrency(invoice.netPrice),\n\t\t\tdiscountPrice: formatCurrency(invoice.discountPrice)\n\t\t};\n\t}\n}\n"],"sourceRoot":""}